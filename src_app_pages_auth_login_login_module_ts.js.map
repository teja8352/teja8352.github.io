{"version":3,"file":"src_app_pages_auth_login_login_module_ts.js","mappings":"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","sources":["./src/app/pages/auth/login/login-routing.module.ts","./src/app/pages/auth/login/login.module.ts","./src/app/pages/auth/login/login.page.ts","./src/app/services/common/common.service.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    LoginPageRoutingModule\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { UntypedFormBuilder, UntypedFormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { LoadingController, AlertController } from '@ionic/angular';\nimport { AuthService } from 'src/app/services/auth/auth.service';\nimport { CommonService } from 'src/app/services/common/common.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n\n  public loginForm: UntypedFormGroup;\n\n  constructor(\n    private fb: UntypedFormBuilder,\n    private authService: AuthService,\n    private loadingController: LoadingController,\n    private alertController: AlertController,\n    private router: Router,\n    private commonService: CommonService\n  ) { }\n\n  ngOnInit() {\n    this.createForm();\n  }\n\n  createForm() {\n    this.loginForm = this.fb.group({\n      email: [null, [Validators.required, Validators.email]],\n      password: [null, [Validators.required, Validators.minLength(6)]],\n    });\n  }\n\n  async register() {\n    const loading = await this.loadingController.create();\n    await loading.present();\n\n    const user = await this.authService.register(this.loginForm.value);\n    await loading.dismiss();\n\n    if (user) {\n      this.router.navigateByUrl('/home', { replaceUrl: true });\n    } else {\n      this.showAlert('Registration failed', 'Please try again!');\n    }\n  }\n\n  async login() {\n    const loading = await this.loadingController.create();\n    await loading.present();\n\n    const user = await this.authService.login(this.loginForm.value);\n    await loading.dismiss();\n\n    console.log('user::::::::::\\n', user);\n    if (user.code === 'auth/user-not-found') {\n      this.commonService.presentToast('Email doesn\\'t exists with us', 'danger');\n      return;\n    } else if (user.code === 'auth/wrong-password') {\n      this.commonService.presentToast('Invalid Password', 'danger');\n      return;\n    }\n\n    if (user) {\n      this.router.navigateByUrl('/gurukul', { replaceUrl: true });\n    } else {\n      this.showAlert('Login failed', 'Please try again!');\n    }\n  }\n\n  async showAlert(header, message) {\n    const alert = await this.alertController.create({\n      header,\n      message,\n      buttons: ['OK'],\n    });\n    await alert.present();\n  }\n\n  // Easy access for form fields\n  get email() {\n    return this.loginForm.get('email');\n  }\n\n  get password() {\n    return this.loginForm.get('password');\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { LoadingController, NavController, ToastController } from '@ionic/angular';\nimport { NavigationOptions } from '@ionic/angular/providers/nav-controller';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CommonService {\n\n  public loading: HTMLIonLoadingElement = null;\n  constructor(\n    private loadingCtrl: LoadingController,\n    private toastCtrl: ToastController,\n    private navCtrl: NavController\n  ) { }\n\n  /**\n   * @description presentLoading will trigger the loading in application.\n   * @param message - Message to display in loading. Default: 'please wait...'\n   * @returns Void\n   * @author THE FLASH <ktejaat1995@gmail.com>\n   */\n  presentLoader(message = 'Please wait...') {\n    this.loadingCtrl.create({\n      message,\n      backdropDismiss: false,\n      cssClass: 'pointer-events-none'\n    }).then((loading: HTMLIonLoadingElement) => {\n      // if (this.loading !== null) {\n      //   this.loading.dismiss();\n      //   this.loading = null;\n      // }\n      this.loading = loading;\n      this.loading.present();\n    });\n  }\n\n  /**\n   * @description dismissLoading will dismiss the loading.\n   * @returns Void\n   * @author THE FLASH <ktejaat1995@gmail.com>\n   */\n  dismissLoading() {\n    // setTimeout(() => {\n    //   this.loading.dismiss()\n    // }, 1000);\n  }\n\n  dismissLoader() {\n    setTimeout(() => {\n      this.loadingCtrl.getTop().then(l => {\n        l?.dismiss();\n      });\n      this.loading?.dismiss();\n    }, 100);\n  }\n\n  presentToast(message = 'Please wait...', color = 'primary', duration = 3000) {\n    this.toastCtrl.create({\n      cssClass: '',\n      color,\n      duration,\n      message,\n    }).then(toast => {\n      toast.present();\n    }, err => {\n      console.error('Error while toasting message', err);\n    });\n  }\n\n  isValidData(dataToCheck: any) {\n    return dataToCheck !== undefined && dataToCheck !== null && dataToCheck !== '' && dataToCheck !== [] && Object.keys(dataToCheck).length !== 0;\n  }\n\n  getExtension(url: string) {\n    let type: string = url.split(/[]/)[0].split('.').pop().trim();\n    // let type: string = url.split(/[#?]/)[0].split('.').pop().trim();\n    if (['jpg', 'jpeg', 'png', 'gif', 'tiff', 'svg'].includes(type.toLowerCase())) {\n      type = 'image';\n    } else if (['mp3', 'm4a', 'acc', 'ogg', 'wma', 'flac', 'alac'].includes(type.toLowerCase())) {\n      type = 'audio';\n    } else if (['3gp', 'mp4', 'mov', 'wmv', 'flv', 'avi', 'avchd', 'webm', 'mkv'].includes(type.toLowerCase())) {\n      type = 'video';\n    } else if (['zip', 'rar'].includes(type.toLowerCase())) {\n      type = 'archive';\n    }\n    return type.toLowerCase();\n  }\n\n  navigateForward(url: string, state: NavigationOptions = {}) {\n    this.navCtrl.navigateForward(url, state);\n  }\n\n  navigateBack(url: string, state: NavigationOptions = {}) {\n    this.navCtrl.navigateBack(url, state);\n  }\n\n  navigateRoot(url: string, state: NavigationOptions = {}) {\n    this.navCtrl.setDirection('root');\n    this.navCtrl.navigateRoot(url, state);\n  }\n}\n"],"names":["Component","UntypedFormBuilder","Validators","Router","LoadingController","AlertController","AuthService","CommonService","LoginPage","constructor","fb","authService","loadingController","alertController","router","commonService","ngOnInit","createForm","loginForm","group","email","required","password","minLength","register","loading","create","present","user","value","dismiss","navigateByUrl","replaceUrl","showAlert","login","console","log","code","presentToast","header","message","alert","buttons","get","selector","template"],"sourceRoot":"webpack:///"}