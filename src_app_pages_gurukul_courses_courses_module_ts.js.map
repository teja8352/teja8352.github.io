{"version":3,"file":"src_app_pages_gurukul_courses_courses_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACc;AAEV;AAE7C,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,sDAAW;KACvB;IACD;QACE,IAAI,EAAE,OAAO;QACb,YAAY,EAAE,GAAG,EAAE,CAAC,gUAA+B,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,eAAe,CAAC;KACjF;IACD;QACE,IAAI,EAAE,MAAM;QACZ,YAAY,EAAE,GAAG,EAAE,CAAC,0ZAA6B,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,cAAc,CAAC;KAC9E;IACD;QACE,IAAI,EAAE,UAAU;QAChB,YAAY,EAAE,GAAG,EAAE,CAAC,4IAAqC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,iBAAiB,CAAC;KACzF;CACF,CAAC;IAMW,wBAAwB,SAAxB,wBAAwB;CAAI;AAA5B,wBAAwB;IAJpC,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,yDAAY,CAAC;KACxB,CAAC;GACW,wBAAwB,CAAI;AAAJ;;;;;;;;;;;;;;;;;;;;;;;AC5BI;AACM;AACF;AAEA;AAEuB;AAEvB;IAWhC,iBAAiB,SAAjB,iBAAiB;CAAG;AAApB,iBAAiB;IAT7B,uDAAQ,CAAC;QACR,OAAO,EAAE;YACP,yDAAY;YACZ,uDAAW;YACX,uDAAW;YACX,6EAAwB;SACzB;QACD,YAAY,EAAE,CAAC,sDAAW,CAAC;KAC5B,CAAC;GACW,iBAAiB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnB9B;AACA;AAGA;AACA;AACA;AACA;IAOaQ,WAAW,SAAXA,WAAW;EAStBC,YACUC,WADV,EAEUC,EAFV,EAGUC,SAHV,EAIUC,aAJV,EAKUC,YALV,EAMUC,WANV,EAOUC,WAPV,EAOwC;IAN9B;IACA;IACA;IACA;IACA;IACA;IACA;IAdH,eAAoB,EAApB;IACA,uBAA4B,EAA5B;IACC,0BAA0B,IAA1B;IACD,4BAA4B;MACjCC,MAAM,EAAE;IADyB,CAA5B;IAaL,KAAKC,kBAAL,GAA0B,KAAKR,WAAL,CAAiBS,UAAjB,GAA8BC,SAA9B,CAAwCC,GAAG,IAAG;MACtE,KAAKC,OAAL,GAAe,CAAC,GAAGD,GAAJ,CAAf;MACA,KAAKE,eAAL,GAAuB,CAAC,GAAGF,GAAJ,CAAvB;MACA,KAAKV,EAAL,CAAQa,aAAR;IACD,CAJyB,CAA1B;EAKD;;EAEDC,QAAQ,IAAY;;EAEdC,SAAS;IAAA;;IAAA;MACb,MAAMC,KAAK,SAAS,KAAI,CAACf,SAAL,CAAegB,MAAf,CAAsB;QACxCX,MAAM,EAAE,YADgC;QAExCY,MAAM,EAAE,CACN;UACEC,IAAI,EAAE,OADR;UAEEC,WAAW,EAAE,oBAFf;UAGEC,IAAI,EAAE;QAHR,CADM,EAMN;UACEF,IAAI,EAAE,YADR;UAEEC,WAAW,EAAE,gBAFf;UAGEC,IAAI,EAAE;QAHR,CANM,EAWN;UACEF,IAAI,EAAE,aADR;UAEEC,WAAW,EAAE,0BAFf;UAGEC,IAAI,EAAE;QAHR,CAXM,CAFgC;QAmBxCC,OAAO,EAAE,CACP;UACEC,IAAI,EAAE,QADR;UAEEC,IAAI,EAAE;QAFR,CADO,EAIJ;UACDD,IAAI,EAAE,KADL;UAEDE,OAAO,EAAEf,GAAG,IAAG;YACb,KAAI,CAACX,WAAL,CAAiBgB,SAAjB,CAA2B;cAAEW,WAAW,EAAEhB,GAAG,CAACgB,WAAnB;cAAgCC,KAAK,EAAEjB,GAAG,CAACiB,KAA3C;cAAkDC,UAAU,EAAElB,GAAG,CAACkB,UAAlE;cAA8EC,MAAM,EAAE;YAAtF,CAA3B;UACD;QAJA,CAJI;MAnB+B,CAAtB,CAApB;MA+BA,MAAMb,KAAK,CAACc,OAAN,EAAN;IAhCa;EAiCd;;EAEDC,UAAU,CAACC,MAAD,EAAe;IACvB,KAAK7B,YAAL,CAAkB8B,OAAlB,CAA0B,QAA1B,EAAoCD,MAApC;IACA,KAAK9B,aAAL,CAAmBgC,eAAnB,CAAmC,OAAnC;EACD;;EAEDC,YAAY,CAACC,KAAD,EAAW;IACrB,MAAMP,MAAM,GAAGO,KAAK,CAACC,MAAN,CAAaC,KAA5B;IACA,KAAK1B,eAAL,GAAuB,KAAKD,OAAL,CAAa4B,MAAb,CAAoBC,CAAC,IAAIA,CAAC,CAACX,MAAF,CAASY,WAAT,OAA2BZ,MAAM,CAACY,WAAP,EAApD,CAAvB;;IACA,IAAIZ,MAAM,CAACY,WAAP,OAAyB,KAA7B,EAAoC;MAClC,KAAK7B,eAAL,GAAuB,CAAC,GAAG,KAAKD,OAAT,CAAvB;IACD;EACF;;EAED+B,gBAAgB,CAACN,KAAD,EAAaJ,MAAb,EAA2B;IACzCI,KAAK,CAACO,eAAN;IACA,MAAMd,MAAM,GAAWG,MAAM,CAACH,MAAP,KAAkB,UAAlB,GAA+B,QAA/B,GAA0C,UAAjE;IACA,KAAK9B,WAAL,CAAiB6C,YAAjB,CAA8BZ,MAAM,CAACa,EAArC,EAAyC;MAAEhB;IAAF,CAAzC,EAAqDiB,IAArD,CAA0DpC,GAAG,IAAG,CAC9D;IACD,CAFD,EAEGqC,GAAG,IAAG;MACPC,OAAO,CAACC,KAAR,CAAc,0CAAd,EAA0DF,GAA1D;IACD,CAJD;EAKD;;EAEDG,YAAY,CAACd,KAAD,EAAaJ,MAAb,EAA2B;IACrCI,KAAK,CAACO,eAAN;IACA,KAAK5C,WAAL,CAAiB6C,YAAjB,CAA8BZ,MAAM,CAACa,EAArC,EAAyC;MAAEhB,MAAM,EAAE;IAAV,CAAzC,EAAgEiB,IAAhE,CAAqEpC,GAAG,IAAG,CACzE;IACD,CAFD,EAEGqC,GAAG,IAAG;MACPC,OAAO,CAACC,KAAR,CAAc,0CAAd,EAA0DF,GAA1D;IACD,CAJD;EAKD;;EAEDI,SAAS,CAACC,KAAD,EAAQC,IAAR,EAAY;IACnB,OAAOA,IAAI,CAACR,EAAZ;EACD;;EAEDS,MAAM;IACJ,KAAKlD,WAAL,CAAiBkD,MAAjB;EACD;;EAEDC,WAAW;IACT,KAAKhD,kBAAL,EAAyBiD,WAAzB;EACD;;AAxGqB;;;QAPf5D,oEAAWA;;QAPQN,4DAAiBA;;QACpCC,2DAAeA;;QAIfG,iFAAaA;;QACbC,8EAAYA;;QAFZF,2EAAWA;;QAHMD,6DAAiBA;;;AAa9BK,WAAW,sDALvBR,wDAAS,CAAC;EACToE,QAAQ,EAAE,aADD;EAETC,UAAAA,0DAFS;;AAAA,CAAD,CAKc,GAAX7D,WAAW,CAAX","sources":["./src/app/pages/gurukul/courses/courses-routing.module.ts","./src/app/pages/gurukul/courses/courses.module.ts","./src/app/pages/gurukul/courses/courses.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CoursesPage } from './courses.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CoursesPage,\n  },\n  {\n    path: \"tests\",\n    loadChildren: () => import(\"../tests/tests.module\").then(m => m.TestsPageModule)\n  },\n  {\n    path: \"test\",\n    loadChildren: () => import(\"../test/test.module\").then(m => m.TestPageModule)\n  },\n  {\n    path: \"add-test\",\n    loadChildren: () => import(\"../add-test/add-test.module\").then(m => m.AddTestPageModule)\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CoursesPageRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CoursesPageRoutingModule } from './courses-routing.module';\n\nimport { CoursesPage } from './courses.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CoursesPageRoutingModule\n  ],\n  declarations: [CoursesPage]\n})\nexport class CoursesPageModule {}\n","import { Component, OnInit, ChangeDetectorRef } from '@angular/core';\nimport { AlertController, LoadingController } from '@ionic/angular';\nimport { Constants } from 'src/app/constants/constants';\nimport { Course, Status } from 'src/app/models/course.interface';\nimport { AuthService } from 'src/app/services/auth/auth.service';\nimport { CommonService } from 'src/app/services/common/common.service';\nimport { StateService } from 'src/app/services/state/state.service';\nimport { DataService } from '../../../services/data/data.service';\n\n@Component({\n  selector: 'app-courses',\n  templateUrl: './courses.page.html',\n  styleUrls: ['./courses.page.scss'],\n})\nexport class CoursesPage implements OnInit {\n\n  public courses: Course[] = [];\n  public filteredCourses: Course[] = [];\n  private courseSubscription: any = null;\n  public customPopOverOptions: any = {\n    header: 'Filter course'\n  };\n\n  constructor(\n    private dataService: DataService,\n    private cd: ChangeDetectorRef,\n    private alertCtrl: AlertController,\n    private commonService: CommonService,\n    private stateService: StateService,\n    private authService: AuthService,\n    private loadingCtrl: LoadingController\n  ) {\n    this.courseSubscription = this.dataService.getCourses().subscribe(res => {\n      this.courses = [...res];\n      this.filteredCourses = [...res];\n      this.cd.detectChanges();\n    });\n  }\n\n  ngOnInit(): void { }\n\n  async addCourse() {\n    const alert = await this.alertCtrl.create({\n      header: 'Add Course',\n      inputs: [\n        {\n          name: 'title',\n          placeholder: 'Enter course title',\n          type: 'text'\n        },\n        {\n          name: 'applicable',\n          placeholder: 'Applicable for',\n          type: 'text'\n        },\n        {\n          name: 'description',\n          placeholder: 'Enter course description',\n          type: 'textarea'\n        },\n      ],\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel'\n        }, {\n          text: 'Add',\n          handler: res => {\n            this.dataService.addCourse({ description: res.description, title: res.title, applicable: res.applicable, status: 'ACTIVE' });\n          }\n        }\n      ]\n    });\n    await alert.present();\n  }\n\n  openCourse(course: Course) {\n    this.stateService.setData('course', course);\n    this.commonService.navigateForward('tests');\n  }\n\n  filterCourse(event: any) {\n    const status = event.detail.value;\n    this.filteredCourses = this.courses.filter(c => c.status.toLowerCase() === status.toLowerCase());\n    if (status.toLowerCase() === 'all') {\n      this.filteredCourses = [...this.courses];\n    }\n  }\n\n  deactivateCourse(event: any, course: Course) {\n    event.stopPropagation();\n    const status: Status = course.status === 'INACTIVE' ? 'ACTIVE' : 'INACTIVE';\n    this.dataService.updateCourse(course.id, { status }).then(res => {\n      //\n    }, err => {\n      console.error('Error wjile deleteing course::::::::::\\n', err);\n    });\n  }\n\n  deleteCourse(event: any, course: Course) {\n    event.stopPropagation();\n    this.dataService.updateCourse(course.id, { status: 'DELETED' }).then(res => {\n      //\n    }, err => {\n      console.error('Error wjile deleteing course::::::::::\\n', err);\n    });\n  }\n\n  trackByFn(index, item) {\n    return item.id;\n  }\n\n  logout() {\n    this.authService.logout();\n  }\n\n  ngOnDestory() {\n    this.courseSubscription?.unsubscribe();\n  }\n}\n"],"names":["Component","ChangeDetectorRef","AlertController","LoadingController","AuthService","CommonService","StateService","DataService","CoursesPage","constructor","dataService","cd","alertCtrl","commonService","stateService","authService","loadingCtrl","header","courseSubscription","getCourses","subscribe","res","courses","filteredCourses","detectChanges","ngOnInit","addCourse","alert","create","inputs","name","placeholder","type","buttons","text","role","handler","description","title","applicable","status","present","openCourse","course","setData","navigateForward","filterCourse","event","detail","value","filter","c","toLowerCase","deactivateCourse","stopPropagation","updateCourse","id","then","err","console","error","deleteCourse","trackByFn","index","item","logout","ngOnDestory","unsubscribe","selector","template"],"sourceRoot":"webpack:///"}