"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5913],{5913:(M,g,n)=>{n.r(g),n.d(g,{CoursesPageModule:()=>I});var u=n(6895),C=n(433),s=n(2346),p=n(9461),m=n(5861),e=n(8274),f=n(9244),v=n(9763),T=n(6857),Z=n(1228);function b(t,a){1&t&&(e.TgZ(0,"ion-col",20)(1,"ion-toolbar",21)(2,"ion-title",22),e._uU(3," No courses found. "),e.qZA()()())}function x(t,a){if(1&t){const o=e.EpF();e.TgZ(0,"ion-buttons",32)(1,"ion-button",33),e.NdJ("click",function(r){e.CHM(o);const l=e.oxw().$implicit,c=e.oxw();return e.KtG(c.deleteCourse(r,l))}),e._UZ(2,"ion-icon",34),e.qZA()()}}const P=function(t){return{"disable-without-events":t}};function A(t,a){if(1&t){const o=e.EpF();e.TgZ(0,"ion-col",23)(1,"ion-item",24),e.NdJ("click",function(){const l=e.CHM(o).$implicit,c=e.oxw();return e.KtG("DELETED"===l.status?"":c.openCourse(l))}),e.TgZ(2,"ion-label",25)(3,"h2",26),e._uU(4),e.qZA(),e.TgZ(5,"ion-text",27)(6,"p",28),e._uU(7),e.qZA()(),e.TgZ(8,"ion-item",29)(9,"ion-button",30),e.NdJ("click",function(r){const c=e.CHM(o).$implicit,d=e.oxw();return e.KtG(d.deactivateCourse(r,c))}),e._uU(10),e.qZA(),e.YNc(11,x,3,0,"ion-buttons",31),e.qZA()()()()}if(2&t){const o=a.$implicit;e.xp6(1),e.Q6J("ngClass",e.VKq(6,P,"DELETED"===o.status)),e.xp6(3),e.hij(" ",o.title," "),e.xp6(3),e.hij(" ",o.description||"Description not available"," "),e.xp6(2),e.Q6J("color","ACTIVE"===o.status?"primary":"medium"),e.xp6(1),e.hij(" ","ACTIVE"===o.status?"Active":"Inactive",""),e.xp6(1),e.Q6J("ngIf","DELETED"!==o.status)}}const E=[{path:"",component:(()=>{class t{constructor(o,i,r,l,c,d,S){this.dataService=o,this.cd=i,this.alertCtrl=r,this.commonService=l,this.stateService=c,this.authService=d,this.loadingCtrl=S,this.courses=[],this.filteredCourses=[],this.courseSubscription=null,this.customPopOverOptions={header:"Filter course"},this.courseSubscription=this.dataService.getCourses().subscribe(h=>{this.courses=[...h],this.filteredCourses=[...h],this.cd.detectChanges()})}ngOnInit(){}addCourse(){var o=this;return(0,m.Z)(function*(){yield(yield o.alertCtrl.create({header:"Add Course",inputs:[{name:"title",placeholder:"Enter course title",type:"text"},{name:"applicable",placeholder:"Applicable for",type:"text"},{name:"description",placeholder:"Enter course description",type:"textarea"}],buttons:[{text:"Cancel",role:"cancel"},{text:"Add",handler:r=>{o.dataService.addCourse({description:r.description,title:r.title,applicable:r.applicable,status:"ACTIVE"})}}]})).present()})()}openCourse(o){this.stateService.setData("course",o),this.commonService.navigateForward("tests")}filterCourse(o){const i=o.detail.value;this.filteredCourses=this.courses.filter(r=>r.status.toLowerCase()===i.toLowerCase()),"all"===i.toLowerCase()&&(this.filteredCourses=[...this.courses])}deactivateCourse(o,i){o.stopPropagation(),this.dataService.updateCourse(i.id,{status:"INACTIVE"===i.status?"ACTIVE":"INACTIVE"}).then(l=>{},l=>{console.error("Error wjile deleteing course::::::::::\n",l)})}deleteCourse(o,i){o.stopPropagation(),this.dataService.updateCourse(i.id,{status:"DELETED"}).then(r=>{},r=>{console.error("Error wjile deleteing course::::::::::\n",r)})}trackByFn(o,i){return i.id}logout(){this.authService.logout()}ngOnDestory(){this.courseSubscription?.unsubscribe()}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(f.D),e.Y36(e.sBO),e.Y36(s.Br),e.Y36(v.v),e.Y36(T.b),e.Y36(Z.e),e.Y36(s.HT))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-courses"]],decls:33,vars:6,consts:[[3,"translucent"],["slot","start"],["icon","chevron-back-outline","defaultHref","gurukul"],[1,"px-3","pb-2"],["color","light","input","","lines","none"],["placeholder","Select filter","interface","popover","value","all",3,"interfaceOptions","ionChange"],["value","all"],["value","active"],["value","inactive"],["value","deleted"],["slot","end","color","dark","name","chevron-down-outline"],[3,"fullscreen"],["collapse","condense"],["size","large"],[1,"ion-no-padding"],["size","12",4,"ngIf"],["size","6","size-lg","4","size-xl","3",4,"ngFor","ngForOf","ngForTrackBy"],["vertical","bottom","horizontal","end","slot","fixed"],[1,"rounded-pill",3,"click"],["name","add"],["size","12"],["color","light"],[1,"size-14","fw-bold","m-0","p-3","ion-border"],["size","6","size-lg","4","size-xl","3"],["color","white","lines","none",1,"border-right","border-bottom","ion-no-padding","p-2","pl-3","h-100",2,"--inner-padding-end","0",3,"ngClass","click"],[1,"ion-text-wrap","mb-0"],[1,"fw-semi-bold"],["color","medium"],[1,"mt-2"],["lines","none",1,"ion-no-padding",2,"--inner-padding-end","0"],["size","small",3,"color","click"],["class","m-0","slot","end",4,"ngIf"],["slot","end",1,"m-0"],["color","danger",3,"click"],["slot","icon-only","name","trash-outline"]],template:function(o,i){1&o&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e._UZ(3,"ion-back-button",2),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5," Courses "),e.qZA()(),e.TgZ(6,"ion-toolbar",3)(7,"ion-item",4)(8,"ion-label"),e._uU(9,"Filter Course"),e.qZA(),e.TgZ(10,"ion-select",5),e.NdJ("ionChange",function(l){return i.filterCourse(l)}),e.TgZ(11,"ion-select-option",6),e._uU(12,"All"),e.qZA(),e.TgZ(13,"ion-select-option",7),e._uU(14,"Active"),e.qZA(),e.TgZ(15,"ion-select-option",8),e._uU(16,"Inactive"),e.qZA(),e.TgZ(17,"ion-select-option",9),e._uU(18,"Deleted"),e.qZA()(),e._UZ(19,"ion-icon",10),e.qZA()()(),e.TgZ(20,"ion-content",11)(21,"ion-header",12)(22,"ion-toolbar")(23,"ion-title",13),e._uU(24,"Courses"),e.qZA()()(),e.TgZ(25,"ion-grid",14)(26,"ion-row"),e.YNc(27,b,4,0,"ion-col",15),e.YNc(28,A,12,8,"ion-col",16),e.qZA()(),e.TgZ(29,"ion-fab",17)(30,"ion-fab-button",18),e.NdJ("click",function(){return i.addCourse()}),e._UZ(31,"ion-icon",19),e._uU(32," Add Course "),e.qZA()()()),2&o&&(e.Q6J("translucent",!0),e.xp6(10),e.Q6J("interfaceOptions",i.customPopOverOptions),e.xp6(10),e.Q6J("fullscreen",!0),e.xp6(7),e.Q6J("ngIf",i.filteredCourses.length<=0),e.xp6(1),e.Q6J("ngForOf",i.filteredCourses)("ngForTrackBy",i.trackByFn))},dependencies:[u.mk,u.sg,u.O5,s.oU,s.YG,s.Sm,s.wI,s.W2,s.IJ,s.W4,s.jY,s.Gu,s.gu,s.Ie,s.Q$,s.Nd,s.t9,s.n0,s.yW,s.sr,s.wd,s.QI,s.cs],styles:["ion-fab[_ngcontent-%COMP%]{bottom:20px;right:20px}ion-fab[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]{width:150px}@media (min-width: 992px){ion-fab[_ngcontent-%COMP%]{bottom:32px;right:32px}}"]}),t})()},{path:"tests",loadChildren:()=>Promise.all([n.e(2396),n.e(8592)]).then(n.bind(n,620)).then(t=>t.TestsPageModule)},{path:"test",loadChildren:()=>Promise.all([n.e(2396),n.e(6665),n.e(9084)]).then(n.bind(n,9084)).then(t=>t.TestPageModule)},{path:"add-test",loadChildren:()=>n.e(8592).then(n.bind(n,7800)).then(t=>t.AddTestPageModule)}];let y=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.Bz.forChild(E),p.Bz]}),t})(),I=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.ez,C.u5,s.Pc,y]}),t})()}}]);