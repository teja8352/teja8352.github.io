"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9658],{9658:(v,c,i)=>{i.r(c),i.d(c,{ChatRoomPageModule:()=>C});var l=i(6895),u=i(433),e=i(2346),r=i(9461),o=i(8274),m=i(9244),g=i(9763);function h(n,a){if(1&n&&(o.TgZ(0,"ion-col",15)(1,"ion-badge"),o._uU(2),o.qZA()()),2&n){const t=o.oxw().$implicit;o.xp6(2),o.Oqu(null==t?null:t.unread_messages)}}function d(n,a){if(1&n){const t=o.EpF();o.TgZ(0,"ion-col",8)(1,"ion-item",9),o.NdJ("click",function(){const R=o.CHM(t).$implicit,Z=o.oxw();return o.KtG(Z.openChat(R))}),o.TgZ(2,"ion-avatar",10),o._UZ(3,"ion-img",11),o.qZA(),o.TgZ(4,"ion-label")(5,"h2"),o._uU(6),o.qZA(),o.TgZ(7,"p"),o._uU(8),o.qZA()(),o.TgZ(9,"ion-note",12)(10,"ion-grid",13)(11,"ion-row",14)(12,"ion-col",15)(13,"ion-text")(14,"p",16),o._uU(15),o.ALo(16,"date"),o.qZA()()(),o.YNc(17,h,3,1,"ion-col",17),o.qZA()()()()()}if(2&n){const t=a.$implicit;o.xp6(6),o.Oqu(null==t?null:t.student_name),o.xp6(2),o.Oqu(null==t?null:t.last_msg),o.xp6(7),o.Oqu(o.xi3(16,4,null==t||null==t.updated_at?null:t.updated_at.toDate(),"dd MMM YYY hh:mm")),o.xp6(2),o.Q6J("ngIf",(null==t?null:t.unread_messages)>0)}}const p=[{path:"",component:(()=>{class n{constructor(t,s){this.dataService=t,this.commonService=s,this.chatRooms=[],this.chatRoomSubscriber=null}ngOnInit(){}ionViewWillEnter(){this.chatRoomSubscriber=this.dataService.getChats().subscribe(t=>{this.chatRooms=t},t=>{console.error("Error while getting chats::::::::::::\n",t)})}ionViewWillLeave(){this.chatRoomSubscriber.unsubscribe()}openChat(t){localStorage.setItem("chat",JSON.stringify(t)),this.commonService.navigateForward("chat")}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(m.D),o.Y36(g.v))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-chat-room"]],decls:14,vars:3,consts:[[3,"translucent"],["slot","start"],["icon","chevron-back-outline","defaultHref","gurukul"],[3,"fullscreen"],["collapse","condense"],["size","large"],[1,"ion-no-padding"],["size","12","size-md","6","size-lg","4","size-xl","3",4,"ngFor","ngForOf"],["size","12","size-md","6","size-lg","4","size-xl","3"],[3,"click"],[1,"mr-3"],["src","../../../../assets/student.png"],["slot","end",1,"m-0","ion-text-end","ion-no-paddin","h-100"],[1,"ion-no-padding","h-100"],[1,"h-100"],["size","12"],[1,"m-0"],["size","12",4,"ngIf"]],template:function(t,s){1&t&&(o.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),o._UZ(3,"ion-back-button",2),o.qZA(),o.TgZ(4,"ion-title"),o._uU(5," Chat "),o.qZA()()(),o.TgZ(6,"ion-content",3)(7,"ion-header",4)(8,"ion-toolbar")(9,"ion-title",5),o._uU(10,"Chat"),o.qZA()()(),o.TgZ(11,"ion-grid",6)(12,"ion-row"),o.YNc(13,d,18,7,"ion-col",7),o.qZA()()()),2&t&&(o.Q6J("translucent",!0),o.xp6(6),o.Q6J("fullscreen",!0),o.xp6(7),o.Q6J("ngForOf",s.chatRooms))},dependencies:[l.sg,l.O5,e.BJ,e.oU,e.yp,e.Sm,e.wI,e.W2,e.jY,e.Gu,e.Xz,e.Ie,e.Q$,e.uN,e.Nd,e.yW,e.sr,e.wd,e.cs,l.uU],styles:["ion-avatar[_ngcontent-%COMP%]{width:48px;height:48px}ion-badge[_ngcontent-%COMP%]{font-size:.7rem}"]}),n})()}];let f=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[r.Bz.forChild(p),r.Bz]}),n})(),C=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[l.ez,u.u5,e.Pc,f]}),n})()}}]);