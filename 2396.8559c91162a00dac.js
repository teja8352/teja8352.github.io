(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2396,8759],{6578:(X,a,k)=>{"use strict";k.d(a,{V:()=>F});var i=k(5861),R=k(3725),D=k(208),K=k(8274),j=k(7323);let F=(()=>{class E{constructor(I,B,O){this.auth=I,this.firestore=B,this.storage=O}getUserProfile(){const B=(0,R.JU)(this.firestore,`users/${this.auth.currentUser.uid}`);return(0,R._1)(B,{idField:"id"})}uploadCourse(I){var B=this;return(0,i.Z)(function*(){const O=B.auth.currentUser,m=(0,D.iH)(B.storage,`uploads/${O.uid}/profile.png`);try{yield(0,D.sf)(m,I.base64String,"base64");const _=yield(0,D.Jt)(m),T=(0,R.JU)(B.firestore,`users/${O.uid}`);return yield(0,R.pl)(T,{imageUrl:_}),!0}catch{return null}})()}uploadReview(I){var B=this;return(0,i.Z)(function*(){const m=(0,D.iH)(B.storage,`uploads/reviews/${I.name}`);try{return yield(0,D.KV)(m,I.file),{file_url:yield(0,D.Jt)(m)}}catch(_){return{error:_}}})()}pushFileToStorage(I,B){var O=this;return(0,i.Z)(function*(){const _=(0,D.iH)(O.storage,B||`uploads/test/${I.name}`);try{return yield(0,D.KV)(_,I.file),{file_url:yield(0,D.Jt)(_)}}catch(T){return{error:T}}})()}deleteFile(I){var B=this;return(0,i.Z)(function*(){const O=(0,D.iH)(B.storage,I);(0,D.oq)(O).then(V=>V).catch(V=>V)})()}}return E.\u0275fac=function(I){return new(I||E)(K.LFG(j.gx),K.LFG(R.gg),K.LFG(D.Ke))},E.\u0275prov=K.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})()},6036:function(module,__unused_webpack_exports,__webpack_require__){var _classStaticPrivateMethodGet=__webpack_require__(9393).default,_defineProperty=__webpack_require__(9713).default,_classPrivateMethodInitSpec=__webpack_require__(3448).default,_classPrivateMethodGet=__webpack_require__(4877).default,_classPrivateFieldInitSpec=__webpack_require__(3606).default,_classPrivateFieldSet=__webpack_require__(5962).default,_classPrivateFieldGet=__webpack_require__(1226).default,_asyncToGenerator=__webpack_require__(8926).default,k;k=function(){return(()=>{"use strict";var __webpack_modules__=[,(X,a,k)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.VerbosityLevel=a.Util=a.UnknownErrorException=a.UnexpectedResponseException=a.UNSUPPORTED_FEATURES=a.TextRenderingMode=a.StreamType=a.RenderingIntentFlag=a.PermissionFlag=a.PasswordResponses=a.PasswordException=a.PageActionEventType=a.OPS=a.MissingPDFException=a.IsLittleEndianCached=a.IsEvalSupportedCached=a.InvalidPDFException=a.ImageKind=a.IDENTITY_MATRIX=a.FormatError=a.FontType=a.FONT_IDENTITY_MATRIX=a.DocumentActionEventType=a.CMapCompressionType=a.BaseException=a.AnnotationType=a.AnnotationStateModelType=a.AnnotationReviewState=a.AnnotationReplyType=a.AnnotationMode=a.AnnotationMarkedState=a.AnnotationFlag=a.AnnotationFieldFlag=a.AnnotationBorderStyleType=a.AnnotationActionEventType=a.AbortException=void 0,a.arrayByteLength=Y,a.arraysToBytes=function ie(ne){const J=ne.length;if(1===J&&ne[0]instanceof Uint8Array)return ne[0];let te=0;for(let ve=0;ve<J;ve++)te+=Y(ne[ve]);let pe=0;const ge=new Uint8Array(te);for(let ve=0;ve<J;ve++){let me=ne[ve];me instanceof Uint8Array||(me="string"==typeof me?q(me):new Uint8Array(me));const Se=me.byteLength;ge.set(me,pe),pe+=Se}return ge},a.assert=function Q(ne,J){ne||H(J)},a.bytesToString=function $(ne){("object"!=typeof ne||null===ne||void 0===ne.length)&&H("Invalid argument for bytesToString");const J=ne.length;if(J<8192)return String.fromCharCode.apply(null,ne);const pe=[];for(let ge=0;ge<J;ge+=8192){const ve=Math.min(ge+8192,J),me=ne.subarray(ge,ve);pe.push(String.fromCharCode.apply(null,me))}return pe.join("")},a.createPromiseCapability=function we(){const ne=Object.create(null);let J=!1;return Object.defineProperty(ne,"settled",{get:()=>J}),ne.promise=new Promise(function(te,pe){ne.resolve=function(ge){J=!0,te(ge)},ne.reject=function(ge){J=!0,pe(ge)}}),ne},a.createValidAbsoluteUrl=function s(ne,J=null,te=null){if(!ne)return null;try{if(te&&"string"==typeof ne){if(te.addDefaultProtocol&&ne.startsWith("www.")){const ge=ne.match(/\./g);ge&&ge.length>=2&&(ne=`http://${ne}`)}if(te.tryConvertEncoding)try{ne=re(ne)}catch{}}const pe=J?new URL(ne,J):new URL(ne);if(function l(ne){if(!ne)return!1;switch(ne.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(pe))return pe}catch{}return null},a.escapeString=function z(ne){return ne.replace(/([()\\\n\r])/g,J=>"\n"===J?"\\n":"\r"===J?"\\r":`\\${J}`)},a.getModificationDate=function Ae(ne=new Date){return[ne.getUTCFullYear().toString(),(ne.getUTCMonth()+1).toString().padStart(2,"0"),ne.getUTCDate().toString().padStart(2,"0"),ne.getUTCHours().toString().padStart(2,"0"),ne.getUTCMinutes().toString().padStart(2,"0"),ne.getUTCSeconds().toString().padStart(2,"0")].join("")},a.getVerbosityLevel=function P(){return r},a.info=function N(ne){r>=f.INFOS&&console.log(`Info: ${ne}`)},a.isArrayBuffer=function ce(ne){return"object"==typeof ne&&null!==ne&&void 0!==ne.byteLength},a.isArrayEqual=function de(ne,J){if(ne.length!==J.length)return!1;for(let te=0,pe=ne.length;te<pe;te++)if(ne[te]!==J[te])return!1;return!0},a.isAscii=function Z(ne){return/^[\x00-\x7F]*$/.test(ne)},a.isSameOrigin=function S(ne,J){let te;try{if(te=new URL(ne),!te.origin||"null"===te.origin)return!1}catch{return!1}const pe=new URL(J,te);return te.origin===pe.origin},a.objectFromMap=function ue(ne){const J=Object.create(null);for(const[te,pe]of ne)J[te]=pe;return J},a.objectSize=function he(ne){return Object.keys(ne).length},a.setVerbosityLevel=function y(ne){Number.isInteger(ne)&&(r=ne)},a.shadow=g,a.string32=function oe(ne){return String.fromCharCode(ne>>24&255,ne>>16&255,ne>>8&255,255&ne)},a.stringToBytes=q,a.stringToPDFString=function w(ne){if(ne[0]>="\xef"){let te;if("\xfe"===ne[0]&&"\xff"===ne[1]?te="utf-16be":"\xff"===ne[0]&&"\xfe"===ne[1]?te="utf-16le":"\xef"===ne[0]&&"\xbb"===ne[1]&&"\xbf"===ne[2]&&(te="utf-8"),te)try{const pe=new TextDecoder(te,{fatal:!0}),ge=q(ne);return pe.decode(ge)}catch(pe){G(`stringToPDFString: "${pe}".`)}}const J=[];for(let te=0,pe=ne.length;te<pe;te++){const ge=ee[ne.charCodeAt(te)];J.push(ge?String.fromCharCode(ge):ne.charAt(te))}return J.join("")},a.stringToUTF16BEString=function se(ne){const J=["\xfe\xff"];for(let te=0,pe=ne.length;te<pe;te++){const ge=ne.charCodeAt(te);J.push(String.fromCharCode(ge>>8&255),String.fromCharCode(255&ge))}return J.join("")},a.stringToUTF8String=re,a.unreachable=H,a.utf8StringToString=function le(ne){return unescape(encodeURIComponent(ne))},a.warn=G,k(2),a.IDENTITY_MATRIX=[1,0,0,1,0,0],a.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],a.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},a.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},a.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},a.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},a.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},a.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},a.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},a.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},a.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},a.AnnotationReplyType={GROUP:"Group",REPLY:"R"},a.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},a.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},a.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},a.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},a.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},a.PageActionEventType={O:"PageOpen",C:"PageClose"},a.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},a.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const f={ERRORS:0,WARNINGS:1,INFOS:5};a.VerbosityLevel=f,a.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},a.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},a.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},a.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let r=f.WARNINGS;function G(ne){r>=f.WARNINGS&&console.log(`Warning: ${ne}`)}function H(ne){throw new Error(ne)}function g(ne,J,te){return Object.defineProperty(ne,J,{value:te,enumerable:!0,configurable:!0,writable:!1}),te}const c=function(){function J(te,pe){this.constructor===J&&H("Cannot initialize BaseException."),this.message=te,this.name=pe}return J.prototype=new Error,J.constructor=J,J}();function q(ne){"string"!=typeof ne&&H("Invalid argument for stringToBytes");const J=ne.length,te=new Uint8Array(J);for(let pe=0;pe<J;++pe)te[pe]=255&ne.charCodeAt(pe);return te}function Y(ne){return void 0!==ne.length?ne.length:void 0!==ne.byteLength?ne.byteLength:void H("Invalid argument for arrayByteLength")}a.BaseException=c,a.PasswordException=class e extends c{constructor(J,te){super(J,"PasswordException"),this.code=te}},a.UnknownErrorException=class o extends c{constructor(J,te){super(J,"UnknownErrorException"),this.details=te}},a.InvalidPDFException=class p extends c{constructor(J){super(J,"InvalidPDFException")}},a.MissingPDFException=class M extends c{constructor(J){super(J,"MissingPDFException")}},a.UnexpectedResponseException=class A extends c{constructor(J,te){super(J,"UnexpectedResponseException"),this.status=te}},a.FormatError=class d extends c{constructor(J){super(J,"FormatError")}},a.AbortException=class W extends c{constructor(J){super(J,"AbortException")}},a.IsLittleEndianCached={get value(){return g(this,"value",function ae(){const ne=new Uint8Array(4);return ne[0]=1,1===new Uint32Array(ne.buffer,0,1)[0]}())}},a.IsEvalSupportedCached={get value(){return g(this,"value",function ye(){try{return new Function(""),!0}catch{return!1}}())}};const _e=[...Array(256).keys()].map(ne=>ne.toString(16).padStart(2,"0"));class Ee{static makeHexColor(J,te,pe){return`#${_e[J]}${_e[te]}${_e[pe]}`}static transform(J,te){return[J[0]*te[0]+J[2]*te[1],J[1]*te[0]+J[3]*te[1],J[0]*te[2]+J[2]*te[3],J[1]*te[2]+J[3]*te[3],J[0]*te[4]+J[2]*te[5]+J[4],J[1]*te[4]+J[3]*te[5]+J[5]]}static applyTransform(J,te){return[J[0]*te[0]+J[1]*te[2]+te[4],J[0]*te[1]+J[1]*te[3]+te[5]]}static applyInverseTransform(J,te){const pe=te[0]*te[3]-te[1]*te[2];return[(J[0]*te[3]-J[1]*te[2]+te[2]*te[5]-te[4]*te[3])/pe,(-J[0]*te[1]+J[1]*te[0]+te[4]*te[1]-te[5]*te[0])/pe]}static getAxialAlignedBoundingBox(J,te){const pe=Ee.applyTransform(J,te),ge=Ee.applyTransform(J.slice(2,4),te),ve=Ee.applyTransform([J[0],J[3]],te),me=Ee.applyTransform([J[2],J[1]],te);return[Math.min(pe[0],ge[0],ve[0],me[0]),Math.min(pe[1],ge[1],ve[1],me[1]),Math.max(pe[0],ge[0],ve[0],me[0]),Math.max(pe[1],ge[1],ve[1],me[1])]}static inverseTransform(J){const te=J[0]*J[3]-J[1]*J[2];return[J[3]/te,-J[1]/te,-J[2]/te,J[0]/te,(J[2]*J[5]-J[4]*J[3])/te,(J[4]*J[1]-J[5]*J[0])/te]}static apply3dTransform(J,te){return[J[0]*te[0]+J[1]*te[1]+J[2]*te[2],J[3]*te[0]+J[4]*te[1]+J[5]*te[2],J[6]*te[0]+J[7]*te[1]+J[8]*te[2]]}static singularValueDecompose2dScale(J){const te=[J[0],J[2],J[1],J[3]],pe=J[0]*te[0]+J[1]*te[2],me=J[2]*te[1]+J[3]*te[3],Se=(pe+me)/2,Pe=Math.sqrt((pe+me)**2-4*(pe*me-(J[2]*te[0]+J[3]*te[2])*(J[0]*te[1]+J[1]*te[3])))/2,xe=Se-Pe||1;return[Math.sqrt(Se+Pe||1),Math.sqrt(xe)]}static normalizeRect(J){const te=J.slice(0);return J[0]>J[2]&&(te[0]=J[2],te[2]=J[0]),J[1]>J[3]&&(te[1]=J[3],te[3]=J[1]),te}static intersect(J,te){function pe(Se,Pe){return Se-Pe}const ge=[J[0],J[2],te[0],te[2]].sort(pe),ve=[J[1],J[3],te[1],te[3]].sort(pe),me=[];return J=Ee.normalizeRect(J),te=Ee.normalizeRect(te),ge[0]===J[0]&&ge[1]===te[0]||ge[0]===te[0]&&ge[1]===J[0]?(me[0]=ge[1],me[2]=ge[2],ve[0]===J[1]&&ve[1]===te[1]||ve[0]===te[1]&&ve[1]===J[1]?(me[1]=ve[1],me[3]=ve[2],me):null):null}static bezierBoundingBox(J,te,pe,ge,ve,me,Se,Pe){const Ce=[],xe=[[],[]];let Le,ke,Fe,Te,Re,Ie,De,Ne;for(let Ve=0;Ve<2;++Ve)if(0===Ve?(ke=6*J-12*pe+6*ve,Le=-3*J+9*pe-9*ve+3*Se,Fe=3*pe-3*J):(ke=6*te-12*ge+6*me,Le=-3*te+9*ge-9*me+3*Pe,Fe=3*ge-3*te),Math.abs(Le)<1e-12){if(Math.abs(ke)<1e-12)continue;Te=-Fe/ke,0<Te&&Te<1&&Ce.push(Te)}else De=ke*ke-4*Fe*Le,Ne=Math.sqrt(De),!(De<0)&&(Re=(-ke+Ne)/(2*Le),0<Re&&Re<1&&Ce.push(Re),Ie=(-ke-Ne)/(2*Le),0<Ie&&Ie<1&&Ce.push(Ie));let Me,Oe=Ce.length;const Be=Oe;for(;Oe--;)Te=Ce[Oe],Me=1-Te,xe[0][Oe]=Me*Me*Me*J+3*Me*Me*Te*pe+3*Me*Te*Te*ve+Te*Te*Te*Se,xe[1][Oe]=Me*Me*Me*te+3*Me*Me*Te*ge+3*Me*Te*Te*me+Te*Te*Te*Pe;return xe[0][Be]=J,xe[1][Be]=te,xe[0][Be+1]=Se,xe[1][Be+1]=Pe,xe[0].length=xe[1].length=Be+2,[Math.min(...xe[0]),Math.min(...xe[1]),Math.max(...xe[0]),Math.max(...xe[1])]}}a.Util=Ee;const ee=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function re(ne){return decodeURIComponent(escape(ne))}},(X,a,k)=>{k(3)},(X,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.isNodeJS=void 0;const k=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);a.isNodeJS=k},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_node_utils=__w_pdfjs_require__(8),_annotation_storage=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(12),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(13),_metadata=__w_pdfjs_require__(14),_optional_content_config=__w_pdfjs_require__(15),_transport_stream=__w_pdfjs_require__(16),_xfa_text=__w_pdfjs_require__(17);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultStandardFontDataFactory=_is_node.isNodeJS?_node_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;let createPDFNetworkStream;function setPDFNetworkStreamFactory(X){createPDFNetworkStream=X}function getDocument(X){const a=new PDFDocumentLoadingTask;let k;if("string"==typeof X||X instanceof URL)k={url:X};else if((0,_util.isArrayBuffer)(X))k={data:X};else if(X instanceof PDFDataRangeTransport)k={range:X};else{if("object"!=typeof X)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!X.url&&!X.data&&!X.range)throw new Error("Invalid parameter object: need either .data, .range or .url");k=X}const i=Object.create(null);let R=null,D=null;for(const j in k){const F=k[j];switch(j){case"url":if(typeof window<"u")try{i[j]=new URL(F,window.location).href;continue}catch(E){(0,_util.warn)(`Cannot create valid URL: "${E}".`)}else if("string"==typeof F||F instanceof URL){i[j]=F.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":R=F;continue;case"worker":D=F;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&F instanceof Buffer)i[j]=new Uint8Array(F);else{if(F instanceof Uint8Array)break;if("string"==typeof F)i[j]=(0,_util.stringToBytes)(F);else if("object"!=typeof F||null===F||isNaN(F.length)){if(!(0,_util.isArrayBuffer)(F))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");i[j]=new Uint8Array(F)}else i[j]=new Uint8Array(F)}continue}i[j]=F}if(i.rangeChunkSize=i.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,i.CMapReaderFactory=i.CMapReaderFactory||DefaultCMapReaderFactory,i.StandardFontDataFactory=i.StandardFontDataFactory||DefaultStandardFontDataFactory,i.ignoreErrors=!0!==i.stopAtErrors,i.fontExtraProperties=!0===i.fontExtraProperties,i.pdfBug=!0===i.pdfBug,i.enableXfa=!0===i.enableXfa,("string"!=typeof i.docBaseUrl||(0,_display_utils.isDataScheme)(i.docBaseUrl))&&(i.docBaseUrl=null),Number.isInteger(i.maxImageSize)||(i.maxImageSize=-1),"boolean"!=typeof i.useWorkerFetch&&(i.useWorkerFetch=i.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&i.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof i.isEvalSupported&&(i.isEvalSupported=!0),"boolean"!=typeof i.disableFontFace&&(i.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof i.useSystemFonts&&(i.useSystemFonts=!_is_node.isNodeJS&&!i.disableFontFace),typeof i.ownerDocument>"u"&&(i.ownerDocument=globalThis.document),"boolean"!=typeof i.disableRange&&(i.disableRange=!1),"boolean"!=typeof i.disableStream&&(i.disableStream=!1),"boolean"!=typeof i.disableAutoFetch&&(i.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(i.verbosity),!D){const j={verbosity:i.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};D=j.port?_PDFWorker.fromPort(j):new _PDFWorker(j),a._worker=D}const K=a.docId;return D.promise.then(function(){if(a.destroyed)throw new Error("Loading aborted");const j=_fetchDocument(D,i,R,K),F=new Promise(function(E){let U;R?U=new _transport_stream.PDFDataTransportStream({length:i.length,initialData:i.initialData,progressiveDone:i.progressiveDone,contentDispositionFilename:i.contentDispositionFilename,disableRange:i.disableRange,disableStream:i.disableStream},R):i.data||(U=createPDFNetworkStream({url:i.url,length:i.length,httpHeaders:i.httpHeaders,withCredentials:i.withCredentials,rangeChunkSize:i.rangeChunkSize,disableRange:i.disableRange,disableStream:i.disableStream})),E(U)});return Promise.all([j,F]).then(function([E,U]){if(a.destroyed)throw new Error("Loading aborted");const I=new _message_handler.MessageHandler(K,E,D.port),B=new WorkerTransport(I,a,U,i);a._transport=B,I.send("Ready",null)})}).catch(a._capability.reject),a}function _fetchDocument(X,a,k,i){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(X,a,k,i){if(X.destroyed)throw new Error("Worker was destroyed");k&&(a.length=k.length,a.initialData=k.initialData,a.progressiveDone=k.progressiveDone,a.contentDispositionFilename=k.contentDispositionFilename);const R=yield X.messageHandler.sendWithPromise("GetDocRequest",{docId:i,apiVersion:"2.13.216",source:{data:a.data,url:a.url,password:a.password,disableAutoFetch:a.disableAutoFetch,rangeChunkSize:a.rangeChunkSize,length:a.length},maxImageSize:a.maxImageSize,disableFontFace:a.disableFontFace,docBaseUrl:a.docBaseUrl,ignoreErrors:a.ignoreErrors,isEvalSupported:a.isEvalSupported,fontExtraProperties:a.fontExtraProperties,enableXfa:a.enableXfa,useSystemFonts:a.useSystemFonts,cMapUrl:a.useWorkerFetch?a.cMapUrl:null,standardFontDataUrl:a.useWorkerFetch?a.standardFontDataUrl:null});if(X.destroyed)throw new Error("Worker was destroyed");return R})).apply(this,arguments)}exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;class PDFDocumentLoadingTask{static get idCounters(){return(0,_util.shadow)(this,"idCounters",{doc:0})}constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.idCounters.doc++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var a=this;return _asyncToGenerator(function*(){a.destroyed=!0,yield a._transport?.destroy(),a._transport=null,a._worker&&(a._worker.destroy(),a._worker=null)})()}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(a,k,i=!1,R=null){this.length=a,this.initialData=k,this.progressiveDone=i,this.contentDispositionFilename=R,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(a){this._rangeListeners.push(a)}addProgressListener(a){this._progressListeners.push(a)}addProgressiveReadListener(a){this._progressiveReadListeners.push(a)}addProgressiveDoneListener(a){this._progressiveDoneListeners.push(a)}onDataRange(a,k){for(const i of this._rangeListeners)i(a,k)}onDataProgress(a,k){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(a,k)})}onDataProgressiveRead(a){this._readyCapability.promise.then(()=>{for(const k of this._progressiveReadListeners)k(a)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const a of this._progressiveDoneListeners)a()})}transportReady(){this._readyCapability.resolve()}requestDataRange(a,k){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(a,k){var R,i=this;this._pdfInfo=a,this._transport=k,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(R=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),i.stats||{streamTypes:{},fontTypes:{}}}),function(){return R.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(a){return this._transport.getPage(a)}getPageIndex(a){return this._transport.getPageIndex(a)}getDestinations(){return this._transport.getDestinations()}getDestination(a){return this._transport.getDestination(a)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(a=!1){return this._transport.startCleanup(a||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(a,k,i,R,D=!1){this._pageIndex=a,this._pageInfo=k,this._ownerDocument=R,this._transport=i,this._stats=D?new _display_utils.StatTimer:null,this._pdfBug=D,this.commonObjs=i.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:a,rotation:k=this.rotate,offsetX:i=0,offsetY:R=0,dontFlip:D=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:a,rotation:k,offsetX:i,offsetY:R,dontFlip:D})}getAnnotations({intent:a="display"}={}){const k=this._transport.getRenderingIntent(a);let i=this._annotationPromises.get(k.cacheKey);return i||(i=this._transport.getAnnotations(this._pageIndex,k.renderingIntent),this._annotationPromises.set(k.cacheKey,i),i=i.then(R=>{for(const D of R)void 0!==D.titleObj&&Object.defineProperty(D,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),D.titleObj.str)}),void 0!==D.contentsObj&&Object.defineProperty(D,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),D.contentsObj.str)});return R})),i}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var a=this;return _asyncToGenerator(function*(){return a._transport._htmlForXfa?.children[a._pageIndex]||null})()}render({canvasContext:a,viewport:k,intent:i="display",annotationMode:R=_util.AnnotationMode.ENABLE,transform:D=null,imageLayer:K=null,canvasFactory:j=null,background:F=null,optionalContentConfigPromise:E=null,annotationCanvasMap:U=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&R===_util.AnnotationMode.ENABLE&&(R=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&R===_util.AnnotationMode.ENABLE&&(R=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const I=this._transport.getRenderingIntent(i,R);this.pendingCleanup=!1,E||(E=this._transport.getOptionalContentConfig());let B=this._intentStates.get(I.cacheKey);B||(B=Object.create(null),this._intentStates.set(I.cacheKey,B)),B.streamReaderCancelTimeout&&(clearTimeout(B.streamReaderCancelTimeout),B.streamReaderCancelTimeout=null);const O=j||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),V=!!(I.renderingIntent&_util.RenderingIntentFlag.PRINT);B.displayReadyCapability||(B.displayReadyCapability=(0,_util.createPromiseCapability)(),B.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(I));const m=L=>{B.renderTasks.delete(_),(this.cleanupAfterRender||V)&&(this.pendingCleanup=!0),this._tryCleanup(),L?(_.capability.reject(L),this._abortOperatorList({intentState:B,reason:L instanceof Error?L:new Error(L)})):_.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},_=new InternalRenderTask({callback:m,params:{canvasContext:a,viewport:k,transform:D,imageLayer:K,background:F},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:U,operatorList:B.operatorList,pageIndex:this._pageIndex,canvasFactory:O,useRequestAnimationFrame:!V,pdfBug:this._pdfBug});(B.renderTasks||(B.renderTasks=new Set)).add(_);const T=_.task;return Promise.all([B.displayReadyCapability.promise,E]).then(([L,v])=>{this.pendingCleanup?m():(this._stats&&this._stats.time("Rendering"),_.initializeGraphics({transparency:L,optionalContentConfig:v}),_.operatorListChanged())}).catch(m),T}getOperatorList({intent:a="display",annotationMode:k=_util.AnnotationMode.ENABLE}={}){const R=this._transport.getRenderingIntent(a,k,!0);let K,D=this._intentStates.get(R.cacheKey);return D||(D=Object.create(null),this._intentStates.set(R.cacheKey,D)),D.opListReadCapability||(K=Object.create(null),K.operatorListChanged=function i(){D.operatorList.lastChunk&&(D.opListReadCapability.resolve(D.operatorList),D.renderTasks.delete(K))},D.opListReadCapability=(0,_util.createPromiseCapability)(),(D.renderTasks||(D.renderTasks=new Set)).add(K),D.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(R)),D.opListReadCapability.promise}streamTextContent({disableCombineTextItems:a=!1,includeMarkedContent:k=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==a,includeMarkedContent:!0===k},{highWaterMark:100,size:R=>R.items.length})}getTextContent(a={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>_xfa_text.XfaText.textContent(i));const k=this.streamTextContent(a);return new Promise(function(i,R){const K=k.getReader(),j={items:[],styles:Object.create(null)};!function D(){K.read().then(function({value:F,done:E}){E?i(j):(Object.assign(j.styles,F.styles),j.items.push(...F.items),D())},R)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const a=[];for(const k of this._intentStates.values())if(this._abortOperatorList({intentState:k,reason:new Error("Page was destroyed."),force:!0}),!k.opListReadCapability)for(const i of k.renderTasks)a.push(i.completed),i.cancel();return this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(a)}cleanup(a=!1){return this.pendingCleanup=!0,this._tryCleanup(a)}_tryCleanup(a=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:k,operatorList:i}of this._intentStates.values())if(k.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,a&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(a,k){const i=this._intentStates.get(k);!i||(this._stats&&this._stats.timeEnd("Page Request"),i.displayReadyCapability&&i.displayReadyCapability.resolve(a))}_renderPageChunk(a,k){for(let i=0,R=a.length;i<R;i++)k.operatorList.fnArray.push(a.fnArray[i]),k.operatorList.argsArray.push(a.argsArray[i]);k.operatorList.lastChunk=a.lastChunk;for(const i of k.renderTasks)i.operatorListChanged();a.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:a,cacheKey:k}){const R=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:a,cacheKey:k,annotationStorage:a&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),D=this._intentStates.get(k);D.streamReader=R;const K=()=>{R.read().then(({value:j,done:F})=>{F?D.streamReader=null:this._transport.destroyed||(this._renderPageChunk(j,D),K())},j=>{if(D.streamReader=null,!this._transport.destroyed){if(D.operatorList){D.operatorList.lastChunk=!0;for(const F of D.renderTasks)F.operatorListChanged();this._tryCleanup()}if(D.displayReadyCapability)D.displayReadyCapability.reject(j);else{if(!D.opListReadCapability)throw j;D.opListReadCapability.reject(j)}}})};K()}_abortOperatorList({intentState:a,reason:k,force:i=!1}){if(a.streamReader){if(!i){if(a.renderTasks.size>0)return;if(k instanceof _display_utils.RenderingCancelledException)return void(a.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:a,reason:k,force:!0}),a.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(a.streamReader.cancel(new _util.AbortException(k.message)).catch(()=>{}),a.streamReader=null,!this._transport.destroyed){for(const[R,D]of this._intentStates)if(D===a){this._intentStates.delete(R);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(a,k){const i={data:structuredClone(a,k)};this._deferred.then(()=>{for(const R of this._listeners)R.call(this,i)})}addEventListener(a,k){this._listeners.push(k)}removeEventListener(a,k){const i=this._listeners.indexOf(k);this._listeners.splice(i,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const X=document?.currentScript?.src;X&&(PDFWorkerUtil.fallbackWorkerSrc=X.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.createCDNWrapper=function(X){return URL.createObjectURL(new Blob([`importScripts("${X}");`]))};class _PDFWorker{static get _workerPorts(){return(0,_util.shadow)(this,"_workerPorts",new WeakMap)}constructor({name:X=null,port:a=null,verbosity:k=(0,_util.getVerbosityLevel)()}={}){if(a&&_PDFWorker._workerPorts.has(a))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=X,this.destroyed=!1,this.verbosity=k,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,a)return _PDFWorker._workerPorts.set(a,this),void this._initializeFromPort(a);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(X){this._port=X,this._messageHandler=new _message_handler.MessageHandler("main","worker",X),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let X=_PDFWorker.workerSrc;try{(0,_util.isSameOrigin)(window.location.href,X)||(X=PDFWorkerUtil.createCDNWrapper(new URL(X,window.location).href));const a=new Worker(X),k=new _message_handler.MessageHandler("main","worker",a),i=()=>{a.removeEventListener("error",R),k.destroy(),a.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},R=()=>{this._webWorker||i()};a.addEventListener("error",R),k.on("test",K=>{a.removeEventListener("error",R),this.destroyed?i():K?(this._messageHandler=k,this._port=a,this._webWorker=a,this._readyCapability.resolve(),k.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),k.destroy(),a.terminate())}),k.on("ready",K=>{if(a.removeEventListener("error",R),this.destroyed)i();else try{D()}catch{this._setupFakeWorker()}});const D=()=>{const K=new Uint8Array([255]);try{k.send("test",K,[K.buffer])}catch{(0,_util.warn)("Cannot use postMessage transfers."),K[0]=0,k.send("test",K)}};return void D()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(X=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const a=new LoopbackPort;this._port=a;const k="fake"+PDFWorkerUtil.fakeWorkerId++,i=new _message_handler.MessageHandler(k+"_worker",k,a);X.setup(i,a);const R=new _message_handler.MessageHandler(k,k+"_worker",a);this._messageHandler=R,this._readyCapability.resolve(),R.send("configure",{verbosity:this.verbosity})}).catch(X=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${X.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_PDFWorker._workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(X){if(!X?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this._workerPorts.has(X.port)?this._workerPorts.get(X.port):new _PDFWorker(X)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function X(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=_PDFWorker,_PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap;class WorkerTransport{constructor(a,k,i,R){_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=a,this.loadingTask=k,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:k.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:R.ownerDocument,styleElement:R.styleElement}),this._params=R,R.useWorkerFetch||(this.CMapReaderFactory=new R.CMapReaderFactory({baseUrl:R.cMapUrl,isCompressed:R.cMapPacked}),this.StandardFontDataFactory=new R.StandardFontDataFactory({baseUrl:R.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return _classPrivateFieldGet(this,_docStats)}getRenderingIntent(a,k=_util.AnnotationMode.ENABLE,i=!1){let R=_util.RenderingIntentFlag.DISPLAY,D="";switch(a){case"any":R=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":R=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${a}`)}switch(k){case _util.AnnotationMode.DISABLE:R+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:R+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:R+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,D=this.annotationStorage.lastModified;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${k}`)}return i&&(R+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:R,cacheKey:`${R}_${D}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const a=[];for(const i of _classPrivateFieldGet(this,_pageCache).values())a.push(i._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const k=this.messageHandler.sendWithPromise("Terminate",null);return a.push(k),Promise.all(a).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:a,loadingTask:k}=this;a.on("GetReader",(i,R)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=D=>{this._lastProgress={loaded:D.loaded,total:D.total}},R.onPull=()=>{this._fullReader.read().then(function({value:D,done:K}){K?R.close():((0,_util.assert)((0,_util.isArrayBuffer)(D),"GetReader - expected an ArrayBuffer."),R.enqueue(new Uint8Array(D),1,[D]))}).catch(D=>{R.error(D)})},R.onCancel=D=>{this._fullReader.cancel(D),R.ready.catch(K=>{if(!this.destroyed)throw K})}}),a.on("ReaderHeadersReady",i=>{const R=(0,_util.createPromiseCapability)(),D=this._fullReader;return D.headersReady.then(()=>{(!D.isStreamingSupported||!D.isRangeSupported)&&(this._lastProgress&&k.onProgress?.(this._lastProgress),D.onProgress=K=>{k.onProgress?.({loaded:K.loaded,total:K.total})}),R.resolve({isStreamingSupported:D.isStreamingSupported,isRangeSupported:D.isRangeSupported,contentLength:D.contentLength})},R.reject),R.promise}),a.on("GetRangeReader",(i,R)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const D=this._networkStream.getRangeReader(i.begin,i.end);D?(R.onPull=()=>{D.read().then(function({value:K,done:j}){j?R.close():((0,_util.assert)((0,_util.isArrayBuffer)(K),"GetRangeReader - expected an ArrayBuffer."),R.enqueue(new Uint8Array(K),1,[K]))}).catch(K=>{R.error(K)})},R.onCancel=K=>{D.cancel(K),R.ready.catch(j=>{if(!this.destroyed)throw j})}):R.close()}),a.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,k._capability.resolve(new PDFDocumentProxy(i,this))}),a.on("DocException",function(i){let R;switch(i.name){case"PasswordException":R=new _util.PasswordException(i.message,i.code);break;case"InvalidPDFException":R=new _util.InvalidPDFException(i.message);break;case"MissingPDFException":R=new _util.MissingPDFException(i.message);break;case"UnexpectedResponseException":R=new _util.UnexpectedResponseException(i.message,i.status);break;case"UnknownErrorException":R=new _util.UnknownErrorException(i.message,i.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}k._capability.reject(R)}),a.on("PasswordRequest",i=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),k.onPassword){const R=D=>{D instanceof Error?this._passwordCapability.reject(D):this._passwordCapability.resolve({password:D})};try{k.onPassword(R,i.code)}catch(D){this._passwordCapability.reject(D)}}else this._passwordCapability.reject(new _util.PasswordException(i.message,i.code));return this._passwordCapability.promise}),a.on("DataLoaded",i=>{k.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),a.on("StartRenderPage",i=>{this.destroyed||_classPrivateFieldGet(this,_pageCache).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),a.on("commonobj",([i,R,D])=>{if(!this.destroyed&&!this.commonObjs.has(i))switch(R){case"Font":const K=this._params;if("error"in D){const E=D.error;(0,_util.warn)(`Error during font loading: ${E}`),this.commonObjs.resolve(i,E);break}let j=null;K.pdfBug&&globalThis.FontInspector?.enabled&&(j={registerFont(E,U){globalThis.FontInspector.fontAdded(E,U)}});const F=new _font_loader.FontFaceObject(D,{isEvalSupported:K.isEvalSupported,disableFontFace:K.disableFontFace,ignoreErrors:K.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:j});this.fontLoader.bind(F).catch(E=>a.sendWithPromise("FontFallback",{id:i})).finally(()=>{!K.fontExtraProperties&&F.data&&(F.data=null),this.commonObjs.resolve(i,F)});break;case"FontPath":case"Image":this.commonObjs.resolve(i,D);break;default:throw new Error(`Got unknown common object type ${R}`)}}),a.on("obj",([i,R,D,K])=>{if(this.destroyed)return;const j=_classPrivateFieldGet(this,_pageCache).get(R);if(!j.objs.has(i))switch(D){case"Image":j.objs.resolve(i,K),K?.data?.length>8e6&&(j.cleanupAfterRender=!0);break;case"Pattern":j.objs.resolve(i,K);break;default:throw new Error(`Got unknown object type ${D}`)}}),a.on("DocProgress",i=>{this.destroyed||k.onProgress?.({loaded:i.loaded,total:i.total})}),a.on("DocStats",i=>{this.destroyed||_classPrivateFieldSet(this,_docStats,Object.freeze({streamTypes:Object.freeze(i.streamTypes),fontTypes:Object.freeze(i.fontTypes)}))}),a.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),a.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),a.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:a}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(a)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(a){if(!Number.isInteger(a)||a<=0||a>this._numPages)return Promise.reject(new Error("Invalid page request."));const k=a-1,i=_classPrivateFieldGet(this,_pagePromises).get(k);if(i)return i;const R=this.messageHandler.sendWithPromise("GetPage",{pageIndex:k}).then(D=>{if(this.destroyed)throw new Error("Transport destroyed");const K=new PDFPageProxy(k,D,this,this._params.ownerDocument,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(k,K),K});return _classPrivateFieldGet(this,_pagePromises).set(k,R),R}getPageIndex(a){return"object"!=typeof a||null===a||!Number.isInteger(a.num)||a.num<0||!Number.isInteger(a.gen)||a.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:a.num,gen:a.gen})}getAnnotations(a,k){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a,intent:k})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(a){return"string"!=typeof a?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:a})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(a){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:a})}getStructTree(a){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:a})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(a=>new _optional_content_config.OptionalContentConfig(a))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(a=>({info:a[0],metadata:a[1]?new _metadata.Metadata(a[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(a=!1){var k=this;return _asyncToGenerator(function*(){if(yield k.messageHandler.sendWithPromise("Cleanup",null),!k.destroyed){for(const i of _classPrivateFieldGet(k,_pageCache).values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);k.commonObjs.clear(),a||k.fontLoader.clear(),_classPrivateFieldSet(k,_metadataPromise,null),k._getFieldObjectsPromise=null,k._hasJSActionsPromise=null}})()}get loadingParams(){const a=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:a.disableAutoFetch,enableXfa:a.enableXfa})}}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(a,k=null){if(k){const R=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,a);return R.capability.promise.then(()=>k(R.data)),null}const i=_classPrivateFieldGet(this,_objs)[a];if(!i?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${a}.`);return i.data}has(a){return _classPrivateFieldGet(this,_objs)[a]?.capability.settled||!1}resolve(a,k=null){const i=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,a);i.data=k,i.capability.resolve()}clear(){_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2(X){return _classPrivateFieldGet(this,_objs)[X]||(_classPrivateFieldGet(this,_objs)[X]={capability:(0,_util.createPromiseCapability)(),data:null})}class RenderTask{constructor(a){this._internalRenderTask=a,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{static get canvasInUse(){return(0,_util.shadow)(this,"canvasInUse",new WeakSet)}constructor({callback:a,params:k,objs:i,commonObjs:R,annotationCanvasMap:D,operatorList:K,pageIndex:j,canvasFactory:F,useRequestAnimationFrame:E=!1,pdfBug:U=!1}){this.callback=a,this.params=k,this.objs=i,this.commonObjs=R,this.annotationCanvasMap=D,this.operatorListIdx=null,this.operatorList=K,this._pageIndex=j,this.canvasFactory=F,this._pdfBug=U,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===E&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=k.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:a=!1,optionalContentConfig:k}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.canvasInUse.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.canvasInUse.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:R,transform:D,imageLayer:K,background:j}=this.params;this.gfx=new _canvas.CanvasGraphics(i,this.commonObjs,this.objs,this.canvasFactory,K,k,this.annotationCanvasMap),this.gfx.beginDrawing({transform:D,viewport:R,transparency:a,background:j}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(a=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.canvasInUse.delete(this._canvas),this.callback(a||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var a=this;return _asyncToGenerator(function*(){a.cancelled||(a.operatorListIdx=a.gfx.executeOperatorList(a.operatorList,a.operatorListIdx,a._continueBound,a.stepper),a.operatorListIdx===a.operatorList.argsArray.length&&(a.running=!1,a.operatorList.lastChunk&&(a.gfx.endDrawing(),a._canvas&&InternalRenderTask.canvasInUse.delete(a._canvas),a.callback())))})()}}const version="2.13.216";exports.version=version;const build="399a0ec60";exports.build=build},(X,a,k)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.StatTimer=a.RenderingCancelledException=a.PixelsPerInch=a.PageViewport=a.PDFDateString=a.DOMStandardFontDataFactory=a.DOMSVGFactory=a.DOMCanvasFactory=a.DOMCMapReaderFactory=void 0,a.deprecated=function t(b){console.log("Deprecated API usage: "+b)},a.getFilenameFromUrl=function T(b){const h=b.indexOf("#"),r=b.indexOf("?"),y=Math.min(h>0?h:b.length,r>0?r:b.length);return b.substring(b.lastIndexOf("/",y)+1,y)},a.getPdfFilenameFromUrl=function L(b,h="document.pdf"){if("string"!=typeof b)return h;if(m(b))return(0,R.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),h;const y=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,P=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(b);let N=y.exec(P[1])||y.exec(P[2])||y.exec(P[3]);if(N&&(N=N[0],N.includes("%")))try{N=y.exec(decodeURIComponent(N))[0]}catch{}return N||h},a.getXfaPageViewport=function u(b,{scale:h=1,rotation:r=0}){const{width:y,height:P}=b.attributes.style,N=[0,0,parseInt(y),parseInt(P)];return new O({viewBox:N,scale:h,rotation:r})},a.isDataScheme=m,a.isPdfFile=function _(b){return"string"==typeof b&&/\.pdf$/i.test(b)},a.isValidFetchUrl=C,a.loadScript=function n(b,h=!1){return new Promise((r,y)=>{const P=document.createElement("script");P.src=b,P.onload=function(N){h&&P.remove(),r(N)},P.onerror=function(){y(new Error(`Cannot load script at: ${P.src}`))},(document.head||document.documentElement).appendChild(P)})};var i=k(6),R=k(1);class K{}function F(b){return E.apply(this,arguments)}function E(){return(E=_asyncToGenerator(function*(b,h=!1){if(C(b,document.baseURI)){const r=yield fetch(b);if(!r.ok)throw new Error(r.statusText);return h?new Uint8Array(yield r.arrayBuffer()):(0,R.stringToBytes)(yield r.text())}return new Promise((r,y)=>{const P=new XMLHttpRequest;P.open("GET",b,!0),h&&(P.responseType="arraybuffer"),P.onreadystatechange=()=>{if(P.readyState===XMLHttpRequest.DONE){if(200===P.status||0===P.status){let N;if(h&&P.response?N=new Uint8Array(P.response):!h&&P.responseText&&(N=(0,R.stringToBytes)(P.responseText)),N)return void r(N)}y(new Error(P.statusText))}},P.send(null)})})).apply(this,arguments)}_defineProperty(K,"CSS",96),_defineProperty(K,"PDF",72),_defineProperty(K,"PDF_TO_CSS_UNITS",K.CSS/K.PDF),a.PixelsPerInch=K,a.DOMCanvasFactory=class j extends i.BaseCanvasFactory{constructor({ownerDocument:h=globalThis.document}={}){super(),this._document=h}_createCanvas(h,r){const y=this._document.createElement("canvas");return y.width=h,y.height=r,y}},a.DOMCMapReaderFactory=class U extends i.BaseCMapReaderFactory{_fetchData(h,r){return F(h,this.isCompressed).then(y=>({cMapData:y,compressionType:r}))}},a.DOMStandardFontDataFactory=class I extends i.BaseStandardFontDataFactory{_fetchData(h){return F(h,!0)}},a.DOMSVGFactory=class B extends i.BaseSVGFactory{_createSVG(h){return document.createElementNS("http://www.w3.org/2000/svg",h)}};class O{constructor({viewBox:h,scale:r,rotation:y,offsetX:P=0,offsetY:N=0,dontFlip:G=!1}){this.viewBox=h,this.scale=r,this.rotation=y,this.offsetX=P,this.offsetY=N;const H=(h[2]+h[0])/2,Q=(h[3]+h[1])/2;let S,l,s,g,c,e,o,p;switch((y%=360)<0&&(y+=360),y){case 180:S=-1,l=0,s=0,g=1;break;case 90:S=0,l=1,s=1,g=0;break;case 270:S=0,l=-1,s=-1,g=0;break;case 0:S=1,l=0,s=0,g=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}G&&(s=-s,g=-g),0===S?(c=Math.abs(Q-h[1])*r+P,e=Math.abs(H-h[0])*r+N,o=Math.abs(h[3]-h[1])*r,p=Math.abs(h[2]-h[0])*r):(c=Math.abs(H-h[0])*r+P,e=Math.abs(Q-h[1])*r+N,o=Math.abs(h[2]-h[0])*r,p=Math.abs(h[3]-h[1])*r),this.transform=[S*r,l*r,s*r,g*r,c-S*r*H-s*r*Q,e-l*r*H-g*r*Q],this.width=o,this.height=p}clone({scale:h=this.scale,rotation:r=this.rotation,offsetX:y=this.offsetX,offsetY:P=this.offsetY,dontFlip:N=!1}={}){return new O({viewBox:this.viewBox.slice(),scale:h,rotation:r,offsetX:y,offsetY:P,dontFlip:N})}convertToViewportPoint(h,r){return R.Util.applyTransform([h,r],this.transform)}convertToViewportRectangle(h){const r=R.Util.applyTransform([h[0],h[1]],this.transform),y=R.Util.applyTransform([h[2],h[3]],this.transform);return[r[0],r[1],y[0],y[1]]}convertToPdfPoint(h,r){return R.Util.applyInverseTransform([h,r],this.transform)}}function m(b){const h=b.length;let r=0;for(;r<h&&""===b[r].trim();)r++;return"data:"===b.substring(r,r+5).toLowerCase()}function C(b,h){try{const{protocol:r}=h?new URL(b,h):new URL(b);return"http:"===r||"https:"===r}catch{return!1}}let f;a.PageViewport=O,a.RenderingCancelledException=class V extends R.BaseException{constructor(h,r){super(h,"RenderingCancelledException"),this.type=r}},a.StatTimer=class v{constructor(){this.started=Object.create(null),this.times=[]}time(h){h in this.started&&(0,R.warn)(`Timer is already running for ${h}`),this.started[h]=Date.now()}timeEnd(h){h in this.started||(0,R.warn)(`Timer has not been started for ${h}`),this.times.push({name:h,start:this.started[h],end:Date.now()}),delete this.started[h]}toString(){const h=[];let r=0;for(const y of this.times){const P=y.name;P.length>r&&(r=P.length)}for(const y of this.times){const P=y.end-y.start;h.push(`${y.name.padEnd(r)} ${P}ms\n`)}return h.join("")}},a.PDFDateString=class x{static toDateObject(h){if(!h||"string"!=typeof h)return null;f||(f=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const r=f.exec(h);if(!r)return null;const y=parseInt(r[1],10);let P=parseInt(r[2],10);P=P>=1&&P<=12?P-1:0;let N=parseInt(r[3],10);N=N>=1&&N<=31?N:1;let G=parseInt(r[4],10);G=G>=0&&G<=23?G:0;let H=parseInt(r[5],10);H=H>=0&&H<=59?H:0;let Q=parseInt(r[6],10);Q=Q>=0&&Q<=59?Q:0;const S=r[7]||"Z";let l=parseInt(r[8],10);l=l>=0&&l<=23?l:0;let s=parseInt(r[9],10)||0;return s=s>=0&&s<=59?s:0,"-"===S?(G+=l,H+=s):"+"===S&&(G-=l,H-=s),new Date(Date.UTC(y,P,N,G,H,Q))}}},(X,a,k)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BaseStandardFontDataFactory=a.BaseSVGFactory=a.BaseCanvasFactory=a.BaseCMapReaderFactory=void 0;var i=k(1);class R{constructor(){this.constructor===R&&(0,i.unreachable)("Cannot initialize BaseCanvasFactory.")}create(E,U){if(E<=0||U<=0)throw new Error("Invalid canvas size");const I=this._createCanvas(E,U);return{canvas:I,context:I.getContext("2d")}}reset(E,U,I){if(!E.canvas)throw new Error("Canvas is not specified");if(U<=0||I<=0)throw new Error("Invalid canvas size");E.canvas.width=U,E.canvas.height=I}destroy(E){if(!E.canvas)throw new Error("Canvas is not specified");E.canvas.width=0,E.canvas.height=0,E.canvas=null,E.context=null}_createCanvas(E,U){(0,i.unreachable)("Abstract method `_createCanvas` called.")}}a.BaseCanvasFactory=R;class D{constructor({baseUrl:E=null,isCompressed:U=!1}){this.constructor===D&&(0,i.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=E,this.isCompressed=U}fetch({name:E}){var U=this;return _asyncToGenerator(function*(){if(!U.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!E)throw new Error("CMap name must be specified.");const I=U.baseUrl+E+(U.isCompressed?".bcmap":"");return U._fetchData(I,U.isCompressed?i.CMapCompressionType.BINARY:i.CMapCompressionType.NONE).catch(O=>{throw new Error(`Unable to load ${U.isCompressed?"binary ":""}CMap at: ${I}`)})})()}_fetchData(E,U){(0,i.unreachable)("Abstract method `_fetchData` called.")}}a.BaseCMapReaderFactory=D;class K{constructor({baseUrl:E=null}){this.constructor===K&&(0,i.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=E}fetch({filename:E}){var U=this;return _asyncToGenerator(function*(){if(!U.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!E)throw new Error("Font filename must be specified.");const I=`${U.baseUrl}${E}`;return U._fetchData(I).catch(B=>{throw new Error(`Unable to load font data at: ${I}`)})})()}_fetchData(E){(0,i.unreachable)("Abstract method `_fetchData` called.")}}a.BaseStandardFontDataFactory=K;class j{constructor(){this.constructor===j&&(0,i.unreachable)("Cannot initialize BaseSVGFactory.")}create(E,U){if(E<=0||U<=0)throw new Error("Invalid SVG dimensions");const I=this._createSVG("svg:svg");return I.setAttribute("version","1.1"),I.setAttribute("width",`${E}px`),I.setAttribute("height",`${U}px`),I.setAttribute("preserveAspectRatio","none"),I.setAttribute("viewBox",`0 0 ${E} ${U}`),I}createElement(E){if("string"!=typeof E)throw new Error("Invalid SVG element type");return this._createSVG(E)}_createSVG(E){(0,i.unreachable)("Abstract method `_createSVG` called.")}}a.BaseSVGFactory=j},(X,a,k)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.FontLoader=a.FontFaceObject=void 0;var i=k(1);class R{constructor({docId:F,onUnsupportedFeature:E,ownerDocument:U=globalThis.document,styleElement:I=null}){this.constructor===R&&(0,i.unreachable)("Cannot initialize BaseFontLoader."),this.docId=F,this._onUnsupportedFeature=E,this._document=U,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(F){this.nativeFontFaces.push(F),this._document.fonts.add(F)}insertRule(F){let E=this.styleElement;E||(E=this.styleElement=this._document.createElement("style"),E.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(E));const U=E.sheet;U.insertRule(F,U.cssRules.length)}clear(){for(const F of this.nativeFontFaces)this._document.fonts.delete(F);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(F){var E=this;return _asyncToGenerator(function*(){if(F.attached||F.missingFile)return;if(F.attached=!0,E.isFontLoadingAPISupported){const I=F.createNativeFontFace();if(I){E.addNativeFontFace(I);try{yield I.loaded}catch(B){throw E._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,i.warn)(`Failed to load font '${I.family}': '${B}'.`),F.disableFontFace=!0,B}}return}const U=F.createFontFaceRule();if(U){if(E.insertRule(U),E.isSyncFontLoadingSupported)return;yield new Promise(I=>{const B=E._queueLoadingCallback(I);E._prepareFontLoadEvent([U],[F],B)})}})()}_queueLoadingCallback(F){(0,i.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,i.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,i.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,i.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(F,E,U){(0,i.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let D;a.FontLoader=D,a.FontLoader=D=class extends R{constructor(F){super(F),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let F=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(F=!0),(0,i.shadow)(this,"isSyncFontLoadingSupported",F)}_queueLoadingCallback(F){const U=this.loadingContext,I={id:"pdfjs-font-loading-"+U.nextRequestId++,done:!1,complete:function E(){for((0,i.assert)(!I.done,"completeRequest() cannot be called twice."),I.done=!0;U.requests.length>0&&U.requests[0].done;){const B=U.requests.shift();setTimeout(B.callback,0)}},callback:F};return U.requests.push(I),I}get _loadTestFont(){return(0,i.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(F,E,U){function I(y,P){return y.charCodeAt(P)<<24|y.charCodeAt(P+1)<<16|y.charCodeAt(P+2)<<8|255&y.charCodeAt(P+3)}function B(y,P,N,G){return y.substring(0,P)+G+y.substring(P+N)}let O,V;const m=this._document.createElement("canvas");m.width=1,m.height=1;const _=m.getContext("2d");let T=0;const v=`lt${Date.now()}${this.loadTestFontId++}`;let C=this._loadTestFont;C=B(C,976,v.length,v);const f=1482184792;let x=I(C,16);for(O=0,V=v.length-3;O<V;O+=4)x=x-f+I(v,O)|0;O<v.length&&(x=x-f+I(v+"XXX",O)|0),C=B(C,16,4,(0,i.string32)(x));const u=`url(data:font/opentype;base64,${btoa(C)});`;this.insertRule(`@font-face {font-family:"${v}";src:${u}}`);const h=[];for(const y of E)h.push(y.loadedName);h.push(v);const r=this._document.createElement("div");r.style.visibility="hidden",r.style.width=r.style.height="10px",r.style.position="absolute",r.style.top=r.style.left="0px";for(const y of h){const P=this._document.createElement("span");P.textContent="Hi",P.style.fontFamily=y,r.appendChild(P)}this._document.body.appendChild(r),function L(y,P){if(T++,T>30)return(0,i.warn)("Load test font never loaded."),void P();_.font="30px "+y,_.fillText(".",0,20),_.getImageData(0,0,1,1).data[3]>0?P():setTimeout(L.bind(null,y,P))}(v,()=>{r.remove(),U.complete()})}},a.FontFaceObject=class K{constructor(F,{isEvalSupported:E=!0,disableFontFace:U=!1,ignoreErrors:I=!1,onUnsupportedFeature:B,fontRegistry:O=null}){this.compiledGlyphs=Object.create(null);for(const V in F)this[V]=F[V];this.isEvalSupported=!1!==E,this.disableFontFace=!0===U,this.ignoreErrors=!0===I,this._onUnsupportedFeature=B,this.fontRegistry=O}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let F;if(this.cssFontInfo){const E={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(E.style=`oblique ${this.cssFontInfo.italicAngle}deg`),F=new FontFace(this.cssFontInfo.fontFamily,this.data,E)}else F=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),F}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const F=(0,i.bytesToString)(this.data),E=`url(data:${this.mimetype};base64,${btoa(F)});`;let U;if(this.cssFontInfo){let I=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(I+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),U=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${I}src:${E}}`}else U=`@font-face {font-family:"${this.loadedName}";src:${E}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,E),U}getPathGenerator(F,E){if(void 0!==this.compiledGlyphs[E])return this.compiledGlyphs[E];let U;try{U=F.get(this.loadedName+"_path_"+E)}catch(I){if(!this.ignoreErrors)throw I;return this._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,i.warn)(`getPathGenerator - ignoring character: "${I}".`),this.compiledGlyphs[E]=function(B,O){}}if(this.isEvalSupported&&i.IsEvalSupportedCached.value){const I=[];for(const B of U){const O=void 0!==B.args?B.args.join(","):"";I.push("c.",B.cmd,"(",O,");\n")}return this.compiledGlyphs[E]=new Function("c","size",I.join(""))}return this.compiledGlyphs[E]=function(I,B){for(const O of U)"scale"===O.cmd&&(O.args=[B,-B]),I[O.cmd].apply(I,O.args)}}}},(X,a,k)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.NodeStandardFontDataFactory=a.NodeCanvasFactory=a.NodeCMapReaderFactory=void 0;var i=k(6),R=k(3),D=k(1);let K=class{constructor(){(0,D.unreachable)("Not implemented: NodeCanvasFactory")}};a.NodeCanvasFactory=K;let j=class{constructor(){(0,D.unreachable)("Not implemented: NodeCMapReaderFactory")}};a.NodeCMapReaderFactory=j;let F=class{constructor(){(0,D.unreachable)("Not implemented: NodeStandardFontDataFactory")}};if(a.NodeStandardFontDataFactory=F,R.isNodeJS){const E=function(U){return new Promise((I,B)=>{__webpack_require__(172).readFile(U,(V,m)=>{!V&&m?I(new Uint8Array(m)):B(new Error(V))})})};a.NodeCanvasFactory=K=class extends i.BaseCanvasFactory{_createCanvas(U,I){return __webpack_require__(3414).createCanvas(U,I)}},a.NodeCMapReaderFactory=j=class extends i.BaseCMapReaderFactory{_fetchData(U,I){return E(U).then(B=>({cMapData:B,compressionType:I}))}},a.NodeStandardFontDataFactory=F=class extends i.BaseStandardFontDataFactory{_fetchData(U){return E(U)}}}},(X,a,k)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AnnotationStorage=void 0;var i=k(1);a.AnnotationStorage=class R{constructor(){this._storage=new Map,this._timeStamp=Date.now(),this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(K,j){const F=this._storage.get(K);return void 0===F?j:Object.assign(j,F)}setValue(K,j){const F=this._storage.get(K);let E=!1;if(void 0!==F)for(const[U,I]of Object.entries(j))F[U]!==I&&(E=!0,F[U]=I);else E=!0,this._storage.set(K,j);E&&(this._timeStamp=Date.now(),this._setModified())}getAll(){return this._storage.size>0?(0,i.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get lastModified(){return this._timeStamp.toString()}}},(X,a,k)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CanvasGraphics=void 0;var i=k(1),R=k(11),D=k(5);const F=4096,O=16;function _(S){if(S._transformStack&&(S._transformStack=[]),!S.mozCurrentTransform){S._originalSave=S.save,S._originalRestore=S.restore,S._originalRotate=S.rotate,S._originalScale=S.scale,S._originalTranslate=S.translate,S._originalTransform=S.transform,S._originalSetTransform=S.setTransform,S._originalResetTransform=S.resetTransform,S._transformMatrix=S._transformMatrix||[1,0,0,1,0,0],S._transformStack=[];try{const l=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(S),"lineWidth");S._setLineWidth=l.set,S._getLineWidth=l.get,Object.defineProperty(S,"lineWidth",{set:function(g){this._setLineWidth(1.000001*g)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(S,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(S,"mozCurrentTransformInverse",{get:function(){const[s,g,c,e,o,p]=this._transformMatrix,M=s*e-g*c,A=g*c-s*e;return[e/M,g/A,c/A,s/M,(e*o-c*p)/A,(g*o-s*p)/M]}}),S.save=function(){const s=this._transformMatrix;this._transformStack.push(s),this._transformMatrix=s.slice(0,6),this._originalSave()},S.restore=function(){0===this._transformStack.length&&(0,i.warn)("Tried to restore a ctx when the stack was already empty.");const s=this._transformStack.pop();s&&(this._transformMatrix=s,this._originalRestore())},S.translate=function(s,g){const c=this._transformMatrix;c[4]=c[0]*s+c[2]*g+c[4],c[5]=c[1]*s+c[3]*g+c[5],this._originalTranslate(s,g)},S.scale=function(s,g){const c=this._transformMatrix;c[0]*=s,c[1]*=s,c[2]*=g,c[3]*=g,this._originalScale(s,g)},S.transform=function(s,g,c,e,o,p){const M=this._transformMatrix;this._transformMatrix=[M[0]*s+M[2]*g,M[1]*s+M[3]*g,M[0]*c+M[2]*e,M[1]*c+M[3]*e,M[0]*o+M[2]*p+M[4],M[1]*o+M[3]*p+M[5]],S._originalTransform(s,g,c,e,o,p)},S.setTransform=function(s,g,c,e,o,p){this._transformMatrix=[s,g,c,e,o,p],S._originalSetTransform(s,g,c,e,o,p)},S.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],S._originalResetTransform()},S.rotate=function(s){const g=Math.cos(s),c=Math.sin(s),e=this._transformMatrix;this._transformMatrix=[e[0]*g+e[2]*c,e[1]*g+e[3]*c,e[0]*-c+e[2]*g,e[1]*-c+e[3]*g,e[4],e[5]],this._originalRotate(s)}}}class T{constructor(l){this.canvasFactory=l,this.cache=Object.create(null)}getCanvas(l,s,g,c){let e;return void 0!==this.cache[l]?(e=this.cache[l],this.canvasFactory.reset(e,s,g),e.context.setTransform(1,0,0,1,0,0)):(e=this.canvasFactory.create(s,g),this.cache[l]=e),c&&_(e.context),e}clear(){for(const l in this.cache)this.canvasFactory.destroy(this.cache[l]),delete this.cache[l]}}class v{constructor(l,s){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,l,s])}clone(){const l=Object.create(this);return l.clipBox=this.clipBox.slice(),l}setCurrentPoint(l,s){this.x=l,this.y=s}updatePathMinMax(l,s,g){[s,g]=i.Util.applyTransform([s,g],l),this.minX=Math.min(this.minX,s),this.minY=Math.min(this.minY,g),this.maxX=Math.max(this.maxX,s),this.maxY=Math.max(this.maxY,g)}updateCurvePathMinMax(l,s,g,c,e,o,p,M,A){const d=i.Util.bezierBoundingBox(s,g,c,e,o,p,M,A);this.updatePathMinMax(l,d[0],d[1]),this.updatePathMinMax(l,d[2],d[3])}getPathBoundingBox(l=R.PathType.FILL,s=null){const g=[this.minX,this.minY,this.maxX,this.maxY];if(l===R.PathType.STROKE){s||(0,i.unreachable)("Stroke bounding box must include transform.");const c=i.Util.singularValueDecompose2dScale(s),e=c[0]*this.lineWidth/2,o=c[1]*this.lineWidth/2;g[0]-=e,g[1]-=o,g[2]+=e,g[3]+=o}return g}updateClipFromPath(){const l=i.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(l||[0,0,0,0])}startNewPathAndClipBox(l){this.clipBox=l,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(l=R.PathType.FILL,s=null){return i.Util.intersect(this.clipBox,this.getPathBoundingBox(l,s))}}function C(S,l,s=null){if(typeof ImageData<"u"&&l instanceof ImageData)return void S.putImageData(l,0,0);const g=l.height,c=l.width,e=g%O,o=(g-e)/O,p=0===e?o:o+1,M=S.createImageData(c,O);let d,A=0;const W=l.data,$=M.data;let q,Y,ie,oe,he,ue,ae,be;if(s)switch(s.length){case 1:he=s[0],ue=s[0],ae=s[0],be=s[0];break;case 4:he=s[0],ue=s[1],ae=s[2],be=s[3]}if(l.kind===i.ImageKind.GRAYSCALE_1BPP){const ye=W.byteLength,fe=new Uint32Array($.buffer,0,$.byteLength>>2),_e=fe.length,Ee=c+7>>3;let ee=4294967295,w=i.IsLittleEndianCached.value?4278190080:255;for(be&&255===be[0]&&0===be[255]&&([ee,w]=[w,ee]),q=0;q<p;q++){for(ie=q<o?O:e,d=0,Y=0;Y<ie;Y++){const z=ye-A;let Z=0;const se=z>Ee?c:8*z-7,re=-8&se;let le=0,ce=0;for(;Z<re;Z+=8)ce=W[A++],fe[d++]=128&ce?ee:w,fe[d++]=64&ce?ee:w,fe[d++]=32&ce?ee:w,fe[d++]=16&ce?ee:w,fe[d++]=8&ce?ee:w,fe[d++]=4&ce?ee:w,fe[d++]=2&ce?ee:w,fe[d++]=1&ce?ee:w;for(;Z<se;Z++)0===le&&(ce=W[A++],le=128),fe[d++]=ce&le?ee:w,le>>=1}for(;d<_e;)fe[d++]=0;S.putImageData(M,0,q*O)}}else if(l.kind===i.ImageKind.RGBA_32BPP){const ye=!!(he||ue||ae);for(Y=0,oe=c*O*4,q=0;q<o;q++){if($.set(W.subarray(A,A+oe)),A+=oe,ye)for(let fe=0;fe<oe;fe+=4)he&&($[fe+0]=he[$[fe+0]]),ue&&($[fe+1]=ue[$[fe+1]]),ae&&($[fe+2]=ae[$[fe+2]]);S.putImageData(M,0,Y),Y+=O}if(q<p){if(oe=c*e*4,$.set(W.subarray(A,A+oe)),ye)for(let fe=0;fe<oe;fe+=4)he&&($[fe+0]=he[$[fe+0]]),ue&&($[fe+1]=ue[$[fe+1]]),ae&&($[fe+2]=ae[$[fe+2]]);S.putImageData(M,0,Y)}}else{if(l.kind!==i.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${l.kind}`);{const ye=!!(he||ue||ae);for(ie=O,oe=c*ie,q=0;q<p;q++){for(q>=o&&(ie=e,oe=c*ie),d=0,Y=oe;Y--;)$[d++]=W[A++],$[d++]=W[A++],$[d++]=W[A++],$[d++]=255;if(ye)for(let fe=0;fe<d;fe+=4)he&&($[fe+0]=he[$[fe+0]]),ue&&($[fe+1]=ue[$[fe+1]]),ae&&($[fe+2]=ae[$[fe+2]]);S.putImageData(M,0,q*O)}}}}function n(S,l){const s=l.height,g=l.width,c=s%O,e=(s-c)/O,o=0===c?e:e+1,p=S.createImageData(g,O);let M=0;const A=l.data,d=p.data;for(let W=0;W<o;W++){const $=W<e?O:c;let q=3;for(let Y=0;Y<$;Y++){let ie,oe=0;for(let he=0;he<g;he++)oe||(ie=A[M++],oe=128),d[q]=ie&oe?0:255,q+=4,oe>>=1}S.putImageData(p,0,W*O)}}function t(S,l){const s=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let g=0,c=s.length;g<c;g++){const e=s[g];void 0!==S[e]&&(l[e]=S[e])}void 0!==S.setLineDash&&(l.setLineDash(S.getLineDash()),l.lineDashOffset=S.lineDashOffset)}function f(S){S.strokeStyle="#000000",S.fillStyle="#000000",S.fillRule="nonzero",S.globalAlpha=1,S.lineWidth=1,S.lineCap="butt",S.lineJoin="miter",S.miterLimit=10,S.globalCompositeOperation="source-over",S.font="10px sans-serif",void 0!==S.setLineDash&&(S.setLineDash([]),S.lineDashOffset=0)}function x(S,l,s,g){const c=S.length;for(let e=3;e<c;e+=4){const o=S[e];if(0===o)S[e-3]=l,S[e-2]=s,S[e-1]=g;else if(o<255){const p=255-o;S[e-3]=S[e-3]*o+l*p>>8,S[e-2]=S[e-2]*o+s*p>>8,S[e-1]=S[e-1]*o+g*p>>8}}}function u(S,l,s){const g=S.length;for(let e=3;e<g;e+=4)l[e]=l[e]*(s?s[S[e]]:S[e])*.00392156862745098|0}function b(S,l,s){const g=S.length;for(let c=3;c<g;c+=4){const e=77*S[c-3]+152*S[c-2]+28*S[c-1];l[c]=s?l[c]*s[e>>8]>>8:l[c]*e>>16}}function y(S,l){const s=i.Util.singularValueDecompose2dScale(S);s[0]=Math.fround(s[0]),s[1]=Math.fround(s[1]);const g=Math.fround((globalThis.devicePixelRatio||1)*D.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==l?l:s[0]<=g||s[1]<=g}const P=["butt","round","square"],N=["miter","round","bevel"],G={},H={};class Q{constructor(l,s,g,c,e,o,p){this.ctx=l,this.current=new v(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=s,this.objs=g,this.canvasFactory=c,this.imageLayer=e,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=o,this.cachedCanvases=new T(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=p,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,l&&_(l),this._cachedGetSinglePixelWidth=null}beginDrawing({transform:l,viewport:s,transparency:g=!1,background:c=null}){const e=this.ctx.canvas.width,o=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=c||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,e,o),this.ctx.restore(),g){const p=this.cachedCanvases.getCanvas("transparent",e,o,!0);this.compositeCtx=this.ctx,this.transparentCanvas=p.canvas,this.ctx=p.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),f(this.ctx),l&&(this.ctx.transform.apply(this.ctx,l),this.outputScaleX=l[0],this.outputScaleY=l[0]),this.ctx.transform.apply(this.ctx,s.transform),this.viewportScale=s.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(l,s,g,c){const e=l.argsArray,o=l.fnArray;let p=s||0;const M=e.length;if(M===p)return p;const A=M-p>10&&"function"==typeof g,d=A?Date.now()+15:0;let W=0;const $=this.commonObjs,q=this.objs;let Y;for(;;){if(void 0!==c&&p===c.nextBreakPoint)return c.breakIt(p,g),p;if(Y=o[p],Y!==i.OPS.dependency)this[Y].apply(this,e[p]);else for(const ie of e[p]){const oe=ie.startsWith("g_")?$:q;if(!oe.has(ie))return oe.get(ie,g),p}if(p++,p===M)return p;if(A&&++W>10){if(Date.now()>d)return g(),p;W=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(l,s){const g=l.width,c=l.height;let d,W,e=Math.max(Math.hypot(s[0],s[1]),1),o=Math.max(Math.hypot(s[2],s[3]),1),p=g,M=c,A="prescale1";for(;e>2&&p>1||o>2&&M>1;){let $=p,q=M;e>2&&p>1&&($=Math.ceil(p/2),e/=p/$),o>2&&M>1&&(q=Math.ceil(M/2),o/=M/q),d=this.cachedCanvases.getCanvas(A,$,q),W=d.context,W.clearRect(0,0,$,q),W.drawImage(l,0,0,p,M,0,0,$,q),l=d.canvas,p=$,M=q,A="prescale1"===A?"prescale2":"prescale1"}return{img:l,paintWidth:p,paintHeight:M}}_createMaskCanvas(l){const s=this.ctx,g=l.width,c=l.height,e=this.current.fillColor,o=this.current.patternFill,p=this.cachedCanvases.getCanvas("maskCanvas",g,c);n(p.context,l);let d=i.Util.transform(s.mozCurrentTransform,[1/g,0,0,-1/c,0,0]);d=i.Util.transform(d,[1,0,0,1,0,-c]);const W=i.Util.applyTransform([0,0],d),$=i.Util.applyTransform([g,c],d),q=i.Util.normalizeRect([W[0],W[1],$[0],$[1]]),Y=Math.ceil(q[2]-q[0]),ie=Math.ceil(q[3]-q[1]),oe=this.cachedCanvases.getCanvas("fillCanvas",Y,ie,!0),he=oe.context,ue=Math.min(W[0],$[0]),ae=Math.min(W[1],$[1]);he.translate(-ue,-ae),he.transform.apply(he,d);const be=this._scaleImage(p.canvas,he.mozCurrentTransformInverse);he.imageSmoothingEnabled=y(he.mozCurrentTransform,l.interpolate),he.drawImage(be.img,0,0,be.img.width,be.img.height,0,0,g,c),he.globalCompositeOperation="source-in";const ye=i.Util.transform(he.mozCurrentTransformInverse,[1,0,0,1,-ue,-ae]);return he.fillStyle=o?e.getPattern(s,this,ye,R.PathType.FILL):e,he.fillRect(0,0,g,c),{canvas:oe.canvas,offsetX:Math.round(ue),offsetY:Math.round(ae)}}setLineWidth(l){this.current.lineWidth=l,this.ctx.lineWidth=l}setLineCap(l){this.ctx.lineCap=P[l]}setLineJoin(l){this.ctx.lineJoin=N[l]}setMiterLimit(l){this.ctx.miterLimit=l}setDash(l,s){const g=this.ctx;void 0!==g.setLineDash&&(g.setLineDash(l),g.lineDashOffset=s)}setRenderingIntent(l){}setFlatness(l){}setGState(l){for(let s=0,g=l.length;s<g;s++){const c=l[s],o=c[1];switch(c[0]){case"LW":this.setLineWidth(o);break;case"LC":this.setLineCap(o);break;case"LJ":this.setLineJoin(o);break;case"ML":this.setMiterLimit(o);break;case"D":this.setDash(o[0],o[1]);break;case"RI":this.setRenderingIntent(o);break;case"FL":this.setFlatness(o);break;case"Font":this.setFont(o[0],o[1]);break;case"CA":this.current.strokeAlpha=c[1];break;case"ca":this.current.fillAlpha=c[1],this.ctx.globalAlpha=c[1];break;case"BM":this.ctx.globalCompositeOperation=o;break;case"SMask":this.current.activeSMask=o?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=o}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const l=this.inSMaskMode;this.current.activeSMask&&!l?this.beginSMaskMode():!this.current.activeSMask&&l&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const c=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=c.context;const e=this.ctx;e.setTransform.apply(e,this.suspendedCtx.mozCurrentTransform),t(this.suspendedCtx,e),function m(S,l){if(S._removeMirroring)throw new Error("Context is already forwarding operations.");S.__originalSave=S.save,S.__originalRestore=S.restore,S.__originalRotate=S.rotate,S.__originalScale=S.scale,S.__originalTranslate=S.translate,S.__originalTransform=S.transform,S.__originalSetTransform=S.setTransform,S.__originalResetTransform=S.resetTransform,S.__originalClip=S.clip,S.__originalMoveTo=S.moveTo,S.__originalLineTo=S.lineTo,S.__originalBezierCurveTo=S.bezierCurveTo,S.__originalRect=S.rect,S.__originalClosePath=S.closePath,S.__originalBeginPath=S.beginPath,S._removeMirroring=()=>{S.save=S.__originalSave,S.restore=S.__originalRestore,S.rotate=S.__originalRotate,S.scale=S.__originalScale,S.translate=S.__originalTranslate,S.transform=S.__originalTransform,S.setTransform=S.__originalSetTransform,S.resetTransform=S.__originalResetTransform,S.clip=S.__originalClip,S.moveTo=S.__originalMoveTo,S.lineTo=S.__originalLineTo,S.bezierCurveTo=S.__originalBezierCurveTo,S.rect=S.__originalRect,S.closePath=S.__originalClosePath,S.beginPath=S.__originalBeginPath,delete S._removeMirroring},S.save=function(){l.save(),this.__originalSave()},S.restore=function(){l.restore(),this.__originalRestore()},S.translate=function(g,c){l.translate(g,c),this.__originalTranslate(g,c)},S.scale=function(g,c){l.scale(g,c),this.__originalScale(g,c)},S.transform=function(g,c,e,o,p,M){l.transform(g,c,e,o,p,M),this.__originalTransform(g,c,e,o,p,M)},S.setTransform=function(g,c,e,o,p,M){l.setTransform(g,c,e,o,p,M),this.__originalSetTransform(g,c,e,o,p,M)},S.resetTransform=function(){l.resetTransform(),this.__originalResetTransform()},S.rotate=function(g){l.rotate(g),this.__originalRotate(g)},S.clip=function(g){l.clip(g),this.__originalClip(g)},S.moveTo=function(s,g){l.moveTo(s,g),this.__originalMoveTo(s,g)},S.lineTo=function(s,g){l.lineTo(s,g),this.__originalLineTo(s,g)},S.bezierCurveTo=function(s,g,c,e,o,p){l.bezierCurveTo(s,g,c,e,o,p),this.__originalBezierCurveTo(s,g,c,e,o,p)},S.rect=function(s,g,c,e){l.rect(s,g,c,e),this.__originalRect(s,g,c,e)},S.closePath=function(){l.closePath(),this.__originalClosePath()},S.beginPath=function(){l.beginPath(),this.__originalBeginPath()}}(e,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),t(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(l){this.current.activeSMask&&(l?(l[0]=Math.floor(l[0]),l[1]=Math.floor(l[1]),l[2]=Math.ceil(l[2]),l[3]=Math.ceil(l[3])):l=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function r(S,l,s,g){const c=g[0],e=g[1],o=g[2]-c,p=g[3]-e;0===o||0===p||(function h(S,l,s,g,c,e,o,p,M,A,d){const W=!!e,$=W?e[0]:0,q=W?e[1]:0,Y=W?e[2]:0;let ie;ie="Luminosity"===c?b:u;const he=Math.min(g,Math.ceil(1048576/s));for(let ue=0;ue<g;ue+=he){const ae=Math.min(he,g-ue),be=S.getImageData(p-A,ue+(M-d),s,ae),ye=l.getImageData(p,ue+M,s,ae);W&&x(be.data,$,q,Y),ie(be.data,ye.data,o),l.putImageData(ye,p,ue+M)}}(l.context,s,o,p,l.subtype,l.backdrop,l.transferMap,c,e,l.offsetX,l.offsetY),S.save(),S.globalAlpha=1,S.globalCompositeOperation="source-over",S.setTransform(1,0,0,1,0,0),S.drawImage(s.canvas,0,0),S.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,l),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(t(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const l=this.current;this.stateStack.push(l),this.current=l.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),t(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)}transform(l,s,g,c,e,o){this.ctx.transform(l,s,g,c,e,o),this._cachedGetSinglePixelWidth=null}constructPath(l,s){const g=this.ctx,c=this.current;let p,M,e=c.x,o=c.y;for(let A=0,d=0,W=l.length;A<W;A++)switch(0|l[A]){case i.OPS.rectangle:e=s[d++],o=s[d++];const $=s[d++],q=s[d++],Y=e+$,ie=o+q;g.moveTo(e,o),0===$||0===q?g.lineTo(Y,ie):(g.lineTo(Y,o),g.lineTo(Y,ie),g.lineTo(e,ie)),c.updatePathMinMax(g.mozCurrentTransform,e,o),c.updatePathMinMax(g.mozCurrentTransform,Y,ie),g.closePath();break;case i.OPS.moveTo:e=s[d++],o=s[d++],g.moveTo(e,o),c.updatePathMinMax(g.mozCurrentTransform,e,o);break;case i.OPS.lineTo:e=s[d++],o=s[d++],g.lineTo(e,o),c.updatePathMinMax(g.mozCurrentTransform,e,o);break;case i.OPS.curveTo:p=e,M=o,e=s[d+4],o=s[d+5],g.bezierCurveTo(s[d],s[d+1],s[d+2],s[d+3],e,o),c.updateCurvePathMinMax(g.mozCurrentTransform,p,M,s[d],s[d+1],s[d+2],s[d+3],e,o),d+=6;break;case i.OPS.curveTo2:p=e,M=o,g.bezierCurveTo(e,o,s[d],s[d+1],s[d+2],s[d+3]),c.updateCurvePathMinMax(g.mozCurrentTransform,p,M,e,o,s[d],s[d+1],s[d+2],s[d+3]),e=s[d+2],o=s[d+3],d+=4;break;case i.OPS.curveTo3:p=e,M=o,e=s[d+2],o=s[d+3],g.bezierCurveTo(s[d],s[d+1],e,o,e,o),c.updateCurvePathMinMax(g.mozCurrentTransform,p,M,s[d],s[d+1],e,o,e,o),d+=4;break;case i.OPS.closePath:g.closePath()}c.setCurrentPoint(e,o)}closePath(){this.ctx.closePath()}stroke(l){l=!(typeof l<"u")||l;const s=this.ctx,g=this.current.strokeColor;if(s.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"==typeof g&&g?.getPattern){const c=this.getSinglePixelWidth();s.save(),s.strokeStyle=g.getPattern(s,this,s.mozCurrentTransformInverse,R.PathType.STROKE),s.lineWidth=Math.max(c,this.current.lineWidth),s.stroke(),s.restore()}else{const c=this.getSinglePixelWidth();c<0&&-c>=this.current.lineWidth?(s.save(),s.resetTransform(),s.lineWidth=Math.floor(this._combinedScaleFactor),s.stroke(),s.restore()):(s.lineWidth=Math.max(c,this.current.lineWidth),s.stroke())}l&&this.consumePath(this.current.getClippedPathBoundingBox()),s.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(l){l=!(typeof l<"u")||l;const s=this.ctx,g=this.current.fillColor;let e=!1;this.current.patternFill&&(s.save(),s.fillStyle=g.getPattern(s,this,s.mozCurrentTransformInverse,R.PathType.FILL),e=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==o&&(this.pendingEOFill?(s.fill("evenodd"),this.pendingEOFill=!1):s.fill()),e&&s.restore(),l&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=G}eoClip(){this.pendingClip=H}beginText(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const l=this.pendingTextPaths,s=this.ctx;if(void 0!==l){s.save(),s.beginPath();for(let g=0;g<l.length;g++){const c=l[g];s.setTransform.apply(s,c.transform),s.translate(c.x,c.y),c.addToPath(s,c.fontSize)}s.restore(),s.clip(),s.beginPath(),delete this.pendingTextPaths}else s.beginPath()}setCharSpacing(l){this.current.charSpacing=l}setWordSpacing(l){this.current.wordSpacing=l}setHScale(l){this.current.textHScale=l/100}setLeading(l){this.current.leading=-l}setFont(l,s){const g=this.commonObjs.get(l),c=this.current;if(!g)throw new Error(`Can't find font for ${l}`);if(c.fontMatrix=g.fontMatrix||i.FONT_IDENTITY_MATRIX,(0===c.fontMatrix[0]||0===c.fontMatrix[3])&&(0,i.warn)("Invalid font matrix for font "+l),s<0?(s=-s,c.fontDirection=-1):c.fontDirection=1,this.current.font=g,this.current.fontSize=s,g.isType3Font)return;let o="normal";g.black?o="900":g.bold&&(o="bold");const p=g.italic?"italic":"normal",M=`"${g.loadedName||"sans-serif"}", ${g.fallbackName}`;let A=s;s<16?A=16:s>100&&(A=100),this.current.fontSizeScale=s/A,this.ctx.font=`${p} ${o} ${A}px ${M}`}setTextRenderingMode(l){this.current.textRenderingMode=l}setTextRise(l){this.current.textRise=l}moveText(l,s){this.current.x=this.current.lineX+=l,this.current.y=this.current.lineY+=s}setLeadingMoveText(l,s){this.setLeading(-s),this.moveText(l,s)}setTextMatrix(l,s,g,c,e,o){this.current.textMatrix=[l,s,g,c,e,o],this.current.textMatrixScale=Math.hypot(l,s),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(l,s,g,c,e){const o=this.ctx,p=this.current,M=p.font,A=p.textRenderingMode,d=p.fontSize/p.fontSizeScale,W=A&i.TextRenderingMode.FILL_STROKE_MASK,$=!!(A&i.TextRenderingMode.ADD_TO_PATH_FLAG),q=p.patternFill&&!M.missingFile;let Y;(M.disableFontFace||$||q)&&(Y=M.getPathGenerator(this.commonObjs,l)),M.disableFontFace||q?(o.save(),o.translate(s,g),o.beginPath(),Y(o,d),c&&o.setTransform.apply(o,c),(W===i.TextRenderingMode.FILL||W===i.TextRenderingMode.FILL_STROKE)&&o.fill(),(W===i.TextRenderingMode.STROKE||W===i.TextRenderingMode.FILL_STROKE)&&(e&&(o.resetTransform(),o.lineWidth=Math.floor(this._combinedScaleFactor)),o.stroke()),o.restore()):((W===i.TextRenderingMode.FILL||W===i.TextRenderingMode.FILL_STROKE)&&o.fillText(l,s,g),(W===i.TextRenderingMode.STROKE||W===i.TextRenderingMode.FILL_STROKE)&&(e?(o.save(),o.moveTo(s,g),o.resetTransform(),o.lineWidth=Math.floor(this._combinedScaleFactor),o.strokeText(l,0,0),o.restore()):o.strokeText(l,s,g))),$&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:o.mozCurrentTransform,x:s,y:g,fontSize:d,addToPath:Y})}get isFontSubpixelAAEnabled(){const{context:l}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);l.scale(1.5,1),l.fillText("I",0,10);const s=l.getImageData(0,0,10,10).data;let g=!1;for(let c=3;c<s.length;c+=4)if(s[c]>0&&s[c]<255){g=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",g)}showText(l){const s=this.current,g=s.font;if(g.isType3Font)return this.showType3Text(l);const c=s.fontSize;if(0===c)return;const e=this.ctx,o=s.fontSizeScale,p=s.charSpacing,M=s.wordSpacing,A=s.fontDirection,d=s.textHScale*A,W=l.length,$=g.vertical,q=$?1:-1,Y=g.defaultVMetrics,ie=c*s.fontMatrix[0],oe=s.textRenderingMode===i.TextRenderingMode.FILL&&!g.disableFontFace&&!s.patternFill;let he;if(e.save(),e.transform.apply(e,s.textMatrix),e.translate(s.x,s.y+s.textRise),e.scale(d,A>0?-1:1),s.patternFill){e.save();const _e=s.fillColor.getPattern(e,this,e.mozCurrentTransformInverse,R.PathType.FILL);he=e.mozCurrentTransform,e.restore(),e.fillStyle=_e}let ue=s.lineWidth,ae=!1;const be=s.textMatrixScale;if(0===be||0===ue){const _e=s.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;(_e===i.TextRenderingMode.STROKE||_e===i.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,ue=this.getSinglePixelWidth(),ae=ue<0)}else ue/=be;1!==o&&(e.scale(o,o),ue/=o),e.lineWidth=ue;let fe,ye=0;for(fe=0;fe<W;++fe){const _e=l[fe];if("number"==typeof _e){ye+=q*_e*c/1e3;continue}let Ee=!1;const ee=(_e.isSpace?M:0)+p,w=_e.fontChar,z=_e.accent;let Z,se,le,re=_e.width;if($){const ce=_e.vmetric||Y,de=-(_e.vmetric?ce[1]:.5*re)*ie;re=ce?-ce[0]:re,Z=de/o,se=(ye+ce[2]*ie)/o}else Z=ye/o,se=0;if(g.remeasure&&re>0){const ce=1e3*e.measureText(w).width/c*o;if(re<ce&&this.isFontSubpixelAAEnabled){const de=re/ce;Ee=!0,e.save(),e.scale(de,1),Z/=de}else re!==ce&&(Z+=(re-ce)/2e3*c/o)}this.contentVisible&&(_e.isInFont||g.missingFile)&&(oe&&!z?e.fillText(w,Z,se):(this.paintChar(w,Z,se,he,ae),z&&this.paintChar(z.fontChar,Z+c*z.offset.x/o,se-c*z.offset.y/o,he,ae))),le=$?re*ie-ee*A:re*ie+ee*A,ye+=le,Ee&&e.restore()}$?s.y-=ye:s.x+=ye*d,e.restore(),this.compose()}showType3Text(l){const s=this.ctx,g=this.current,c=g.font,e=g.fontSize,o=g.fontDirection,p=c.vertical?1:-1,M=g.charSpacing,A=g.wordSpacing,d=g.textHScale*o,W=g.fontMatrix||i.FONT_IDENTITY_MATRIX,$=l.length;let Y,ie,oe,he;if(g.textRenderingMode!==i.TextRenderingMode.INVISIBLE&&0!==e){for(this._cachedGetSinglePixelWidth=null,s.save(),s.transform.apply(s,g.textMatrix),s.translate(g.x,g.y),s.scale(d,o),Y=0;Y<$;++Y){if(ie=l[Y],"number"==typeof ie){he=p*ie*e/1e3,this.ctx.translate(he,0),g.x+=he*d;continue}const ue=(ie.isSpace?A:0)+M,ae=c.charProcOperatorList[ie.operatorListId];ae?(this.contentVisible&&(this.processingType3=ie,this.save(),s.scale(e,e),s.transform.apply(s,W),this.executeOperatorList(ae),this.restore()),oe=i.Util.applyTransform([ie.width,0],W)[0]*e+ue,s.translate(oe,0),g.x+=oe*d):(0,i.warn)(`Type3 character "${ie.operatorListId}" is not available.`)}s.restore(),this.processingType3=null}}setCharWidth(l,s){}setCharWidthAndBounds(l,s,g,c,e,o){this.ctx.rect(g,c,e-g,o-c),this.clip(),this.endPath()}getColorN_Pattern(l){let s;if("TilingPattern"===l[0]){const g=l[1],c=this.baseTransform||this.ctx.mozCurrentTransform.slice();s=new R.TilingPattern(l,g,this.ctx,{createCanvasGraphics:o=>new Q(o,this.commonObjs,this.objs,this.canvasFactory)},c)}else s=this._getPattern(l[1],l[2]);return s}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(l,s,g){const c=i.Util.makeHexColor(l,s,g);this.ctx.strokeStyle=c,this.current.strokeColor=c}setFillRGBColor(l,s,g){const c=i.Util.makeHexColor(l,s,g);this.ctx.fillStyle=c,this.current.fillColor=c,this.current.patternFill=!1}_getPattern(l,s=null){let g;return this.cachedPatterns.has(l)?g=this.cachedPatterns.get(l):(g=(0,R.getShadingPattern)(this.objs.get(l)),this.cachedPatterns.set(l,g)),s&&(g.matrix=s),g}shadingFill(l){if(!this.contentVisible)return;const s=this.ctx;this.save();const g=this._getPattern(l);s.fillStyle=g.getPattern(s,this,s.mozCurrentTransformInverse,R.PathType.SHADING);const c=s.mozCurrentTransformInverse;if(c){const e=s.canvas,o=e.width,p=e.height,M=i.Util.applyTransform([0,0],c),A=i.Util.applyTransform([0,p],c),d=i.Util.applyTransform([o,0],c),W=i.Util.applyTransform([o,p],c),$=Math.min(M[0],A[0],d[0],W[0]),q=Math.min(M[1],A[1],d[1],W[1]),Y=Math.max(M[0],A[0],d[0],W[0]),ie=Math.max(M[1],A[1],d[1],W[1]);this.ctx.fillRect($,q,Y-$,ie-q)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,i.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,i.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(l,s){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(l)&&6===l.length&&this.transform.apply(this,l),this.baseTransform=this.ctx.mozCurrentTransform,s)&&(this.ctx.rect(s[0],s[1],s[2]-s[0],s[3]-s[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,s[0],s[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,s[2],s[3]),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(l){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const s=this.ctx;l.isolated||(0,i.info)("TODO: Support non-isolated groups."),l.knockout&&(0,i.warn)("Knockout groups not supported.");const g=s.mozCurrentTransform;if(l.matrix&&s.transform.apply(s,l.matrix),!l.bbox)throw new Error("Bounding box is required.");let c=i.Util.getAxialAlignedBoundingBox(l.bbox,s.mozCurrentTransform);c=i.Util.intersect(c,[0,0,s.canvas.width,s.canvas.height])||[0,0,0,0];const o=Math.floor(c[0]),p=Math.floor(c[1]);let M=Math.max(Math.ceil(c[2])-o,1),A=Math.max(Math.ceil(c[3])-p,1),d=1,W=1;M>F&&(d=M/F,M=F),A>F&&(W=A/F,A=F),this.current.startNewPathAndClipBox([0,0,M,A]);let $="groupAt"+this.groupLevel;l.smask&&($+="_smask_"+this.smaskCounter++%2);const q=this.cachedCanvases.getCanvas($,M,A,!0),Y=q.context;Y.scale(1/d,1/W),Y.translate(-o,-p),Y.transform.apply(Y,g),l.smask?this.smaskStack.push({canvas:q.canvas,context:Y,offsetX:o,offsetY:p,scaleX:d,scaleY:W,subtype:l.smask.subtype,backdrop:l.smask.backdrop,transferMap:l.smask.transferMap||null,startTransformInverse:null}):(s.setTransform(1,0,0,1,0,0),s.translate(o,p),s.scale(d,W),s.save()),t(s,Y),this.ctx=Y,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(s),this.groupLevel++}endGroup(l){if(!this.contentVisible)return;this.groupLevel--;const s=this.ctx,g=this.groupStack.pop();if(this.ctx=g,this.ctx.imageSmoothingEnabled=!1,l.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const c=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,c);const e=i.Util.getAxialAlignedBoundingBox([0,0,s.canvas.width,s.canvas.height],c);this.ctx.drawImage(s.canvas,0,0),this.ctx.restore(),this.compose(e)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(l,s,g,c,e){if(this.save(),Array.isArray(s)&&4===s.length){const o=s[2]-s[0],p=s[3]-s[1];if(e&&this.annotationCanvasMap){(g=g.slice())[4]-=s[0],g[5]-=s[1],(s=s.slice())[0]=s[1]=0,s[2]=o,s[3]=p;const[M,A]=i.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:d}=this,W=Math.ceil(o*this.outputScaleX*d),$=Math.ceil(p*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(W,$);const{canvas:q,context:Y}=this.annotationCanvas;q.style.width=`calc(${o}px * var(--viewport-scale-factor))`,q.style.height=`calc(${p}px * var(--viewport-scale-factor))`,this.annotationCanvasMap.set(l,q),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Y,this.ctx.setTransform(M,0,0,-A,0,p*A),_(this.ctx),f(this.ctx)}else f(this.ctx),this.ctx.rect(s[0],s[1],o,p),this.clip(),this.endPath()}this.current=new v(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,g),this.transform.apply(this,c)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(l){if(!this.contentVisible)return;const s=this.ctx,g=l.width,c=l.height,e=this.processingType3;if(e&&void 0===e.compiled&&(e.compiled=g<=1e3&&c<=1e3?function L(S){const s=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),g=S.width,c=S.height,e=g+1;let o,p,M,A;const d=new Uint8Array(e*(c+1)),W=g+7&-8,$=S.data,q=new Uint8Array(W*c);let Y=0;for(o=0,p=$.length;o<p;o++){const ae=$[o];let be=128;for(;be>0;)q[Y++]=ae&be?0:255,be>>=1}let ie=0;for(Y=0,0!==q[Y]&&(d[0]=1,++ie),M=1;M<g;M++)q[Y]!==q[Y+1]&&(d[M]=q[Y]?2:1,++ie),Y++;for(0!==q[Y]&&(d[M]=2,++ie),o=1;o<c;o++){Y=o*W,A=o*e,q[Y-W]!==q[Y]&&(d[A]=q[Y]?1:8,++ie);let ae=(q[Y]?4:0)+(q[Y-W]?8:0);for(M=1;M<g;M++)ae=(ae>>2)+(q[Y+1]?4:0)+(q[Y-W+1]?8:0),s[ae]&&(d[A+M]=s[ae],++ie),Y++;if(q[Y-W]!==q[Y]&&(d[A+M]=q[Y]?2:4,++ie),ie>1e3)return null}for(Y=W*(c-1),A=o*e,0!==q[Y]&&(d[A]=8,++ie),M=1;M<g;M++)q[Y]!==q[Y+1]&&(d[A+M]=q[Y]?4:8,++ie),Y++;if(0!==q[Y]&&(d[A+M]=4,++ie),ie>1e3)return null;const oe=new Int32Array([0,e,-1,0,-e,0,0,0,1]),he=[];for(o=0;ie&&o<=c;o++){let ae=o*e;const be=ae+g;for(;ae<be&&!d[ae];)ae++;if(ae===be)continue;const ye=[ae%e,o],fe=ae;let _e=d[ae];do{const Ee=oe[_e];do{ae+=Ee}while(!d[ae]);const ee=d[ae];5!==ee&&10!==ee?(_e=ee,d[ae]=0):(_e=ee&51*_e>>4,d[ae]&=_e>>2|_e<<2),ye.push(ae%e,ae/e|0),d[ae]||--ie}while(fe!==ae);he.push(ye),--o}return function(ae){ae.save(),ae.scale(1/g,-1/c),ae.translate(0,-c),ae.beginPath();for(let be=0,ye=he.length;be<ye;be++){const fe=he[be];ae.moveTo(fe[0],fe[1]);for(let _e=2,Ee=fe.length;_e<Ee;_e+=2)ae.lineTo(fe[_e],fe[_e+1])}ae.fill(),ae.beginPath(),ae.restore()}}({data:l.data,width:g,height:c}):null),e?.compiled)return void e.compiled(s);const o=this._createMaskCanvas(l),p=o.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(p,o.offsetX,o.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(l,s,g=0,c=0,e,o){if(!this.contentVisible)return;const p=this.ctx;p.save();const M=p.mozCurrentTransform;p.transform(s,g,c,e,0,0);const A=this._createMaskCanvas(l);p.setTransform(1,0,0,1,0,0);for(let d=0,W=o.length;d<W;d+=2){const $=i.Util.transform(M,[s,g,c,e,o[d],o[d+1]]),[q,Y]=i.Util.applyTransform([0,0],$);p.drawImage(A.canvas,q,Y)}p.restore(),this.compose()}paintImageMaskXObjectGroup(l){if(!this.contentVisible)return;const s=this.ctx,g=this.current.fillColor,c=this.current.patternFill;for(let e=0,o=l.length;e<o;e++){const p=l[e],M=p.width,A=p.height,d=this.cachedCanvases.getCanvas("maskCanvas",M,A),W=d.context;W.save(),n(W,p),W.globalCompositeOperation="source-in",W.fillStyle=c?g.getPattern(W,this,s.mozCurrentTransformInverse,R.PathType.FILL):g,W.fillRect(0,0,M,A),W.restore(),s.save(),s.transform.apply(s,p.transform),s.scale(1,-1),s.drawImage(d.canvas,0,0,M,A,0,-1,1,1),s.restore()}this.compose()}paintImageXObject(l){if(!this.contentVisible)return;const s=l.startsWith("g_")?this.commonObjs.get(l):this.objs.get(l);s?this.paintInlineImageXObject(s):(0,i.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(l,s,g,c){if(!this.contentVisible)return;const e=l.startsWith("g_")?this.commonObjs.get(l):this.objs.get(l);if(!e)return void(0,i.warn)("Dependent image isn't ready yet");const o=e.width,p=e.height,M=[];for(let A=0,d=c.length;A<d;A+=2)M.push({transform:[s,0,0,g,c[A],c[A+1]],x:0,y:0,w:o,h:p});this.paintInlineImageXObjectGroup(e,M)}paintInlineImageXObject(l){if(!this.contentVisible)return;const s=l.width,g=l.height,c=this.ctx;let e;if(this.save(),c.scale(1/s,-1/g),"function"==typeof HTMLElement&&l instanceof HTMLElement||!l.data)e=l;else{const p=this.cachedCanvases.getCanvas("inlineImage",s,g);C(p.context,l,this.current.transferMaps),e=p.canvas}const o=this._scaleImage(e,c.mozCurrentTransformInverse);if(c.imageSmoothingEnabled=y(c.mozCurrentTransform,l.interpolate),c.drawImage(o.img,0,0,o.paintWidth,o.paintHeight,0,-g,s,g),this.imageLayer){const p=this.getCanvasPosition(0,-g);this.imageLayer.appendImage({imgData:l,left:p[0],top:p[1],width:s/c.mozCurrentTransformInverse[0],height:g/c.mozCurrentTransformInverse[3]})}this.compose(),this.restore()}paintInlineImageXObjectGroup(l,s){if(!this.contentVisible)return;const g=this.ctx,c=l.width,e=l.height,o=this.cachedCanvases.getCanvas("inlineImage",c,e);C(o.context,l,this.current.transferMaps);for(let M=0,A=s.length;M<A;M++){const d=s[M];if(g.save(),g.transform.apply(g,d.transform),g.scale(1,-1),g.drawImage(o.canvas,d.x,d.y,d.w,d.h,0,-1,1,1),this.imageLayer){const W=this.getCanvasPosition(d.x,d.y);this.imageLayer.appendImage({imgData:l,left:W[0],top:W[1],width:c,height:e})}g.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(l){}markPointProps(l,s){}beginMarkedContent(l){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(l,s){this.markedContentStack.push("OC"===l?{visible:this.optionalContentConfig.isVisible(s)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(l){this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(l);const s=this.ctx;this.pendingClip&&(this.pendingClip===H?s.clip("evenodd"):s.clip(),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),s.beginPath()}getSinglePixelWidth(){if(null===this._cachedGetSinglePixelWidth){const l=this.ctx.mozCurrentTransform,s=Math.abs(l[0]*l[3]-l[2]*l[1]),g=l[0]**2+l[2]**2,c=l[1]**2+l[3]**2,e=Math.sqrt(Math.max(g,c))/s;this._cachedGetSinglePixelWidth=g!==c&&this._combinedScaleFactor*e>1?-this._combinedScaleFactor*e:s>Number.EPSILON?e:1}return this._cachedGetSinglePixelWidth}getCanvasPosition(l,s){const g=this.ctx.mozCurrentTransform;return[g[0]*l+g[2]*s+g[4],g[1]*l+g[3]*s+g[5]]}isContentVisible(){for(let l=this.markedContentStack.length-1;l>=0;l--)if(!this.markedContentStack[l].visible)return!1;return!0}}a.CanvasGraphics=Q;for(const S in i.OPS)void 0!==Q.prototype[S]&&(Q.prototype[i.OPS[S]]=Q.prototype[S])},(X,a,k)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TilingPattern=a.PathType=void 0,a.getShadingPattern=function B(m){switch(m[0]){case"RadialAxial":return new j(m);case"Mesh":return new U(m);case"Dummy":return new I}throw new Error(`Unknown IR type: ${m[0]}`)};var i=k(1);const R={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function D(m,_){if(!_||typeof Path2D>"u")return;const T=_[2]-_[0],L=_[3]-_[1],v=new Path2D;v.rect(_[0],_[1],T,L),m.clip(v)}a.PathType=R;class K{constructor(){this.constructor===K&&(0,i.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,i.unreachable)("Abstract method `getPattern` called.")}}class j extends K{constructor(_){super(),this._type=_[1],this._bbox=_[2],this._colorStops=_[3],this._p0=_[4],this._p1=_[5],this._r0=_[6],this._r1=_[7],this.matrix=null}_createGradient(_){let T;"axial"===this._type?T=_.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(T=_.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const L of this._colorStops)T.addColorStop(L[0],L[1]);return T}getPattern(_,T,L,v){let C;if(v===R.STROKE||v===R.FILL){const n=T.current.getClippedPathBoundingBox(v,_.mozCurrentTransform)||[0,0,0,0],t=Math.ceil(n[2]-n[0])||1,f=Math.ceil(n[3]-n[1])||1,x=T.cachedCanvases.getCanvas("pattern",t,f,!0),u=x.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-n[0],-n[1]),L=i.Util.transform(L,[1,0,0,1,n[0],n[1]]),u.transform.apply(u,T.baseTransform),this.matrix&&u.transform.apply(u,this.matrix),D(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),C=_.createPattern(x.canvas,"no-repeat");const b=new DOMMatrix(L);try{C.setTransform(b)}catch(h){(0,i.warn)(`RadialAxialShadingPattern.getPattern: "${h?.message}".`)}}else D(_,this._bbox),C=this._createGradient(_);return C}}function F(m,_,T,L,v,C,n,t){const f=_.coords,x=_.colors,u=m.data,b=4*m.width;let h;f[T+1]>f[L+1]&&(h=T,T=L,L=h,h=C,C=n,n=h),f[L+1]>f[v+1]&&(h=L,L=v,v=h,h=n,n=t,t=h),f[T+1]>f[L+1]&&(h=T,T=L,L=h,h=C,C=n,n=h);const r=(f[T]+_.offsetX)*_.scaleX,y=(f[T+1]+_.offsetY)*_.scaleY,P=(f[L]+_.offsetX)*_.scaleX,N=(f[L+1]+_.offsetY)*_.scaleY,G=(f[v]+_.offsetX)*_.scaleX,H=(f[v+1]+_.offsetY)*_.scaleY;if(y>=H)return;const Q=x[C],S=x[C+1],l=x[C+2],s=x[n],g=x[n+1],c=x[n+2],e=x[t],o=x[t+1],p=x[t+2],M=Math.round(y),A=Math.round(H);let d,W,$,q,Y,ie,oe,he;for(let ue=M;ue<=A;ue++){if(ue<N){let _e;_e=ue<y?0:(y-ue)/(y-N),d=r-(r-P)*_e,W=Q-(Q-s)*_e,$=S-(S-g)*_e,q=l-(l-c)*_e}else{let _e;_e=ue>H?1:N===H?0:(N-ue)/(N-H),d=P-(P-G)*_e,W=s-(s-e)*_e,$=g-(g-o)*_e,q=c-(c-p)*_e}let ae;ae=ue<y?0:ue>H?1:(y-ue)/(y-H),Y=r-(r-G)*ae,ie=Q-(Q-e)*ae,oe=S-(S-o)*ae,he=l-(l-p)*ae;const be=Math.round(Math.min(d,Y)),ye=Math.round(Math.max(d,Y));let fe=b*ue+4*be;for(let _e=be;_e<=ye;_e++)ae=(d-_e)/(d-Y),ae<0?ae=0:ae>1&&(ae=1),u[fe++]=W-(W-ie)*ae|0,u[fe++]=$-($-oe)*ae|0,u[fe++]=q-(q-he)*ae|0,u[fe++]=255}}function E(m,_,T){const L=_.coords,v=_.colors;let C,n;switch(_.type){case"lattice":const t=_.verticesPerRow,f=Math.floor(L.length/t)-1,x=t-1;for(C=0;C<f;C++){let u=C*t;for(let b=0;b<x;b++,u++)F(m,T,L[u],L[u+1],L[u+t],v[u],v[u+1],v[u+t]),F(m,T,L[u+t+1],L[u+1],L[u+t],v[u+t+1],v[u+1],v[u+t])}break;case"triangles":for(C=0,n=L.length;C<n;C+=3)F(m,T,L[C],L[C+1],L[C+2],v[C],v[C+1],v[C+2]);break;default:throw new Error("illegal figure")}}class U extends K{constructor(_){super(),this._coords=_[2],this._colors=_[3],this._figures=_[4],this._bounds=_[5],this._bbox=_[7],this._background=_[8],this.matrix=null}_createMeshCanvas(_,T,L){const t=Math.floor(this._bounds[0]),f=Math.floor(this._bounds[1]),x=Math.ceil(this._bounds[2])-t,u=Math.ceil(this._bounds[3])-f,b=Math.min(Math.ceil(Math.abs(x*_[0]*1.1)),3e3),h=Math.min(Math.ceil(Math.abs(u*_[1]*1.1)),3e3),r=x/b,y=u/h,P={coords:this._coords,colors:this._colors,offsetX:-t,offsetY:-f,scaleX:1/r,scaleY:1/y},H=L.getCanvas("mesh",b+4,h+4,!1),Q=H.context,S=Q.createImageData(b,h);if(T){const s=S.data;for(let g=0,c=s.length;g<c;g+=4)s[g]=T[0],s[g+1]=T[1],s[g+2]=T[2],s[g+3]=255}for(const s of this._figures)E(S,s,P);return Q.putImageData(S,2,2),{canvas:H.canvas,offsetX:t-2*r,offsetY:f-2*y,scaleX:r,scaleY:y}}getPattern(_,T,L,v){let C;if(D(_,this._bbox),v===R.SHADING)C=i.Util.singularValueDecompose2dScale(_.mozCurrentTransform);else if(C=i.Util.singularValueDecompose2dScale(T.baseTransform),this.matrix){const t=i.Util.singularValueDecompose2dScale(this.matrix);C=[C[0]*t[0],C[1]*t[1]]}const n=this._createMeshCanvas(C,v===R.SHADING?null:this._background,T.cachedCanvases);return v!==R.SHADING&&(_.setTransform.apply(_,T.baseTransform),this.matrix&&_.transform.apply(_,this.matrix)),_.translate(n.offsetX,n.offsetY),_.scale(n.scaleX,n.scaleY),_.createPattern(n.canvas,"no-repeat")}}class I extends K{getPattern(){return"hotpink"}}class V{static get MAX_PATTERN_SIZE(){return(0,i.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(_,T,L,v,C){this.operatorList=_[2],this.matrix=_[3]||[1,0,0,1,0,0],this.bbox=_[4],this.xstep=_[5],this.ystep=_[6],this.paintType=_[7],this.tilingType=_[8],this.color=T,this.ctx=L,this.canvasGraphicsFactory=v,this.baseTransform=C}createPatternCanvas(_){const T=this.operatorList,L=this.bbox,v=this.xstep,C=this.ystep,n=this.paintType,f=this.color,x=this.canvasGraphicsFactory;(0,i.info)("TilingType: "+this.tilingType);const u=L[0],b=L[1],h=L[2],r=L[3],y=i.Util.singularValueDecompose2dScale(this.matrix),P=i.Util.singularValueDecompose2dScale(this.baseTransform),N=[y[0]*P[0],y[1]*P[1]],G=this.getSizeAndScale(v,this.ctx.canvas.width,N[0]),H=this.getSizeAndScale(C,this.ctx.canvas.height,N[1]),Q=_.cachedCanvases.getCanvas("pattern",G.size,H.size,!0),S=Q.context,l=x.createCanvasGraphics(S);l.groupLevel=_.groupLevel,this.setFillAndStrokeStyleToContext(l,n,f);let s=u,g=b,c=h,e=r;return u<0&&(s=0,c+=Math.abs(u)),b<0&&(g=0,e+=Math.abs(b)),S.translate(-G.scale*s,-H.scale*g),l.transform(G.scale,0,0,H.scale,0,0),S.save(),this.clipBbox(l,s,g,c,e),l.baseTransform=l.ctx.mozCurrentTransform.slice(),l.executeOperatorList(T),l.endDrawing(),{canvas:Q.canvas,scaleX:G.scale,scaleY:H.scale,offsetX:s,offsetY:g}}getSizeAndScale(_,T,L){_=Math.abs(_);const v=Math.max(V.MAX_PATTERN_SIZE,T);let C=Math.ceil(_*L);return C>=v?C=v:L=C/_,{scale:L,size:C}}clipBbox(_,T,L,v,C){_.ctx.rect(T,L,v-T,C-L),_.clip(),_.endPath()}setFillAndStrokeStyleToContext(_,T,L){const v=_.ctx,C=_.current;switch(T){case 1:const n=this.ctx;v.fillStyle=n.fillStyle,v.strokeStyle=n.strokeStyle,C.fillColor=n.fillStyle,C.strokeColor=n.strokeStyle;break;case 2:const t=i.Util.makeHexColor(L[0],L[1],L[2]);v.fillStyle=t,v.strokeStyle=t,C.fillColor=t,C.strokeColor=t;break;default:throw new i.FormatError(`Unsupported paint type: ${T}`)}}getPattern(_,T,L,v){let C=L;v!==R.SHADING&&(C=i.Util.transform(C,T.baseTransform),this.matrix&&(C=i.Util.transform(C,this.matrix)));const n=this.createPatternCanvas(T);let t=new DOMMatrix(C);t=t.translate(n.offsetX,n.offsetY),t=t.scale(1/n.scaleX,1/n.scaleY);const f=_.createPattern(n.canvas,"repeat");try{f.setTransform(t)}catch(x){(0,i.warn)(`TilingPattern.getPattern: "${x?.message}".`)}return f}}a.TilingPattern=V},(X,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.GlobalWorkerOptions=void 0;const k=Object.create(null);a.GlobalWorkerOptions=k,k.workerPort=void 0===k.workerPort?null:k.workerPort,k.workerSrc=void 0===k.workerSrc?"":k.workerSrc},(X,a,k)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MessageHandler=void 0;var i=k(1);function K(F){switch(F instanceof Error||"object"==typeof F&&null!==F||(0,i.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),F.name){case"AbortException":return new i.AbortException(F.message);case"MissingPDFException":return new i.MissingPDFException(F.message);case"PasswordException":return new i.PasswordException(F.message,F.code);case"UnexpectedResponseException":return new i.UnexpectedResponseException(F.message,F.status);case"UnknownErrorException":return new i.UnknownErrorException(F.message,F.details);default:return new i.UnknownErrorException(F.message,F.toString())}}a.MessageHandler=class j{constructor(E,U,I){this.sourceName=E,this.targetName=U,this.comObj=I,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=B=>{const O=B.data;if(O.targetName!==this.sourceName)return;if(O.stream)return void this._processStreamMessage(O);if(O.callback){const m=O.callbackId,_=this.callbackCapabilities[m];if(!_)throw new Error(`Cannot resolve callback ${m}`);if(delete this.callbackCapabilities[m],1===O.callback)_.resolve(O.data);else{if(2!==O.callback)throw new Error("Unexpected callback case");_.reject(K(O.reason))}return}const V=this.actionHandler[O.action];if(!V)throw new Error(`Unknown action from worker: ${O.action}`);if(O.callbackId){const m=this.sourceName,_=O.sourceName;new Promise(function(T){T(V(O.data))}).then(function(T){I.postMessage({sourceName:m,targetName:_,callback:1,callbackId:O.callbackId,data:T})},function(T){I.postMessage({sourceName:m,targetName:_,callback:2,callbackId:O.callbackId,reason:K(T)})})}else O.streamId?this._createStreamSink(O):V(O.data)},I.addEventListener("message",this._onComObjOnMessage)}on(E,U){const I=this.actionHandler;if(I[E])throw new Error(`There is already an actionName called "${E}"`);I[E]=U}send(E,U,I){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:E,data:U},I)}sendWithPromise(E,U,I){const B=this.callbackId++,O=(0,i.createPromiseCapability)();this.callbackCapabilities[B]=O;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:E,callbackId:B,data:U},I)}catch(V){O.reject(V)}return O.promise}sendWithStream(E,U,I,B){const O=this.streamId++,V=this.sourceName,m=this.targetName,_=this.comObj;return new ReadableStream({start:T=>{const L=(0,i.createPromiseCapability)();return this.streamControllers[O]={controller:T,startCall:L,pullCall:null,cancelCall:null,isClosed:!1},_.postMessage({sourceName:V,targetName:m,action:E,streamId:O,data:U,desiredSize:T.desiredSize},B),L.promise},pull:T=>{const L=(0,i.createPromiseCapability)();return this.streamControllers[O].pullCall=L,_.postMessage({sourceName:V,targetName:m,stream:6,streamId:O,desiredSize:T.desiredSize}),L.promise},cancel:T=>{(0,i.assert)(T instanceof Error,"cancel must have a valid reason");const L=(0,i.createPromiseCapability)();return this.streamControllers[O].cancelCall=L,this.streamControllers[O].isClosed=!0,_.postMessage({sourceName:V,targetName:m,stream:1,streamId:O,reason:K(T)}),L.promise}},I)}_createStreamSink(E){const U=E.streamId,I=this.sourceName,B=E.sourceName,O=this.comObj,V=this,m=this.actionHandler[E.action],_={enqueue(T,L=1,v){if(this.isCancelled)return;const C=this.desiredSize;this.desiredSize-=L,C>0&&this.desiredSize<=0&&(this.sinkCapability=(0,i.createPromiseCapability)(),this.ready=this.sinkCapability.promise),O.postMessage({sourceName:I,targetName:B,stream:4,streamId:U,chunk:T},v)},close(){this.isCancelled||(this.isCancelled=!0,O.postMessage({sourceName:I,targetName:B,stream:3,streamId:U}),delete V.streamSinks[U])},error(T){(0,i.assert)(T instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,O.postMessage({sourceName:I,targetName:B,stream:5,streamId:U,reason:K(T)}))},sinkCapability:(0,i.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:E.desiredSize,ready:null};_.sinkCapability.resolve(),_.ready=_.sinkCapability.promise,this.streamSinks[U]=_,new Promise(function(T){T(m(E.data,_))}).then(function(){O.postMessage({sourceName:I,targetName:B,stream:8,streamId:U,success:!0})},function(T){O.postMessage({sourceName:I,targetName:B,stream:8,streamId:U,reason:K(T)})})}_processStreamMessage(E){const U=E.streamId,I=this.sourceName,B=E.sourceName,O=this.comObj,V=this.streamControllers[U],m=this.streamSinks[U];switch(E.stream){case 8:E.success?V.startCall.resolve():V.startCall.reject(K(E.reason));break;case 7:E.success?V.pullCall.resolve():V.pullCall.reject(K(E.reason));break;case 6:if(!m){O.postMessage({sourceName:I,targetName:B,stream:7,streamId:U,success:!0});break}m.desiredSize<=0&&E.desiredSize>0&&m.sinkCapability.resolve(),m.desiredSize=E.desiredSize,new Promise(function(_){_(m.onPull&&m.onPull())}).then(function(){O.postMessage({sourceName:I,targetName:B,stream:7,streamId:U,success:!0})},function(_){O.postMessage({sourceName:I,targetName:B,stream:7,streamId:U,reason:K(_)})});break;case 4:if((0,i.assert)(V,"enqueue should have stream controller"),V.isClosed)break;V.controller.enqueue(E.chunk);break;case 3:if((0,i.assert)(V,"close should have stream controller"),V.isClosed)break;V.isClosed=!0,V.controller.close(),this._deleteStreamController(V,U);break;case 5:(0,i.assert)(V,"error should have stream controller"),V.controller.error(K(E.reason)),this._deleteStreamController(V,U);break;case 2:E.success?V.cancelCall.resolve():V.cancelCall.reject(K(E.reason)),this._deleteStreamController(V,U);break;case 1:if(!m)break;new Promise(function(_){_(m.onCancel&&m.onCancel(K(E.reason)))}).then(function(){O.postMessage({sourceName:I,targetName:B,stream:2,streamId:U,success:!0})},function(_){O.postMessage({sourceName:I,targetName:B,stream:2,streamId:U,reason:K(_)})}),m.sinkCapability.reject(K(E.reason)),m.isCancelled=!0,delete this.streamSinks[U];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(E,U){var I=this;return _asyncToGenerator(function*(){yield Promise.allSettled([E.startCall&&E.startCall.promise,E.pullCall&&E.pullCall.promise,E.cancelCall&&E.cancelCall.promise]),delete I.streamControllers[U]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(X,a,k)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Metadata=void 0;var i=k(1),R=new WeakMap,D=new WeakMap;a.Metadata=class K{constructor({parsedData:F,rawData:E}){_classPrivateFieldInitSpec(this,R,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,D,{writable:!0,value:void 0}),_classPrivateFieldSet(this,R,F),_classPrivateFieldSet(this,D,E)}getRaw(){return _classPrivateFieldGet(this,D)}get(F){return _classPrivateFieldGet(this,R).get(F)??null}getAll(){return(0,i.objectFromMap)(_classPrivateFieldGet(this,R))}has(F){return _classPrivateFieldGet(this,R).has(F)}}},(X,a,k)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.OptionalContentConfig=void 0;var i=k(1);class R{constructor(j,F){this.visible=!0,this.name=j,this.intent=F}}a.OptionalContentConfig=class D{constructor(j){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==j){this.name=j.name,this.creator=j.creator,this._order=j.order;for(const F of j.groups)this._groups.set(F.id,new R(F.name,F.intent));if("OFF"===j.baseState)for(const F of this._groups)F.visible=!1;for(const F of j.on)this._groups.get(F).visible=!0;for(const F of j.off)this._groups.get(F).visible=!1}}_evaluateVisibilityExpression(j){const F=j.length;if(F<2)return!0;const E=j[0];for(let U=1;U<F;U++){const I=j[U];let B;if(Array.isArray(I))B=this._evaluateVisibilityExpression(I);else{if(!this._groups.has(I))return(0,i.warn)(`Optional content group not found: ${I}`),!0;B=this._groups.get(I).visible}switch(E){case"And":if(!B)return!1;break;case"Or":if(B)return!0;break;case"Not":return!B;default:return!0}}return"And"===E}isVisible(j){if(0===this._groups.size)return!0;if(!j)return(0,i.warn)("Optional content group not defined."),!0;if("OCG"===j.type)return this._groups.has(j.id)?this._groups.get(j.id).visible:((0,i.warn)(`Optional content group not found: ${j.id}`),!0);if("OCMD"===j.type){if(j.expression)return this._evaluateVisibilityExpression(j.expression);if(!j.policy||"AnyOn"===j.policy){for(const F of j.ids){if(!this._groups.has(F))return(0,i.warn)(`Optional content group not found: ${F}`),!0;if(this._groups.get(F).visible)return!0}return!1}if("AllOn"===j.policy){for(const F of j.ids){if(!this._groups.has(F))return(0,i.warn)(`Optional content group not found: ${F}`),!0;if(!this._groups.get(F).visible)return!1}return!0}if("AnyOff"===j.policy){for(const F of j.ids){if(!this._groups.has(F))return(0,i.warn)(`Optional content group not found: ${F}`),!0;if(!this._groups.get(F).visible)return!0}return!1}if("AllOff"===j.policy){for(const F of j.ids){if(!this._groups.has(F))return(0,i.warn)(`Optional content group not found: ${F}`),!0;if(this._groups.get(F).visible)return!1}return!0}return(0,i.warn)(`Unknown optional content policy ${j.policy}.`),!0}return(0,i.warn)(`Unknown group type ${j.type}.`),!0}setVisibility(j,F=!0){this._groups.has(j)?this._groups.get(j).visible=!!F:(0,i.warn)(`Optional content group not found: ${j}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,i.objectFromMap)(this._groups):null}getGroup(j){return this._groups.get(j)||null}}},(X,a,k)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFDataTransportStream=void 0;var i=k(1),R=k(5);a.PDFDataTransportStream=class D{constructor(E,U){(0,i.assert)(U,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=E.progressiveDone||!1,this._contentDispositionFilename=E.contentDispositionFilename||null;const I=E.initialData;if(I?.length>0){const B=new Uint8Array(I).buffer;this._queuedChunks.push(B)}this._pdfDataRangeTransport=U,this._isStreamingSupported=!E.disableStream,this._isRangeSupported=!E.disableRange,this._contentLength=E.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((B,O)=>{this._onReceiveData({begin:B,chunk:O})}),this._pdfDataRangeTransport.addProgressListener((B,O)=>{this._onProgress({loaded:B,total:O})}),this._pdfDataRangeTransport.addProgressiveReadListener(B=>{this._onReceiveData({chunk:B})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(E){const U=new Uint8Array(E.chunk).buffer;if(void 0===E.begin)this._fullRequestReader?this._fullRequestReader._enqueue(U):this._queuedChunks.push(U);else{const I=this._rangeReaders.some(function(B){return B._begin===E.begin&&(B._enqueue(U),!0)});(0,i.assert)(I,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(E){if(void 0===E.total){const U=this._rangeReaders[0];U?.onProgress&&U.onProgress({loaded:E.loaded})}else{const U=this._fullRequestReader;U?.onProgress&&U.onProgress({loaded:E.loaded,total:E.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(E){const U=this._rangeReaders.indexOf(E);U>=0&&this._rangeReaders.splice(U,1)}getFullReader(){(0,i.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const E=this._queuedChunks;return this._queuedChunks=null,new K(this,E,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(E,U){if(U<=this._progressiveDataLength)return null;const I=new j(this,E,U);return this._pdfDataRangeTransport.requestDataRange(E,U),this._rangeReaders.push(I),I}cancelAllRequests(E){this._fullRequestReader&&this._fullRequestReader.cancel(E);for(const U of this._rangeReaders.slice(0))U.cancel(E);this._pdfDataRangeTransport.abort()}};class K{constructor(E,U,I=!1,B=null){this._stream=E,this._done=I||!1,this._filename=(0,R.isPdfFile)(B)?B:null,this._queuedChunks=U||[],this._loaded=0;for(const O of this._queuedChunks)this._loaded+=O.byteLength;this._requests=[],this._headersReady=Promise.resolve(),E._fullRequestReader=this,this.onProgress=null}_enqueue(E){this._done||(this._requests.length>0?this._requests.shift().resolve({value:E,done:!1}):this._queuedChunks.push(E),this._loaded+=E.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var E=this;return _asyncToGenerator(function*(){if(E._queuedChunks.length>0)return{value:E._queuedChunks.shift(),done:!1};if(E._done)return{value:void 0,done:!0};const U=(0,i.createPromiseCapability)();return E._requests.push(U),U.promise})()}cancel(E){this._done=!0;for(const U of this._requests)U.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class j{constructor(E,U,I){this._stream=E,this._begin=U,this._end=I,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(E){if(!this._done){if(0===this._requests.length)this._queuedChunk=E;else{this._requests.shift().resolve({value:E,done:!1});for(const I of this._requests)I.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var E=this;return _asyncToGenerator(function*(){if(E._queuedChunk){const I=E._queuedChunk;return E._queuedChunk=null,{value:I,done:!1}}if(E._done)return{value:void 0,done:!0};const U=(0,i.createPromiseCapability)();return E._requests.push(U),U.promise})()}cancel(E){this._done=!0;for(const U of this._requests)U.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(X,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.XfaText=void 0;class k{static textContent(R){const D=[],K={items:D,styles:Object.create(null)};return function j(F){if(!F)return;let E=null;const U=F.name;if("#text"===U)E=F.value;else{if(!k.shouldBuildText(U))return;F?.attributes?.textContent?E=F.attributes.textContent:F.value&&(E=F.value)}if(null!==E&&D.push({str:E}),F.children)for(const I of F.children)j(I)}(R),K}static shouldBuildText(R){return!("textarea"===R||"input"===R||"option"===R||"select"===R)}}a.XfaText=k},(X,a,k)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AnnotationLayer=void 0;var i=k(1),R=k(5),D=k(9),K=k(19),j=k(20);const F=1e3,E=new WeakSet;function U(c){return{width:c[2]-c[0],height:c[3]-c[1]}}class I{static create(e){switch(e.data.annotationType){case i.AnnotationType.LINK:return new O(e);case i.AnnotationType.TEXT:return new V(e);case i.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new _(e);case"Btn":return e.data.radioButton?new L(e):e.data.checkBox?new T(e):new v(e);case"Ch":return new C(e)}return new m(e);case i.AnnotationType.POPUP:return new n(e);case i.AnnotationType.FREETEXT:return new f(e);case i.AnnotationType.LINE:return new x(e);case i.AnnotationType.SQUARE:return new u(e);case i.AnnotationType.CIRCLE:return new b(e);case i.AnnotationType.POLYLINE:return new h(e);case i.AnnotationType.CARET:return new y(e);case i.AnnotationType.INK:return new P(e);case i.AnnotationType.POLYGON:return new r(e);case i.AnnotationType.HIGHLIGHT:return new N(e);case i.AnnotationType.UNDERLINE:return new G(e);case i.AnnotationType.SQUIGGLY:return new H(e);case i.AnnotationType.STRIKEOUT:return new Q(e);case i.AnnotationType.STAMP:return new S(e);case i.AnnotationType.FILEATTACHMENT:return new l(e);default:return new B(e)}}}class B{constructor(e,{isRenderable:o=!1,ignoreBorder:p=!1,createQuadrilaterals:M=!1}={}){this.isRenderable=o,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this._mouseState=e.mouseState,o&&(this.container=this._createContainer(p)),M&&(this.quadrilaterals=this._createQuadrilaterals(p))}_createContainer(e=!1){const o=this.data,p=this.page,M=this.viewport,A=document.createElement("section");let{width:d,height:W}=U(o.rect);A.setAttribute("data-annotation-id",o.id);const $=i.Util.normalizeRect([o.rect[0],p.view[3]-o.rect[1]+p.view[1],o.rect[2],p.view[3]-o.rect[3]+p.view[1]]);if(o.hasOwnCanvas){const q=M.transform.slice(),[Y,ie]=i.Util.singularValueDecompose2dScale(q);d=Math.ceil(d*Y),W=Math.ceil(W*ie),$[0]*=Y,$[1]*=ie;for(let oe=0;oe<4;oe++)q[oe]=Math.sign(q[oe]);A.style.transform=`matrix(${q.join(",")})`}else A.style.transform=`matrix(${M.transform.join(",")})`;if(A.style.transformOrigin=`${-$[0]}px ${-$[1]}px`,!e&&o.borderStyle.width>0){A.style.borderWidth=`${o.borderStyle.width}px`,o.borderStyle.style!==i.AnnotationBorderStyleType.UNDERLINE&&(d-=2*o.borderStyle.width,W-=2*o.borderStyle.width);const q=o.borderStyle.horizontalCornerRadius,Y=o.borderStyle.verticalCornerRadius;switch((q>0||Y>0)&&(A.style.borderRadius=`${q}px / ${Y}px`),o.borderStyle.style){case i.AnnotationBorderStyleType.SOLID:A.style.borderStyle="solid";break;case i.AnnotationBorderStyleType.DASHED:A.style.borderStyle="dashed";break;case i.AnnotationBorderStyleType.BEVELED:(0,i.warn)("Unimplemented border style: beveled");break;case i.AnnotationBorderStyleType.INSET:(0,i.warn)("Unimplemented border style: inset");break;case i.AnnotationBorderStyleType.UNDERLINE:A.style.borderBottomStyle="solid"}o.borderColor||o.color?A.style.borderColor=i.Util.makeHexColor(0|o.color[0],0|o.color[1],0|o.color[2]):A.style.borderWidth=0}return A.style.left=`${$[0]}px`,A.style.top=`${$[1]}px`,o.hasOwnCanvas?A.style.width=A.style.height="auto":(A.style.width=`${d}px`,A.style.height=`${W}px`),A}_createQuadrilaterals(e=!1){if(!this.data.quadPoints)return null;const o=[],p=this.data.rect;for(const M of this.data.quadPoints)this.data.rect=[M[2].x,M[2].y,M[1].x,M[1].y],o.push(this._createContainer(e));return this.data.rect=p,o}_createPopup(e,o){let p=this.container;this.quadrilaterals&&(e=e||this.quadrilaterals,p=this.quadrilaterals[0]),e||((e=document.createElement("div")).style.height=p.style.height,e.style.width=p.style.width,p.appendChild(e));const A=new t({container:p,trigger:e,color:o.color,titleObj:o.titleObj,modificationDate:o.modificationDate,contentsObj:o.contentsObj,richText:o.richText,hideWrapper:!0}).render();A.style.left=p.style.width,p.appendChild(A)}_renderQuadrilaterals(e){for(const o of this.quadrilaterals)o.className=e;return this.quadrilaterals}render(){(0,i.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,o=null){const p=[];if(this._fieldObjects){const M=this._fieldObjects[e];if(M)for(const{page:A,id:d,exportValues:W}of M){if(-1===A||d===o)continue;const $="string"==typeof W?W:null,q=document.getElementById(d);!q||E.has(q)?p.push({id:d,exportValue:$,domElement:q}):(0,i.warn)(`_getElementsByName - element not allowed: ${d}`)}return p}for(const M of document.getElementsByName(e)){const{id:A,exportValue:d}=M;A!==o&&(!E.has(M)||p.push({id:A,exportValue:d,domElement:M}))}return p}static get platform(){const e=typeof navigator<"u"?navigator.platform:"";return(0,i.shadow)(this,"platform",{isWin:e.includes("Win"),isMac:e.includes("Mac")})}}class O extends B{constructor(e,o=null){super(e,{isRenderable:!!(e.data.url||e.data.dest||e.data.action||e.data.isTooltipOnly||e.data.resetForm||e.data.actions&&(e.data.actions.Action||e.data.actions["Mouse Up"]||e.data.actions["Mouse Down"])),ignoreBorder:!!o?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:e,linkService:o}=this,p=document.createElement("a");if(e.url)o.addLinkAttributes||(0,i.warn)("LinkAnnotationElement.render - missing `addLinkAttributes`-method on the `linkService`-instance."),o.addLinkAttributes?.(p,e.url,e.newWindow);else if(e.action)this._bindNamedAction(p,e.action);else if(e.dest)this._bindLink(p,e.dest);else{let M=!1;e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(M=!0,this._bindJSAction(p,e)),e.resetForm?this._bindResetFormAction(p,e.resetForm):M||this._bindLink(p,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((M,A)=>{const d=0===A?p:p.cloneNode();return M.appendChild(d),M}):(this.container.className="linkAnnotation",this.container.appendChild(p),this.container)}_bindLink(e,o){e.href=this.linkService.getDestinationHash(o),e.onclick=()=>(o&&this.linkService.goToDestination(o),!1),(o||""===o)&&(e.className="internalLink")}_bindNamedAction(e,o){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(o),!1),e.className="internalLink"}_bindJSAction(e,o){e.href=this.linkService.getAnchorUrl("");const p=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const M of Object.keys(o.actions)){const A=p.get(M);!A||(e[A]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o.id,name:M}}),!1))}e.onclick||(e.onclick=()=>!1),e.className="internalLink"}_bindResetFormAction(e,o){const p=e.onclick;if(p||(e.href=this.linkService.getAnchorUrl("")),e.className="internalLink",!this._fieldObjects)return(0,i.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(p||(e.onclick=()=>!1));e.onclick=()=>{p&&p();const{fields:M,refs:A,include:d}=o,W=[];if(0!==M.length||0!==A.length){const Y=new Set(A);for(const ie of M){const oe=this._fieldObjects[ie]||[];for(const{id:he}of oe)Y.add(he)}for(const ie of Object.values(this._fieldObjects))for(const oe of ie)Y.has(oe.id)===d&&W.push(oe)}else for(const Y of Object.values(this._fieldObjects))W.push(...Y);const $=this.annotationStorage,q=[];for(const Y of W){const{id:ie}=Y;switch(q.push(ie),Y.type){case"text":{const he=Y.defaultValue||"";$.setValue(ie,{value:he,valueAsString:he});break}case"checkbox":case"radiobutton":$.setValue(ie,{value:Y.defaultValue===Y.exportValues});break;case"combobox":case"listbox":$.setValue(ie,{value:Y.defaultValue||""});break;default:continue}const oe=document.getElementById(ie);!oe||!E.has(oe)||oe.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:q,name:"ResetForm"}}),!1}}}class V extends B{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){this.container.className="textAnnotation";const e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(e,this.data),this.container.appendChild(e),this.container}}class m extends B{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(e){const{isWin:o,isMac:p}=B.platform;return o&&e.ctrlKey||p&&e.metaKey}_setEventListener(e,o,p,M){o.includes("mouse")?e.addEventListener(o,A=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:p,value:M(A),shift:A.shiftKey,modifier:this._getKeyModifier(A)}})}):e.addEventListener(o,A=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:p,value:M(A)}})})}_setEventListeners(e,o,p){for(const[M,A]of o)("Action"===A||this.data.actions?.[A])&&this._setEventListener(e,M,A,p)}_setBackgroundColor(e){const o=this.data.backgroundColor||null;e.style.backgroundColor=null===o?"transparent":i.Util.makeHexColor(o[0],o[1],o[2])}_dispatchEventFromSandbox(e,o){const p=(A,d,W)=>{const $=W.detail[A];W.target.style[d]=K.ColorConverters[`${$[0]}_HTML`]($.slice(1))},M={display:A=>{const d=A.detail.display%2==1;A.target.style.visibility=d?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:d,print:0===A.detail.display||3===A.detail.display})},print:A=>{this.annotationStorage.setValue(this.data.id,{print:A.detail.print})},hidden:A=>{A.target.style.visibility=A.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:A.detail.hidden})},focus:A=>{setTimeout(()=>A.target.focus({preventScroll:!1}),0)},userName:A=>{A.target.title=A.detail.userName},readonly:A=>{A.detail.readonly?A.target.setAttribute("readonly",""):A.target.removeAttribute("readonly")},required:A=>{A.detail.required?A.target.setAttribute("required",""):A.target.removeAttribute("required")},bgColor:A=>{p("bgColor","backgroundColor",A)},fillColor:A=>{p("fillColor","backgroundColor",A)},fgColor:A=>{p("fgColor","color",A)},textColor:A=>{p("textColor","color",A)},borderColor:A=>{p("borderColor","borderColor",A)},strokeColor:A=>{p("strokeColor","borderColor",A)}};for(const A of Object.keys(o.detail)){const d=e[A]||M[A];d&&d(o)}}}class _ extends m{constructor(e){super(e,{isRenderable:e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,o,p,M){const A=this.annotationStorage;for(const d of this._getElementsByName(e.name,e.id))d.domElement&&(d.domElement[o]=p),A.setValue(d.id,{[M]:p})}render(){const e=this.annotationStorage,o=this.data.id;this.container.className="textWidgetAnnotation";let p=null;if(this.renderForms){const M=e.getValue(o,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),A=M.valueAsString||M.value||"",d={userValue:null,formattedValue:null};this.data.multiLine?(p=document.createElement("textarea"),p.textContent=A):(p=document.createElement("input"),p.type="text",p.setAttribute("value",A)),E.add(p),p.disabled=this.data.readOnly,p.name=this.data.fieldName,p.tabIndex=F,d.userValue=A,p.setAttribute("id",o),p.addEventListener("input",$=>{e.setValue(o,{value:$.target.value}),this.setPropertyOnSiblings(p,"value",$.target.value,"value")}),p.addEventListener("resetform",$=>{p.value=d.userValue=this.data.defaultFieldValue||"",delete d.formattedValue});let W=$=>{d.formattedValue&&($.target.value=d.formattedValue),$.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){p.addEventListener("focus",q=>{d.userValue&&(q.target.value=d.userValue)}),p.addEventListener("updatefromsandbox",q=>{this._dispatchEventFromSandbox({value(ie){d.userValue=ie.detail.value||"",e.setValue(o,{value:d.userValue.toString()}),d.formattedValue||(ie.target.value=d.userValue)},valueAsString(ie){d.formattedValue=ie.detail.valueAsString||"",ie.target!==document.activeElement&&(ie.target.value=d.formattedValue),e.setValue(o,{formattedValue:d.formattedValue})},selRange(ie){const[oe,he]=ie.detail.selRange;oe>=0&&he<ie.target.value.length&&ie.target.setSelectionRange(oe,he)}},q)}),p.addEventListener("keydown",q=>{let Y=-1;"Escape"===q.key?Y=0:"Enter"===q.key?Y=2:"Tab"===q.key&&(Y=3),-1!==Y&&(d.userValue=q.target.value,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o,name:"Keystroke",value:q.target.value,willCommit:!0,commitKey:Y,selStart:q.target.selectionStart,selEnd:q.target.selectionEnd}}))});const $=W;W=null,p.addEventListener("blur",q=>{d.userValue=q.target.value,this._mouseState.isDown&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o,name:"Keystroke",value:q.target.value,willCommit:!0,commitKey:1,selStart:q.target.selectionStart,selEnd:q.target.selectionEnd}}),$(q)}),this.data.actions?.Keystroke&&p.addEventListener("beforeinput",q=>{d.formattedValue="";const{data:Y,target:ie}=q,{value:oe,selectionStart:he,selectionEnd:ue}=ie;this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o,name:"Keystroke",value:oe,change:Y,willCommit:!1,selStart:he,selEnd:ue}})}),this._setEventListeners(p,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],q=>q.target.value)}if(W&&p.addEventListener("blur",W),null!==this.data.maxLen&&(p.maxLength=this.data.maxLen),this.data.comb){const q=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;p.classList.add("comb"),p.style.letterSpacing=`calc(${q}px - 1ch)`}}else p=document.createElement("div"),p.textContent=this.data.fieldValue,p.style.verticalAlign="middle",p.style.display="table-cell";return this._setTextStyle(p),this._setBackgroundColor(p),this.container.appendChild(p),this.container}_setTextStyle(e){const{fontSize:p,fontColor:M}=this.data.defaultAppearanceData,A=e.style;p&&(A.fontSize=`${p}px`),A.color=i.Util.makeHexColor(M[0],M[1],M[2]),null!==this.data.textAlignment&&(A.textAlign=["left","center","right"][this.data.textAlignment])}}class T extends m{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,o=this.data,p=o.id;let M=e.getValue(p,{value:o.exportValue===o.fieldValue}).value;"string"==typeof M&&(M="Off"!==M,e.setValue(p,{value:M})),this.container.className="buttonWidgetAnnotation checkBox";const A=document.createElement("input");return E.add(A),A.disabled=o.readOnly,A.type="checkbox",A.name=o.fieldName,M&&A.setAttribute("checked",!0),A.setAttribute("id",p),A.setAttribute("exportValue",o.exportValue),A.tabIndex=F,A.addEventListener("change",d=>{const{name:W,checked:$}=d.target;for(const q of this._getElementsByName(W,p)){const Y=$&&q.exportValue===o.exportValue;q.domElement&&(q.domElement.checked=Y),e.setValue(q.id,{value:Y})}e.setValue(p,{value:$})}),A.addEventListener("resetform",d=>{d.target.checked=(o.defaultFieldValue||"Off")===o.exportValue}),this.enableScripting&&this.hasJSActions&&(A.addEventListener("updatefromsandbox",d=>{this._dispatchEventFromSandbox({value($){$.target.checked="Off"!==$.detail.value,e.setValue(p,{value:$.target.checked})}},d)}),this._setEventListeners(A,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],d=>d.target.checked)),this._setBackgroundColor(A),this.container.appendChild(A),this.container}}class L extends m{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const e=this.annotationStorage,o=this.data,p=o.id;let M=e.getValue(p,{value:o.fieldValue===o.buttonValue}).value;"string"==typeof M&&(M=M!==o.buttonValue,e.setValue(p,{value:M}));const A=document.createElement("input");if(E.add(A),A.disabled=o.readOnly,A.type="radio",A.name=o.fieldName,M&&A.setAttribute("checked",!0),A.setAttribute("id",p),A.tabIndex=F,A.addEventListener("change",d=>{const{name:W,checked:$}=d.target;for(const q of this._getElementsByName(W,p))e.setValue(q.id,{value:!1});e.setValue(p,{value:$})}),A.addEventListener("resetform",d=>{const W=o.defaultFieldValue;d.target.checked=null!=W&&W===o.buttonValue}),this.enableScripting&&this.hasJSActions){const d=o.buttonValue;A.addEventListener("updatefromsandbox",W=>{this._dispatchEventFromSandbox({value:q=>{const Y=d===q.detail.value;for(const ie of this._getElementsByName(q.target.name)){const oe=Y&&ie.id===p;ie.domElement&&(ie.domElement.checked=oe),e.setValue(ie.id,{value:oe})}}},W)}),this._setEventListeners(A,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],W=>W.target.checked)}return this._setBackgroundColor(A),this.container.appendChild(A),this.container}}class v extends O{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();return e.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(e.title=this.data.alternativeText),e}}class C extends m{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const e=this.annotationStorage,o=this.data.id;e.getValue(o,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});let{fontSize:p}=this.data.defaultAppearanceData;p||(p=9);const M=`calc(${p}px * var(--zoom-factor))`,A=document.createElement("select");E.add(A),A.disabled=this.data.readOnly,A.name=this.data.fieldName,A.setAttribute("id",o),A.tabIndex=F,A.style.fontSize=`${p}px`,this.data.combo||(A.size=this.data.options.length,this.data.multiSelect&&(A.multiple=!0)),A.addEventListener("resetform",$=>{const q=this.data.defaultFieldValue;for(const Y of A.options)Y.selected=Y.value===q});for(const $ of this.data.options){const q=document.createElement("option");q.textContent=$.displayValue,q.value=$.exportValue,this.data.combo&&(q.style.fontSize=M),this.data.fieldValue.includes($.exportValue)&&q.setAttribute("selected",!0),A.appendChild(q)}const d=($,q)=>{const Y=q?"value":"textContent",ie=$.target.options;return $.target.multiple?Array.prototype.filter.call(ie,oe=>oe.selected).map(oe=>oe[Y]):-1===ie.selectedIndex?null:ie[ie.selectedIndex][Y]},W=$=>Array.prototype.map.call($.target.options,Y=>({displayValue:Y.textContent,exportValue:Y.value}));return this.enableScripting&&this.hasJSActions?(A.addEventListener("updatefromsandbox",$=>{this._dispatchEventFromSandbox({value(Y){const ie=Y.detail.value,oe=new Set(Array.isArray(ie)?ie:[ie]);for(const he of A.options)he.selected=oe.has(he.value);e.setValue(o,{value:d(Y,!0)})},multipleSelection(Y){A.multiple=!0},remove(Y){const ie=A.options,oe=Y.detail.remove;ie[oe].selected=!1,A.remove(oe),ie.length>0&&-1===Array.prototype.findIndex.call(ie,ue=>ue.selected)&&(ie[0].selected=!0),e.setValue(o,{value:d(Y,!0),items:W(Y)})},clear(Y){for(;0!==A.length;)A.remove(0);e.setValue(o,{value:null,items:[]})},insert(Y){const{index:ie,displayValue:oe,exportValue:he}=Y.detail.insert,ue=document.createElement("option");ue.textContent=oe,ue.value=he,A.insertBefore(ue,A.children[ie]),e.setValue(o,{value:d(Y,!0),items:W(Y)})},items(Y){const{items:ie}=Y.detail;for(;0!==A.length;)A.remove(0);for(const oe of ie){const{displayValue:he,exportValue:ue}=oe,ae=document.createElement("option");ae.textContent=he,ae.value=ue,A.appendChild(ae)}A.options.length>0&&(A.options[0].selected=!0),e.setValue(o,{value:d(Y,!0),items:W(Y)})},indices(Y){const ie=new Set(Y.detail.indices);for(const oe of Y.target.options)oe.selected=ie.has(oe.index);e.setValue(o,{value:d(Y,!0)})},editable(Y){Y.target.disabled=!Y.detail.editable}},$)}),A.addEventListener("input",$=>{const q=d($,!0),Y=d($,!1);e.setValue(o,{value:q}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o,name:"Keystroke",value:Y,changeEx:q,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(A,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],$=>$.target.checked)):A.addEventListener("input",function($){e.setValue(o,{value:d($)})}),this._setBackgroundColor(A),this.container.appendChild(A),this.container}}class n extends B{constructor(e){super(e,{isRenderable:!!(e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const p=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===p.length)return this.container;const M=new t({container:this.container,trigger:Array.from(p),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),A=this.page,d=i.Util.normalizeRect([this.data.parentRect[0],A.view[3]-this.data.parentRect[1]+A.view[1],this.data.parentRect[2],A.view[3]-this.data.parentRect[3]+A.view[1]]),W=d[0]+this.data.parentRect[2]-this.data.parentRect[0],$=d[1];return this.container.style.transformOrigin=`${-W}px ${-$}px`,this.container.style.left=`${W}px`,this.container.style.top=`${$}px`,this.container.appendChild(M.render()),this.container}}class t{constructor(e){this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.titleObj=e.titleObj,this.modificationDate=e.modificationDate,this.contentsObj=e.contentsObj,this.richText=e.richText,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}render(){const o=document.createElement("div");o.className="popupWrapper",this.hideElement=this.hideWrapper?o:this.container,this.hideElement.hidden=!0;const p=document.createElement("div");p.className="popup";const M=this.color;M&&(p.style.backgroundColor=i.Util.makeHexColor(0|.7*(255-M[0])+M[0],0|.7*(255-M[1])+M[1],0|.7*(255-M[2])+M[2]));const A=document.createElement("h1");A.dir=this.titleObj.dir,A.textContent=this.titleObj.str,p.appendChild(A);const d=R.PDFDateString.toDateObject(this.modificationDate);if(d){const W=document.createElement("span");W.className="popupDate",W.textContent="{{date}}, {{time}}",W.dataset.l10nId="annotation_date_string",W.dataset.l10nArgs=JSON.stringify({date:d.toLocaleDateString(),time:d.toLocaleTimeString()}),p.appendChild(W)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const W=this._formatContents(this.contentsObj);p.appendChild(W)}else j.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:p}),p.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const W of this.trigger)W.addEventListener("click",this._toggle.bind(this)),W.addEventListener("mouseover",this._show.bind(this,!1)),W.addEventListener("mouseout",this._hide.bind(this,!1));return p.addEventListener("click",this._hide.bind(this,!0)),o.appendChild(p),o}_formatContents({str:e,dir:o}){const p=document.createElement("p");p.className="popupContent",p.dir=o;const M=e.split(/(?:\r\n?|\n)/);for(let A=0,d=M.length;A<d;++A)p.appendChild(document.createTextNode(M[A])),A<d-1&&p.appendChild(document.createElement("br"));return p}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(e=!1){e&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(e=!0){e&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class f extends B{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class x extends B{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const e=this.data,{width:o,height:p}=U(e.rect),M=this.svgFactory.create(o,p),A=this.svgFactory.createElement("svg:line");return A.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),A.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),A.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),A.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),A.setAttribute("stroke-width",e.borderStyle.width||1),A.setAttribute("stroke","transparent"),A.setAttribute("fill","transparent"),M.appendChild(A),this.container.append(M),this._createPopup(A,e),this.container}}class u extends B{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const e=this.data,{width:o,height:p}=U(e.rect),M=this.svgFactory.create(o,p),A=e.borderStyle.width,d=this.svgFactory.createElement("svg:rect");return d.setAttribute("x",A/2),d.setAttribute("y",A/2),d.setAttribute("width",o-A),d.setAttribute("height",p-A),d.setAttribute("stroke-width",A||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),M.appendChild(d),this.container.append(M),this._createPopup(d,e),this.container}}class b extends B{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const e=this.data,{width:o,height:p}=U(e.rect),M=this.svgFactory.create(o,p),A=e.borderStyle.width,d=this.svgFactory.createElement("svg:ellipse");return d.setAttribute("cx",o/2),d.setAttribute("cy",p/2),d.setAttribute("rx",o/2-A/2),d.setAttribute("ry",p/2-A/2),d.setAttribute("stroke-width",A||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),M.appendChild(d),this.container.append(M),this._createPopup(d,e),this.container}}class h extends B{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:o,height:p}=U(e.rect),M=this.svgFactory.create(o,p);let A=[];for(const W of e.vertices)A.push(W.x-e.rect[0]+","+(e.rect[3]-W.y));A=A.join(" ");const d=this.svgFactory.createElement(this.svgElementName);return d.setAttribute("points",A),d.setAttribute("stroke-width",e.borderStyle.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),M.appendChild(d),this.container.append(M),this._createPopup(d,e),this.container}}class r extends h{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class y extends B{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class P extends B{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:o,height:p}=U(e.rect),M=this.svgFactory.create(o,p);for(const A of e.inkLists){let d=[];for(const $ of A)d.push(`${$.x-e.rect[0]},${e.rect[3]-$.y}`);d=d.join(" ");const W=this.svgFactory.createElement(this.svgElementName);W.setAttribute("points",d),W.setAttribute("stroke-width",e.borderStyle.width||1),W.setAttribute("stroke","transparent"),W.setAttribute("fill","transparent"),this._createPopup(W,e),M.appendChild(W)}return this.container.append(M),this.container}}class N extends B{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class G extends B{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class H extends B{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class Q extends B{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class S extends B{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class l extends B{constructor(e){super(e,{isRenderable:!0});const{filename:o,content:p}=this.data.file;this.filename=(0,R.getFilenameFromUrl)(o),this.content=p,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,id:(0,i.stringToPDFString)(o),filename:o,content:p})}render(){this.container.className="fileAttachmentAnnotation";const e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(e,this.data),this.container.appendChild(e),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class s{static render(e){const o=[],p=[];for(const A of e.annotations){if(!A)continue;const{width:d,height:W}=U(A.rect);if(!(d<=0||W<=0)){if(A.annotationType===i.AnnotationType.POPUP){p.push(A);continue}o.push(A)}}p.length&&o.push(...p);const M=e.div;for(const A of o){const d=I.create({data:A,layer:M,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new R.DOMSVGFactory,annotationStorage:e.annotationStorage||new D.AnnotationStorage,enableScripting:e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,mouseState:e.mouseState||{isDown:!1}});if(d.isRenderable){const W=d.render();if(A.hidden&&(W.style.visibility="hidden"),Array.isArray(W))for(const $ of W)M.appendChild($);else d instanceof n?M.prepend(W):M.appendChild(W)}}_classStaticPrivateMethodGet(this,s,g).call(this,M,e.annotationCanvasMap)}static update(e){const{page:o,viewport:p,annotations:M,annotationCanvasMap:A,div:d}=e,W=p.transform,$=`matrix(${W.join(",")})`;let q,Y;for(const ie of M){const oe=d.querySelectorAll(`[data-annotation-id="${ie.id}"]`);if(oe)for(const he of oe)if(ie.hasOwnCanvas){const ue=i.Util.normalizeRect([ie.rect[0],o.view[3]-ie.rect[1]+o.view[1],ie.rect[2],o.view[3]-ie.rect[3]+o.view[1]]);if(!Y){q=Math.abs(W[0]||W[1]);const ye=W.slice();for(let fe=0;fe<4;fe++)ye[fe]=Math.sign(ye[fe]);Y=`matrix(${ye.join(",")})`}const ae=ue[0]*q,be=ue[1]*q;he.style.left=`${ae}px`,he.style.top=`${be}px`,he.style.transformOrigin=`${-ae}px ${-be}px`,he.style.transform=Y}else he.style.transform=$}_classStaticPrivateMethodGet(this,s,g).call(this,d,A),d.hidden=!1}}function g(c,e){if(e){for(const[o,p]of e){const M=c.querySelector(`[data-annotation-id="${o}"]`);if(!M)continue;const{firstChild:A}=M;"CANVAS"===A.nodeName?M.replaceChild(p,A):M.insertBefore(p,A)}e.clear()}}a.AnnotationLayer=s},(X,a)=>{function k(R){return Math.floor(255*Math.max(0,Math.min(1,R))).toString(16).padStart(2,"0")}Object.defineProperty(a,"__esModule",{value:!0}),a.ColorConverters=void 0,a.ColorConverters=class i{static CMYK_G([D,K,j,F]){return["G",1-Math.min(1,.3*D+.59*j+.11*K+F)]}static G_CMYK([D]){return["CMYK",0,0,0,1-D]}static G_RGB([D]){return["RGB",D,D,D]}static G_HTML([D]){const K=k(D);return`#${K}${K}${K}`}static RGB_G([D,K,j]){return["G",.3*D+.59*K+.11*j]}static RGB_HTML([D,K,j]){return`#${k(D)}${k(K)}${k(j)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([D,K,j,F]){return["RGB",1-Math.min(1,D+F),1-Math.min(1,j+F),1-Math.min(1,K+F)]}static CMYK_HTML(D){return this.RGB_HTML(this.CMYK_RGB(D))}static RGB_CMYK([D,K,j]){const F=1-D,E=1-K,U=1-j;return["CMYK",F,E,U,Math.min(F,E,U)]}}},(X,a,k)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.XfaLayer=void 0;var i=k(1),R=k(17);a.XfaLayer=class D{static setupStorage(j,F,E,U,I){const B=U.getValue(F,{value:null});switch(E.name){case"textarea":if(null!==B.value&&(j.textContent=B.value),"print"===I)break;j.addEventListener("input",O=>{U.setValue(F,{value:O.target.value})});break;case"input":if("radio"===E.attributes.type||"checkbox"===E.attributes.type){if(B.value===E.attributes.xfaOn?j.setAttribute("checked",!0):B.value===E.attributes.xfaOff&&j.removeAttribute("checked"),"print"===I)break;j.addEventListener("change",O=>{U.setValue(F,{value:O.target.getAttribute(O.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==B.value&&j.setAttribute("value",B.value),"print"===I)break;j.addEventListener("input",O=>{U.setValue(F,{value:O.target.value})})}break;case"select":if(null!==B.value)for(const O of E.children)O.attributes.value===B.value&&(O.attributes.selected=!0);j.addEventListener("input",O=>{const V=O.target.options;U.setValue(F,{value:-1===V.selectedIndex?"":V[V.selectedIndex].value})})}}static setAttributes({html:j,element:F,storage:E=null,intent:U,linkService:I}){const{attributes:B}=F,O=j instanceof HTMLAnchorElement;"radio"===B.type&&(B.name=`${B.name}-${U}`);for(const[V,m]of Object.entries(B))if(null!=m&&"dataId"!==V)if("style"!==V)if("textContent"===V)j.textContent=m;else if("class"===V)m.length&&j.setAttribute(V,m.join(" "));else{if(O&&("href"===V||"newWindow"===V))continue;j.setAttribute(V,m)}else Object.assign(j.style,m);O&&(I.addLinkAttributes||(0,i.warn)("XfaLayer.setAttribute - missing `addLinkAttributes`-method on the `linkService`-instance."),I.addLinkAttributes?.(j,B.href,B.newWindow)),E&&B.dataId&&this.setupStorage(j,B.dataId,F,E)}static render(j){const F=j.annotationStorage,E=j.linkService,U=j.xfaHtml,I=j.intent||"display",B=document.createElement(U.name);U.attributes&&this.setAttributes({html:B,element:U,intent:I,linkService:E});const O=[[U,-1,B]],V=j.div;if(V.appendChild(B),j.viewport){const _=`matrix(${j.viewport.transform.join(",")})`;V.style.transform=_}"richText"!==I&&V.setAttribute("class","xfaLayer xfaFont");const m=[];for(;O.length>0;){const[_,T,L]=O[O.length-1];if(T+1===_.children.length){O.pop();continue}const v=_.children[++O[O.length-1][1]];if(null===v)continue;const{name:C}=v;if("#text"===C){const t=document.createTextNode(v.value);m.push(t),L.appendChild(t);continue}let n;if(n=v?.attributes?.xmlns?document.createElementNS(v.attributes.xmlns,C):document.createElement(C),L.appendChild(n),v.attributes&&this.setAttributes({html:n,element:v,storage:F,intent:I,linkService:E}),v.children&&v.children.length>0)O.push([v,-1,n]);else if(v.value){const t=document.createTextNode(v.value);R.XfaText.shouldBuildText(C)&&m.push(t),n.appendChild(t)}}for(const _ of V.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))_.setAttribute("readOnly",!0);return{textDivs:m}}static update(j){const F=`matrix(${j.viewport.transform.join(",")})`;j.div.style.transform=F,j.div.hidden=!1}}},(X,a,k)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.renderTextLayer=function T(L){const v=new _({textContent:L.textContent,textContentStream:L.textContentStream,container:L.container,viewport:L.viewport,textDivs:L.textDivs,textContentItemsStr:L.textContentItemsStr,enhanceTextSelection:L.enhanceTextSelection});return v._render(L.timeout),v};var i=k(1);const D=30,j=new Map,F=/^\s+$/g;function U(L,v,C,n){const t=document.createElement("span"),f=L._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==v.str,hasEOL:v.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==v.str,hasEOL:v.hasEOL};L._textDivs.push(t);const x=i.Util.transform(L._viewport.transform,v.transform);let u=Math.atan2(x[1],x[0]);const b=C[v.fontName];b.vertical&&(u+=Math.PI/2);const h=Math.hypot(x[2],x[3]),r=h*function E(L,v){const C=j.get(L);if(C)return C;v.save(),v.font=`30px ${L}`;const n=v.measureText("");let t=n.fontBoundingBoxAscent,f=Math.abs(n.fontBoundingBoxDescent);if(t){v.restore();const u=t/(t+f);return j.set(L,u),u}v.strokeStyle="red",v.clearRect(0,0,D,D),v.strokeText("g",0,0);let x=v.getImageData(0,0,D,D).data;f=0;for(let u=x.length-1-3;u>=0;u-=4)if(x[u]>0){f=Math.ceil(u/4/D);break}v.clearRect(0,0,D,D),v.strokeText("A",0,D),x=v.getImageData(0,0,D,D).data,t=0;for(let u=0,b=x.length;u<b;u+=4)if(x[u]>0){t=D-Math.floor(u/4/D);break}if(v.restore(),t){const u=t/(t+f);return j.set(L,u),u}return j.set(L,.8),.8}(b.fontFamily,n);let y,P;0===u?(y=x[4],P=x[5]-r):(y=x[4]+r*Math.sin(u),P=x[5]-r*Math.cos(u)),t.style.left=`${y}px`,t.style.top=`${P}px`,t.style.fontSize=`${h}px`,t.style.fontFamily=b.fontFamily,t.setAttribute("role","presentation"),t.textContent=v.str,t.dir=v.dir,L._fontInspectorEnabled&&(t.dataset.fontName=v.fontName),0!==u&&(f.angle=u*(180/Math.PI));let N=!1;if(v.str.length>1||L._enhanceTextSelection&&F.test(v.str))N=!0;else if(" "!==v.str&&v.transform[0]!==v.transform[3]){const G=Math.abs(v.transform[0]),H=Math.abs(v.transform[3]);G!==H&&Math.max(G,H)/Math.min(G,H)>1.5&&(N=!0)}if(N&&(f.canvasWidth=b.vertical?v.height*L._viewport.scale:v.width*L._viewport.scale),L._textDivProperties.set(t,f),L._textContentStream&&L._layoutText(t),L._enhanceTextSelection&&f.hasText){let G=1,H=0;0!==u&&(G=Math.cos(u),H=Math.sin(u));const Q=(b.vertical?v.height:v.width)*L._viewport.scale,S=h;let l,s;0!==u?(l=[G,H,-H,G,y,P],s=i.Util.getAxialAlignedBoundingBox([0,0,Q,S],l)):s=[y,P,y+Q,P+S],L._bounds.push({left:s[0],top:s[1],right:s[2],bottom:s[3],div:t,size:[Q,S],m:l})}}function I(L){if(L._canceled)return;const v=L._textDivs,C=L._capability,n=v.length;if(n>1e5)return L._renderingDone=!0,void C.resolve();if(!L._textContentStream)for(let t=0;t<n;t++)L._layoutText(v[t]);L._renderingDone=!0,C.resolve()}function B(L,v,C){let n=0;for(let t=0;t<C;t++){const f=L[v++];f>0&&(n=n?Math.min(f,n):f)}return n}function m(L,v){v.sort(function(t,f){return t.x1-f.x1||t.index-f.index});const n=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const t of v){let f=0;for(;f<n.length&&n[f].end<=t.y1;)f++;let x=n.length-1;for(;x>=0&&n[x].start>=t.y2;)x--;let u,b,h,r,y=-1/0;for(h=f;h<=x;h++){let G;u=n[h],b=u.boundary,G=b.x2>t.x1?b.index>t.index?b.x1New:t.x1:void 0===b.x2New?(b.x2+t.x1)/2:b.x2New,G>y&&(y=G)}for(t.x1New=y,h=f;h<=x;h++)u=n[h],b=u.boundary,void 0===b.x2New?b.x2>t.x1?b.index>t.index&&(b.x2New=b.x2):b.x2New=y:b.x2New>y&&(b.x2New=Math.max(y,b.x2));const P=[];let N=null;for(h=f;h<=x;h++){u=n[h],b=u.boundary;const G=b.x2>t.x2?b:t;N===G?P[P.length-1].end=u.end:(P.push({start:u.start,end:u.end,boundary:G}),N=G)}for(n[f].start<t.y1&&(P[0].start=t.y1,P.unshift({start:n[f].start,end:t.y1,boundary:n[f].boundary})),t.y2<n[x].end&&(P[P.length-1].end=t.y2,P.push({start:t.y2,end:n[x].end,boundary:n[x].boundary})),h=f;h<=x;h++){if(u=n[h],b=u.boundary,void 0!==b.x2New)continue;let G=!1;for(r=f-1;!G&&r>=0&&n[r].start>=b.y1;r--)G=n[r].boundary===b;for(r=x+1;!G&&r<n.length&&n[r].end<=b.y2;r++)G=n[r].boundary===b;for(r=0;!G&&r<P.length;r++)G=P[r].boundary===b;G||(b.x2New=y)}Array.prototype.splice.apply(n,[f,x-f+1].concat(P))}for(const t of n){const f=t.boundary;void 0===f.x2New&&(f.x2New=Math.max(L,f.x2))}}class _{constructor({textContent:v,textContentStream:C,container:n,viewport:t,textDivs:f,textContentItemsStr:x,enhanceTextSelection:u}){this._textContent=v,this._textContentStream=C,this._container=n,this._document=n.ownerDocument,this._viewport=t,this._textDivs=f||[],this._textContentItemsStr=x||[],this._enhanceTextSelection=!!u,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,i.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new i.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(v,C){for(let n=0,t=v.length;n<t;n++)if(void 0!==v[n].str)this._textContentItemsStr.push(v[n].str),U(this,v[n],C,this._layoutTextCtx);else if("beginMarkedContentProps"===v[n].type||"beginMarkedContent"===v[n].type){const f=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==v[n].id&&this._container.setAttribute("id",`${v[n].id}`),f.appendChild(this._container)}else"endMarkedContent"===v[n].type&&(this._container=this._container.parentNode)}_layoutText(v){const C=this._textDivProperties.get(v);let n="";if(0!==C.canvasWidth&&C.hasText){const{fontSize:t,fontFamily:f}=v.style;(t!==this._layoutTextLastFontSize||f!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${t} ${f}`,this._layoutTextLastFontSize=t,this._layoutTextLastFontFamily=f);const{width:x}=this._layoutTextCtx.measureText(v.textContent);if(x>0){const u=C.canvasWidth/x;this._enhanceTextSelection&&(C.scale=u),n=`scaleX(${u})`}}if(0!==C.angle&&(n=`rotate(${C.angle}deg) ${n}`),n.length>0&&(this._enhanceTextSelection&&(C.originalTransform=n),v.style.transform=n),C.hasText&&this._container.appendChild(v),C.hasEOL){const t=document.createElement("br");t.setAttribute("role","presentation"),this._container.appendChild(t)}}_render(v=0){const C=(0,i.createPromiseCapability)();let n=Object.create(null);const t=this._document.createElement("canvas");if(t.height=t.width=D,t.mozOpaque=!0,this._layoutTextCtx=t.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),C.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const f=()=>{this._reader.read().then(({value:x,done:u})=>{u?C.resolve():(Object.assign(n,x.styles),this._processItems(x.items,n),f())},C.reject)};this._reader=this._textContentStream.getReader(),f()}}C.promise.then(()=>{n=null,v?this._renderTimer=setTimeout(()=>{I(this),this._renderTimer=null},v):I(this)},this._capability.reject)}expandTextDivs(v=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function O(L){const v=L._bounds,C=L._viewport,n=function V(L,v,C){const n=C.map(function(f,x){return{x1:f.left,y1:f.top,x2:f.right,y2:f.bottom,index:x,x1New:void 0,x2New:void 0}});m(L,n);const t=new Array(C.length);for(const f of n)t[f.index]={left:f.x1New,top:0,right:f.x2New,bottom:0};C.map(function(f,x){const u=t[x],b=n[x];b.x1=f.top,b.y1=L-u.right,b.x2=f.bottom,b.y2=L-u.left,b.index=x,b.x1New=void 0,b.x2New=void 0}),m(v,n);for(const f of n){const x=f.index;t[x].top=f.x1New,t[x].bottom=f.x2New}return t}(C.width,C.height,v);for(let t=0;t<n.length;t++){const f=v[t].div,x=L._textDivProperties.get(f);if(0===x.angle){x.paddingLeft=v[t].left-n[t].left,x.paddingTop=v[t].top-n[t].top,x.paddingRight=n[t].right-v[t].right,x.paddingBottom=n[t].bottom-v[t].bottom,L._textDivProperties.set(f,x);continue}const u=n[t],b=v[t],h=b.m,r=h[0],y=h[1],P=[[0,0],[0,b.size[1]],[b.size[0],0],b.size],N=new Float64Array(64);for(let H=0,Q=P.length;H<Q;H++){const S=i.Util.applyTransform(P[H],h);N[H+0]=r&&(u.left-S[0])/r,N[H+4]=y&&(u.top-S[1])/y,N[H+8]=r&&(u.right-S[0])/r,N[H+12]=y&&(u.bottom-S[1])/y,N[H+16]=y&&(u.left-S[0])/-y,N[H+20]=r&&(u.top-S[1])/r,N[H+24]=y&&(u.right-S[0])/-y,N[H+28]=r&&(u.bottom-S[1])/r,N[H+32]=r&&(u.left-S[0])/-r,N[H+36]=y&&(u.top-S[1])/-y,N[H+40]=r&&(u.right-S[0])/-r,N[H+44]=y&&(u.bottom-S[1])/-y,N[H+48]=y&&(u.left-S[0])/y,N[H+52]=r&&(u.top-S[1])/-r,N[H+56]=y&&(u.right-S[0])/y,N[H+60]=r&&(u.bottom-S[1])/-r}const G=1+Math.min(Math.abs(r),Math.abs(y));x.paddingLeft=B(N,32,16)/G,x.paddingTop=B(N,48,16)/G,x.paddingRight=B(N,0,16)/G,x.paddingBottom=B(N,16,16)/G,L._textDivProperties.set(f,x)}}(this),this._bounds=null);const C=[],n=[];for(let t=0,f=this._textDivs.length;t<f;t++){const x=this._textDivs[t],u=this._textDivProperties.get(x);!u.hasText||(v?(C.length=0,n.length=0,u.originalTransform&&C.push(u.originalTransform),u.paddingTop>0?(n.push(`${u.paddingTop}px`),C.push(`translateY(${-u.paddingTop}px)`)):n.push(0),n.push(u.paddingRight>0?u.paddingRight/u.scale+"px":0),n.push(u.paddingBottom>0?`${u.paddingBottom}px`:0),u.paddingLeft>0?(n.push(u.paddingLeft/u.scale+"px"),C.push(`translateX(${-u.paddingLeft/u.scale}px)`)):n.push(0),x.style.padding=n.join(" "),C.length&&(x.style.transform=C.join(" "))):(x.style.padding=null,x.style.transform=u.originalTransform))}}}},(X,a,k)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SVGGraphics=void 0;var i=k(1),R=k(5),D=k(3);let K=class{constructor(){(0,i.unreachable)("Not implemented: SVGGraphics")}};a.SVGGraphics=K;{let m=function(n){let t=[];const f=[];for(const x of n)"save"!==x.fn?"restore"===x.fn?t=f.pop():t.push(x):(t.push({fnId:92,fn:"group",items:[]}),f.push(t),t=t[t.length-1].items);return t},_=function(n){if(Number.isInteger(n))return n.toString();const t=n.toFixed(10);let f=t.length-1;if("0"!==t[f])return t;do{f--}while("0"===t[f]);return t.substring(0,"."===t[f]?f:f+1)},T=function(n){if(0===n[4]&&0===n[5]){if(0===n[1]&&0===n[2])return 1===n[0]&&1===n[3]?"":`scale(${_(n[0])} ${_(n[3])})`;if(n[0]===n[3]&&n[1]===-n[2]){const t=180*Math.acos(n[0])/Math.PI;return`rotate(${_(t)})`}}else if(1===n[0]&&0===n[1]&&0===n[2]&&1===n[3])return`translate(${_(n[4])} ${_(n[5])})`;return`matrix(${_(n[0])} ${_(n[1])} ${_(n[2])} ${_(n[3])} ${_(n[4])} ${_(n[5])})`};const j={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},F="http://www.w3.org/XML/1998/namespace",E="http://www.w3.org/1999/xlink",U=["butt","round","square"],I=["miter","round","bevel"],B=function(n,t="",f=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!f)return URL.createObjectURL(new Blob([n],{type:t}));const x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let u=`data:${t};base64,`;for(let b=0,h=n.length;b<h;b+=3){const r=255&n[b],y=255&n[b+1],P=255&n[b+2];u+=x[r>>2]+x[(3&r)<<4|y>>4]+x[b+1<h?(15&y)<<2|P>>6:64]+x[b+2<h?63&P:64]}return u},O=function(){const n=new Uint8Array([137,80,78,71,13,10,26,10]),f=new Int32Array(256);for(let P=0;P<256;P++){let N=P;for(let G=0;G<8;G++)N=1&N?3988292384^N>>1&2147483647:N>>1&2147483647;f[P]=N}function u(P,N,G,H){let Q=H;const S=N.length;G[Q]=S>>24&255,G[Q+1]=S>>16&255,G[Q+2]=S>>8&255,G[Q+3]=255&S,Q+=4,G[Q]=255&P.charCodeAt(0),G[Q+1]=255&P.charCodeAt(1),G[Q+2]=255&P.charCodeAt(2),G[Q+3]=255&P.charCodeAt(3),Q+=4,G.set(N,Q),Q+=N.length;const l=function x(P,N,G){let H=-1;for(let Q=N;Q<G;Q++)H=H>>>8^f[255&(H^P[Q])];return-1^H}(G,H+4,Q);G[Q]=l>>24&255,G[Q+1]=l>>16&255,G[Q+2]=l>>8&255,G[Q+3]=255&l}function r(P){let N=P.length;const G=65535,H=Math.ceil(N/G),Q=new Uint8Array(2+N+5*H+4);let S=0;Q[S++]=120,Q[S++]=156;let l=0;for(;N>G;)Q[S++]=0,Q[S++]=255,Q[S++]=255,Q[S++]=0,Q[S++]=0,Q.set(P.subarray(l,l+G),S),S+=G,l+=G,N-=G;Q[S++]=1,Q[S++]=255&N,Q[S++]=N>>8&255,Q[S++]=255&~N,Q[S++]=(65535&~N)>>8&255,Q.set(P.subarray(l),S),S+=P.length-l;const s=function b(P,N,G){let H=1,Q=0;for(let S=N;S<G;++S)H=(H+(255&P[S]))%65521,Q=(Q+H)%65521;return Q<<16|H}(P,0,P.length);return Q[S++]=s>>24&255,Q[S++]=s>>16&255,Q[S++]=s>>8&255,Q[S++]=255&s,Q}return function(N,G,H){return function y(P,N,G,H){const Q=P.width,S=P.height;let l,s,g;const c=P.data;switch(N){case i.ImageKind.GRAYSCALE_1BPP:s=0,l=1,g=Q+7>>3;break;case i.ImageKind.RGB_24BPP:s=2,l=8,g=3*Q;break;case i.ImageKind.RGBA_32BPP:s=6,l=8,g=4*Q;break;default:throw new Error("invalid format")}const e=new Uint8Array((1+g)*S);let o=0,p=0;for(let q=0;q<S;++q)e[o++]=0,e.set(c.subarray(p,p+g),o),p+=g,o+=g;if(N===i.ImageKind.GRAYSCALE_1BPP&&H){o=0;for(let q=0;q<S;q++){o++;for(let Y=0;Y<g;Y++)e[o++]^=255}}const M=new Uint8Array([Q>>24&255,Q>>16&255,Q>>8&255,255&Q,S>>24&255,S>>16&255,S>>8&255,255&S,l,s,0,0,0]),A=function h(P){if(!D.isNodeJS)return r(P);try{let N;N=parseInt(process.versions.node)>=8?P:Buffer.from(P);const G=__webpack_require__(2258).deflateSync(N,{level:9});return G instanceof Uint8Array?G:new Uint8Array(G)}catch(N){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+N)}return r(P)}(e),W=new Uint8Array(n.length+36+M.length+A.length);let $=0;return W.set(n,$),$+=n.length,u("IHDR",M,W,$),$+=12+M.length,u("IDATA",A,W,$),$+=12+A.length,u("IEND",new Uint8Array(0),W,$),B(W,"image/png",G)}(N,void 0===N.kind?i.ImageKind.GRAYSCALE_1BPP:N.kind,G,H)}}();class V{constructor(){this.fontSizeScale=1,this.fontWeight=j.fontWeight,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=j.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(t,f){this.x=t,this.y=f}}let L=0,v=0,C=0;a.SVGGraphics=K=class{constructor(n,t,f=!1){this.svgFactory=new R.DOMSVGFactory,this.current=new V,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=n,this.objs=t,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!f,this._operatorIdMapping=[];for(const x in i.OPS)this._operatorIdMapping[i.OPS[x]]=x}save(){this.transformStack.push(this.transformMatrix);const n=this.current;this.extraStack.push(n),this.current=n.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(n){this.save(),this.executeOpTree(n),this.restore()}loadDependencies(n){const t=n.fnArray,f=n.argsArray;for(let x=0,u=t.length;x<u;x++)if(t[x]===i.OPS.dependency)for(const b of f[x]){const h=b.startsWith("g_")?this.commonObjs:this.objs,r=new Promise(y=>{h.get(b,y)});this.current.dependencies.push(r)}return Promise.all(this.current.dependencies)}transform(n,t,f,x,u,b){this.transformMatrix=i.Util.transform(this.transformMatrix,[n,t,f,x,u,b]),this.tgrp=null}getSVG(n,t){this.viewport=t;const f=this._initialize(t);return this.loadDependencies(n).then(()=>(this.transformMatrix=i.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(n)),f))}convertOpList(n){const t=this._operatorIdMapping,f=n.argsArray,x=n.fnArray,u=[];for(let b=0,h=x.length;b<h;b++){const r=x[b];u.push({fnId:r,fn:t[r],args:f[b]})}return m(u)}executeOpTree(n){for(const t of n){const f=t.fn,u=t.args;switch(0|t.fnId){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(u);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(u[0],u[1]);break;case i.OPS.setFont:this.setFont(u);break;case i.OPS.showText:case i.OPS.showSpacedText:this.showText(u[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(u[0],u[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(u[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(u[0]);break;case i.OPS.setHScale:this.setHScale(u[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(u[0],u[1],u[2],u[3],u[4],u[5]);break;case i.OPS.setTextRise:this.setTextRise(u[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(u[0]);break;case i.OPS.setLineWidth:this.setLineWidth(u[0]);break;case i.OPS.setLineJoin:this.setLineJoin(u[0]);break;case i.OPS.setLineCap:this.setLineCap(u[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(u[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(u[0],u[1],u[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(u[0],u[1],u[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(u);break;case i.OPS.setFillColorN:this.setFillColorN(u);break;case i.OPS.shadingFill:this.shadingFill(u[0]);break;case i.OPS.setDash:this.setDash(u[0],u[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(u[0]);break;case i.OPS.setFlatness:this.setFlatness(u[0]);break;case i.OPS.setGState:this.setGState(u[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintImageXObject:this.paintImageXObject(u[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(u[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(u[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(u[0],u[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(u[0],u[1],u[2],u[3],u[4],u[5]);break;case i.OPS.constructPath:this.constructPath(u[0],u[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(t.items);break;default:(0,i.warn)(`Unimplemented operator ${f}`)}}}setWordSpacing(n){this.current.wordSpacing=n}setCharSpacing(n){this.current.charSpacing=n}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(n,t,f,x,u,b){const h=this.current;h.textMatrix=h.lineMatrix=[n,t,f,x,u,b],h.textMatrixScale=Math.hypot(n,t),h.x=h.lineX=0,h.y=h.lineY=0,h.xcoords=[],h.ycoords=[],h.tspan=this.svgFactory.createElement("svg:tspan"),h.tspan.setAttributeNS(null,"font-family",h.fontFamily),h.tspan.setAttributeNS(null,"font-size",`${_(h.fontSize)}px`),h.tspan.setAttributeNS(null,"y",_(-h.y)),h.txtElement=this.svgFactory.createElement("svg:text"),h.txtElement.appendChild(h.tspan)}beginText(){const n=this.current;n.x=n.lineX=0,n.y=n.lineY=0,n.textMatrix=i.IDENTITY_MATRIX,n.lineMatrix=i.IDENTITY_MATRIX,n.textMatrixScale=1,n.tspan=this.svgFactory.createElement("svg:tspan"),n.txtElement=this.svgFactory.createElement("svg:text"),n.txtgrp=this.svgFactory.createElement("svg:g"),n.xcoords=[],n.ycoords=[]}moveText(n,t){const f=this.current;f.x=f.lineX+=n,f.y=f.lineY+=t,f.xcoords=[],f.ycoords=[],f.tspan=this.svgFactory.createElement("svg:tspan"),f.tspan.setAttributeNS(null,"font-family",f.fontFamily),f.tspan.setAttributeNS(null,"font-size",`${_(f.fontSize)}px`),f.tspan.setAttributeNS(null,"y",_(-f.y))}showText(n){const t=this.current,f=t.font,x=t.fontSize;if(0===x)return;const u=t.fontSizeScale,b=t.charSpacing,h=t.wordSpacing,r=t.fontDirection,y=t.textHScale*r,P=f.vertical,N=P?1:-1,G=f.defaultVMetrics,H=x*t.fontMatrix[0];let Q=0;for(const s of n){if(null===s){Q+=r*h;continue}if("number"==typeof s){Q+=N*s*x/1e3;continue}const g=(s.isSpace?h:0)+b,c=s.fontChar;let e,o,M,p=s.width;if(P){let A;const d=s.vmetric||G;A=s.vmetric?d[1]:.5*p,A=-A*H,p=d?-d[0]:p,e=A/u,o=(Q+d[2]*H)/u}else e=Q/u,o=0;(s.isInFont||f.missingFile)&&(t.xcoords.push(t.x+e),P&&t.ycoords.push(-t.y+o),t.tspan.textContent+=c),M=P?p*H-g*r:p*H+g*r,Q+=M}t.tspan.setAttributeNS(null,"x",t.xcoords.map(_).join(" ")),t.tspan.setAttributeNS(null,"y",P?t.ycoords.map(_).join(" "):_(-t.y)),P?t.y-=Q:t.x+=Q*y,t.tspan.setAttributeNS(null,"font-family",t.fontFamily),t.tspan.setAttributeNS(null,"font-size",`${_(t.fontSize)}px`),t.fontStyle!==j.fontStyle&&t.tspan.setAttributeNS(null,"font-style",t.fontStyle),t.fontWeight!==j.fontWeight&&t.tspan.setAttributeNS(null,"font-weight",t.fontWeight);const S=t.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;S===i.TextRenderingMode.FILL||S===i.TextRenderingMode.FILL_STROKE?(t.fillColor!==j.fillColor&&t.tspan.setAttributeNS(null,"fill",t.fillColor),t.fillAlpha<1&&t.tspan.setAttributeNS(null,"fill-opacity",t.fillAlpha)):t.tspan.setAttributeNS(null,"fill",t.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(S===i.TextRenderingMode.STROKE||S===i.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(t.tspan,1/(t.textMatrixScale||1));let l=t.textMatrix;0!==t.textRise&&(l=l.slice(),l[5]+=t.textRise),t.txtElement.setAttributeNS(null,"transform",`${T(l)} scale(${_(y)}, -1)`),t.txtElement.setAttributeNS(F,"xml:space","preserve"),t.txtElement.appendChild(t.tspan),t.txtgrp.appendChild(t.txtElement),this._ensureTransformGroup().appendChild(t.txtElement)}setLeadingMoveText(n,t){this.setLeading(-t),this.moveText(n,t)}addFontStyle(n){if(!n.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const t=B(n.data,n.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${n.loadedName}"; src: url(${t}); }\n`}setFont(n){const t=this.current,f=this.commonObjs.get(n[0]);let x=n[1];t.font=f,this.embedFonts&&!f.missingFile&&!this.embeddedFonts[f.loadedName]&&(this.addFontStyle(f),this.embeddedFonts[f.loadedName]=f),t.fontMatrix=f.fontMatrix||i.FONT_IDENTITY_MATRIX;let u="normal";f.black?u="900":f.bold&&(u="bold");const b=f.italic?"italic":"normal";x<0?(x=-x,t.fontDirection=-1):t.fontDirection=1,t.fontSize=x,t.fontFamily=f.loadedName,t.fontWeight=u,t.fontStyle=b,t.tspan=this.svgFactory.createElement("svg:tspan"),t.tspan.setAttributeNS(null,"y",_(-t.y)),t.xcoords=[],t.ycoords=[]}endText(){const n=this.current;n.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&n.txtElement?.hasChildNodes()&&(n.element=n.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(n){n>0&&(this.current.lineWidth=n)}setLineCap(n){this.current.lineCap=U[n]}setLineJoin(n){this.current.lineJoin=I[n]}setMiterLimit(n){this.current.miterLimit=n}setStrokeAlpha(n){this.current.strokeAlpha=n}setStrokeRGBColor(n,t,f){this.current.strokeColor=i.Util.makeHexColor(n,t,f)}setFillAlpha(n){this.current.fillAlpha=n}setFillRGBColor(n,t,f){this.current.fillColor=i.Util.makeHexColor(n,t,f),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(n){this.current.strokeColor=this._makeColorN_Pattern(n)}setFillColorN(n){this.current.fillColor=this._makeColorN_Pattern(n)}shadingFill(n){const t=this.viewport.width,f=this.viewport.height,x=i.Util.inverseTransform(this.transformMatrix),u=i.Util.applyTransform([0,0],x),b=i.Util.applyTransform([0,f],x),h=i.Util.applyTransform([t,0],x),r=i.Util.applyTransform([t,f],x),y=Math.min(u[0],b[0],h[0],r[0]),P=Math.min(u[1],b[1],h[1],r[1]),N=Math.max(u[0],b[0],h[0],r[0]),G=Math.max(u[1],b[1],h[1],r[1]),H=this.svgFactory.createElement("svg:rect");H.setAttributeNS(null,"x",y),H.setAttributeNS(null,"y",P),H.setAttributeNS(null,"width",N-y),H.setAttributeNS(null,"height",G-P),H.setAttributeNS(null,"fill",this._makeShadingPattern(n)),this.current.fillAlpha<1&&H.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(H)}_makeColorN_Pattern(n){return"TilingPattern"===n[0]?this._makeTilingPattern(n):this._makeShadingPattern(n)}_makeTilingPattern(n){const t=n[1],f=n[2],x=n[3]||i.IDENTITY_MATRIX,[u,b,h,r]=n[4],y=n[5],P=n[6],N=n[7],G="shading"+C++,[H,Q,S,l]=i.Util.normalizeRect([...i.Util.applyTransform([u,b],x),...i.Util.applyTransform([h,r],x)]),[s,g]=i.Util.singularValueDecompose2dScale(x),c=y*s,e=P*g,o=this.svgFactory.createElement("svg:pattern");o.setAttributeNS(null,"id",G),o.setAttributeNS(null,"patternUnits","userSpaceOnUse"),o.setAttributeNS(null,"width",c),o.setAttributeNS(null,"height",e),o.setAttributeNS(null,"x",`${H}`),o.setAttributeNS(null,"y",`${Q}`);const p=this.svg,M=this.transformMatrix,A=this.current.fillColor,d=this.current.strokeColor,W=this.svgFactory.create(S-H,l-Q);if(this.svg=W,this.transformMatrix=x,2===N){const $=i.Util.makeHexColor(...t);this.current.fillColor=$,this.current.strokeColor=$}return this.executeOpTree(this.convertOpList(f)),this.svg=p,this.transformMatrix=M,this.current.fillColor=A,this.current.strokeColor=d,o.appendChild(W.childNodes[0]),this.defs.appendChild(o),`url(#${G})`}_makeShadingPattern(n){switch("string"==typeof n&&(n=this.objs.get(n)),n[0]){case"RadialAxial":const t="shading"+C++,f=n[3];let x;switch(n[1]){case"axial":const u=n[4],b=n[5];x=this.svgFactory.createElement("svg:linearGradient"),x.setAttributeNS(null,"id",t),x.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),x.setAttributeNS(null,"x1",u[0]),x.setAttributeNS(null,"y1",u[1]),x.setAttributeNS(null,"x2",b[0]),x.setAttributeNS(null,"y2",b[1]);break;case"radial":const h=n[4],r=n[5],y=n[6],P=n[7];x=this.svgFactory.createElement("svg:radialGradient"),x.setAttributeNS(null,"id",t),x.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),x.setAttributeNS(null,"cx",r[0]),x.setAttributeNS(null,"cy",r[1]),x.setAttributeNS(null,"r",P),x.setAttributeNS(null,"fx",h[0]),x.setAttributeNS(null,"fy",h[1]),x.setAttributeNS(null,"fr",y);break;default:throw new Error(`Unknown RadialAxial type: ${n[1]}`)}for(const u of f){const b=this.svgFactory.createElement("svg:stop");b.setAttributeNS(null,"offset",u[0]),b.setAttributeNS(null,"stop-color",u[1]),x.appendChild(b)}return this.defs.appendChild(x),`url(#${t})`;case"Mesh":return(0,i.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${n[0]}`)}}setDash(n,t){this.current.dashArray=n,this.current.dashPhase=t}constructPath(n,t){const f=this.current;let x=f.x,u=f.y,b=[],h=0;for(const r of n)switch(0|r){case i.OPS.rectangle:x=t[h++],u=t[h++];const N=x+t[h++],G=u+t[h++];b.push("M",_(x),_(u),"L",_(N),_(u),"L",_(N),_(G),"L",_(x),_(G),"Z");break;case i.OPS.moveTo:x=t[h++],u=t[h++],b.push("M",_(x),_(u));break;case i.OPS.lineTo:x=t[h++],u=t[h++],b.push("L",_(x),_(u));break;case i.OPS.curveTo:x=t[h+4],u=t[h+5],b.push("C",_(t[h]),_(t[h+1]),_(t[h+2]),_(t[h+3]),_(x),_(u)),h+=6;break;case i.OPS.curveTo2:b.push("C",_(x),_(u),_(t[h]),_(t[h+1]),_(t[h+2]),_(t[h+3])),x=t[h+2],u=t[h+3],h+=4;break;case i.OPS.curveTo3:x=t[h+2],u=t[h+3],b.push("C",_(t[h]),_(t[h+1]),_(x),_(u),_(x),_(u)),h+=4;break;case i.OPS.closePath:b.push("Z")}b=b.join(" "),f.path&&n.length>0&&n[0]!==i.OPS.rectangle&&n[0]!==i.OPS.moveTo?b=f.path.getAttributeNS(null,"d")+b:(f.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(f.path)),f.path.setAttributeNS(null,"d",b),f.path.setAttributeNS(null,"fill","none"),f.element=f.path,f.setCurrentPoint(x,u)}endPath(){const n=this.current;if(n.path=null,!this.pendingClip)return;if(!n.element)return void(this.pendingClip=null);const t="clippath"+L++,f=this.svgFactory.createElement("svg:clipPath");f.setAttributeNS(null,"id",t),f.setAttributeNS(null,"transform",T(this.transformMatrix));const x=n.element.cloneNode(!0);if(x.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,f.appendChild(x),this.defs.appendChild(f),n.activeClipUrl){n.clipGroup=null;for(const u of this.extraStack)u.clipGroup=null;f.setAttributeNS(null,"clip-path",n.activeClipUrl)}n.activeClipUrl=`url(#${t})`,this.tgrp=null}clip(n){this.pendingClip=n}closePath(){const n=this.current;if(n.path){const t=`${n.path.getAttributeNS(null,"d")}Z`;n.path.setAttributeNS(null,"d",t)}}setLeading(n){this.current.leading=-n}setTextRise(n){this.current.textRise=n}setTextRenderingMode(n){this.current.textRenderingMode=n}setHScale(n){this.current.textHScale=n/100}setRenderingIntent(n){}setFlatness(n){}setGState(n){for(const[t,f]of n)switch(t){case"LW":this.setLineWidth(f);break;case"LC":this.setLineCap(f);break;case"LJ":this.setLineJoin(f);break;case"ML":this.setMiterLimit(f);break;case"D":this.setDash(f[0],f[1]);break;case"RI":this.setRenderingIntent(f);break;case"FL":this.setFlatness(f);break;case"Font":this.setFont(f);break;case"CA":this.setStrokeAlpha(f);break;case"ca":this.setFillAlpha(f);break;default:(0,i.warn)(`Unimplemented graphic state operator ${t}`)}}fill(){const n=this.current;n.element&&(n.element.setAttributeNS(null,"fill",n.fillColor),n.element.setAttributeNS(null,"fill-opacity",n.fillAlpha),this.endPath())}stroke(){const n=this.current;n.element&&(this._setStrokeAttributes(n.element),n.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(n,t=1){const f=this.current;let x=f.dashArray;1!==t&&x.length>0&&(x=x.map(function(u){return t*u})),n.setAttributeNS(null,"stroke",f.strokeColor),n.setAttributeNS(null,"stroke-opacity",f.strokeAlpha),n.setAttributeNS(null,"stroke-miterlimit",_(f.miterLimit)),n.setAttributeNS(null,"stroke-linecap",f.lineCap),n.setAttributeNS(null,"stroke-linejoin",f.lineJoin),n.setAttributeNS(null,"stroke-width",_(t*f.lineWidth)+"px"),n.setAttributeNS(null,"stroke-dasharray",x.map(_).join(" ")),n.setAttributeNS(null,"stroke-dashoffset",_(t*f.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const n=this.svgFactory.createElement("svg:rect");n.setAttributeNS(null,"x","0"),n.setAttributeNS(null,"y","0"),n.setAttributeNS(null,"width","1px"),n.setAttributeNS(null,"height","1px"),n.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(n)}paintImageXObject(n){const t=n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n);t?this.paintInlineImageXObject(t):(0,i.warn)(`Dependent image with object ID ${n} is not ready yet`)}paintInlineImageXObject(n,t){const f=n.width,x=n.height,u=O(n,this.forceDataSchema,!!t),b=this.svgFactory.createElement("svg:rect");b.setAttributeNS(null,"x","0"),b.setAttributeNS(null,"y","0"),b.setAttributeNS(null,"width",_(f)),b.setAttributeNS(null,"height",_(x)),this.current.element=b,this.clip("nonzero");const h=this.svgFactory.createElement("svg:image");h.setAttributeNS(E,"xlink:href",u),h.setAttributeNS(null,"x","0"),h.setAttributeNS(null,"y",_(-x)),h.setAttributeNS(null,"width",_(f)+"px"),h.setAttributeNS(null,"height",_(x)+"px"),h.setAttributeNS(null,"transform",`scale(${_(1/f)} ${_(-1/x)})`),t?t.appendChild(h):this._ensureTransformGroup().appendChild(h)}paintImageMaskXObject(n){const t=this.current,f=n.width,x=n.height,u=t.fillColor;t.maskId="mask"+v++;const b=this.svgFactory.createElement("svg:mask");b.setAttributeNS(null,"id",t.maskId);const h=this.svgFactory.createElement("svg:rect");h.setAttributeNS(null,"x","0"),h.setAttributeNS(null,"y","0"),h.setAttributeNS(null,"width",_(f)),h.setAttributeNS(null,"height",_(x)),h.setAttributeNS(null,"fill",u),h.setAttributeNS(null,"mask",`url(#${t.maskId})`),this.defs.appendChild(b),this._ensureTransformGroup().appendChild(h),this.paintInlineImageXObject(n,b)}paintFormXObjectBegin(n,t){if(Array.isArray(n)&&6===n.length&&this.transform(n[0],n[1],n[2],n[3],n[4],n[5]),t){const f=t[2]-t[0],x=t[3]-t[1],u=this.svgFactory.createElement("svg:rect");u.setAttributeNS(null,"x",t[0]),u.setAttributeNS(null,"y",t[1]),u.setAttributeNS(null,"width",_(f)),u.setAttributeNS(null,"height",_(x)),this.current.element=u,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(n){const t=this.svgFactory.create(n.width,n.height),f=this.svgFactory.createElement("svg:defs");t.appendChild(f),this.defs=f;const x=this.svgFactory.createElement("svg:g");return x.setAttributeNS(null,"transform",T(n.transform)),t.appendChild(x),this.svg=x,t}_ensureClipGroup(){if(!this.current.clipGroup){const n=this.svgFactory.createElement("svg:g");n.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(n),this.current.clipGroup=n}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",T(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(X,a,k)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFNodeStream=void 0;var i=k(1),R=k(24);const D=__webpack_require__(172),K=__webpack_require__(2001),j=__webpack_require__(3779),F=__webpack_require__(6558),E=/^file:\/\/\/[a-zA-Z]:\//;a.PDFNodeStream=class I{constructor(C){this.source=C,this.url=function U(v){const C=F.parse(v);return"file:"===C.protocol||C.host?C:/^[a-z]:[/\\]/i.test(v)?F.parse(`file:///${v}`):(C.host||(C.protocol="file:"),C)}(C.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&C.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new T(this):new m(this),this._fullRequestReader}getRangeReader(C,n){if(n<=this._progressiveDataLength)return null;const t=this.isFsUrl?new L(this,C,n):new _(this,C,n);return this._rangeRequestReaders.push(t),t}cancelAllRequests(C){this._fullRequestReader&&this._fullRequestReader.cancel(C);for(const n of this._rangeRequestReaders.slice(0))n.cancel(C)}};class B{constructor(C){this._url=C.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=C.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)(),this._headersCapability=(0,i.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var C=this;return _asyncToGenerator(function*(){if(yield C._readCapability.promise,C._done)return{value:void 0,done:!0};if(C._storedError)throw C._storedError;const n=C._readableStream.read();return null===n?(C._readCapability=(0,i.createPromiseCapability)(),C.read()):(C._loaded+=n.length,C.onProgress&&C.onProgress({loaded:C._loaded,total:C._contentLength}),{value:new Uint8Array(n).buffer,done:!1})})()}cancel(C){this._readableStream?this._readableStream.destroy(C):this._error(C)}_error(C){this._storedError=C,this._readCapability.resolve()}_setReadableStream(C){this._readableStream=C,C.on("readable",()=>{this._readCapability.resolve()}),C.on("end",()=>{C.destroy(),this._done=!0,this._readCapability.resolve()}),C.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new i.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class O{constructor(C){this._url=C.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)(),this._isStreamingSupported=!C.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var C=this;return _asyncToGenerator(function*(){if(yield C._readCapability.promise,C._done)return{value:void 0,done:!0};if(C._storedError)throw C._storedError;const n=C._readableStream.read();return null===n?(C._readCapability=(0,i.createPromiseCapability)(),C.read()):(C._loaded+=n.length,C.onProgress&&C.onProgress({loaded:C._loaded}),{value:new Uint8Array(n).buffer,done:!1})})()}cancel(C){this._readableStream?this._readableStream.destroy(C):this._error(C)}_error(C){this._storedError=C,this._readCapability.resolve()}_setReadableStream(C){this._readableStream=C,C.on("readable",()=>{this._readCapability.resolve()}),C.on("end",()=>{C.destroy(),this._done=!0,this._readCapability.resolve()}),C.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function V(v,C){return{protocol:v.protocol,auth:v.auth,host:v.hostname,port:v.port,path:v.path,method:"GET",headers:C}}class m extends B{constructor(C){super(C);const n=t=>{if(404===t.statusCode){const b=new i.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=b,void this._headersCapability.reject(b)}this._headersCapability.resolve(),this._setReadableStream(t);const f=b=>this._readableStream.headers[b.toLowerCase()],{allowRangeRequests:x,suggestedLength:u}=(0,R.validateRangeRequestCapabilities)({getResponseHeader:f,isHttp:C.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=x,this._contentLength=u||this._contentLength,this._filename=(0,R.extractFilenameFromHeader)(f)};this._request=null,this._request="http:"===this._url.protocol?K.request(V(this._url,C.httpHeaders),n):j.request(V(this._url,C.httpHeaders),n),this._request.on("error",t=>{this._storedError=t,this._headersCapability.reject(t)}),this._request.end()}}class _ extends O{constructor(C,n,t){super(C),this._httpHeaders={};for(const x in C.httpHeaders){const u=C.httpHeaders[x];typeof u>"u"||(this._httpHeaders[x]=u)}this._httpHeaders.Range=`bytes=${n}-${t-1}`;const f=x=>{if(404!==x.statusCode)this._setReadableStream(x);else{const u=new i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=u}};this._request=null,this._request="http:"===this._url.protocol?K.request(V(this._url,this._httpHeaders),f):j.request(V(this._url,this._httpHeaders),f),this._request.on("error",x=>{this._storedError=x}),this._request.end()}}class T extends B{constructor(C){super(C);let n=decodeURIComponent(this._url.path);E.test(this._url.href)&&(n=n.replace(/^\//,"")),D.lstat(n,(t,f)=>{if(t)return"ENOENT"===t.code&&(t=new i.MissingPDFException(`Missing PDF "${n}".`)),this._storedError=t,void this._headersCapability.reject(t);this._contentLength=f.size,this._setReadableStream(D.createReadStream(n)),this._headersCapability.resolve()})}}class L extends O{constructor(C,n,t){super(C);let f=decodeURIComponent(this._url.path);E.test(this._url.href)&&(f=f.replace(/^\//,"")),this._setReadableStream(D.createReadStream(f,{start:n,end:t-1}))}}},(X,a,k)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.createResponseStatusError=function F(U,I){return 404===U||0===U&&I.startsWith("file:")?new i.MissingPDFException('Missing PDF "'+I+'".'):new i.UnexpectedResponseException(`Unexpected server response (${U}) while retrieving PDF "${I}".`,U)},a.extractFilenameFromHeader=function j(U){const I=U("Content-Disposition");if(I){let B=(0,R.getFilenameFromContentDispositionHeader)(I);if(B.includes("%"))try{B=decodeURIComponent(B)}catch{}if((0,D.isPdfFile)(B))return B}return null},a.validateRangeRequestCapabilities=function K({getResponseHeader:U,isHttp:I,rangeChunkSize:B,disableRange:O}){(0,i.assert)(B>0,"Range chunk size must be larger than zero");const V={allowRangeRequests:!1,suggestedLength:void 0},m=parseInt(U("Content-Length"),10);return!Number.isInteger(m)||(V.suggestedLength=m,m<=2*B)||O||!I||"bytes"!==U("Accept-Ranges")||"identity"!==(U("Content-Encoding")||"identity")||(V.allowRangeRequests=!0),V},a.validateResponseStatus=function E(U){return 200===U||206===U};var i=k(1),R=k(25),D=k(5)},(X,a,k)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getFilenameFromContentDispositionHeader=function R(D){let K=!0,j=F("filename\\*","i").exec(D);if(j){j=j[1];let m=B(j);return m=unescape(m),m=O(m),m=V(m),U(m)}if(j=function I(m){const _=[];let T;const L=F("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(T=L.exec(m));){let[,C,n,t]=T;if(C=parseInt(C,10),C in _){if(0===C)break}else _[C]=[n,t]}const v=[];for(let C=0;C<_.length&&C in _;++C){let[n,t]=_[C];t=B(t),n&&(t=unescape(t),0===C&&(t=O(t))),v.push(t)}return v.join("")}(D),j)return U(V(j));if(j=F("filename","i").exec(D),j){j=j[1];let m=B(j);return m=V(m),U(m)}function F(m,_){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',_)}function E(m,_){if(m){if(!/^[\x00-\xFF]+$/.test(_))return _;try{const T=new TextDecoder(m,{fatal:!0}),L=(0,i.stringToBytes)(_);_=T.decode(L),K=!1}catch{}}return _}function U(m){return K&&/[\x80-\xff]/.test(m)&&(m=E("utf-8",m),K&&(m=E("iso-8859-1",m))),m}function B(m){if(m.startsWith('"')){const _=m.slice(1).split('\\"');for(let T=0;T<_.length;++T){const L=_[T].indexOf('"');-1!==L&&(_[T]=_[T].slice(0,L),_.length=T+1),_[T]=_[T].replace(/\\(.)/g,"$1")}m=_.join('"')}return m}function O(m){const _=m.indexOf("'");return-1===_?m:E(m.slice(0,_),m.slice(_+1).replace(/^[^']*'/,""))}function V(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(_,T,L,v){if("q"===L||"Q"===L)return E(T,v=(v=v.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(C,n){return String.fromCharCode(parseInt(n,16))}));try{v=atob(v)}catch{}return E(T,v)})}return""};var i=k(1)},(X,a,k)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFNetworkStream=void 0;var i=k(1),R=k(24);class F{constructor(O,V={}){this.url=O,this.isHttp=/^https?:/i.test(O),this.httpHeaders=this.isHttp&&V.httpHeaders||Object.create(null),this.withCredentials=V.withCredentials||!1,this.getXhr=V.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(O,V,m){const _={begin:O,end:V};for(const T in m)_[T]=m[T];return this.request(_)}requestFull(O){return this.request(O)}request(O){const V=this.getXhr(),m=this.currXhrId++,_=this.pendingRequests[m]={xhr:V};V.open("GET",this.url),V.withCredentials=this.withCredentials;for(const T in this.httpHeaders){const L=this.httpHeaders[T];typeof L>"u"||V.setRequestHeader(T,L)}return this.isHttp&&"begin"in O&&"end"in O?(V.setRequestHeader("Range",`bytes=${O.begin}-${O.end-1}`),_.expectedStatus=206):_.expectedStatus=200,V.responseType="arraybuffer",O.onError&&(V.onerror=function(T){O.onError(V.status)}),V.onreadystatechange=this.onStateChange.bind(this,m),V.onprogress=this.onProgress.bind(this,m),_.onHeadersReceived=O.onHeadersReceived,_.onDone=O.onDone,_.onError=O.onError,_.onProgress=O.onProgress,V.send(null),m}onProgress(O,V){const m=this.pendingRequests[O];!m||m.onProgress?.(V)}onStateChange(O,V){const m=this.pendingRequests[O];if(!m)return;const _=m.xhr;if(_.readyState>=2&&m.onHeadersReceived&&(m.onHeadersReceived(),delete m.onHeadersReceived),4!==_.readyState||!(O in this.pendingRequests))return;if(delete this.pendingRequests[O],0===_.status&&this.isHttp)return void m.onError?.(_.status);const T=_.status||200;if((200!==T||206!==m.expectedStatus)&&T!==m.expectedStatus)return void m.onError?.(_.status);const v=function j(B){const O=B.response;return"string"!=typeof O?O:(0,i.stringToBytes)(O).buffer}(_);if(206===T){const C=_.getResponseHeader("Content-Range"),n=/bytes (\d+)-(\d+)\/(\d+)/.exec(C);m.onDone({begin:parseInt(n[1],10),chunk:v})}else v?m.onDone({begin:0,chunk:v}):m.onError?.(_.status)}getRequestXhr(O){return this.pendingRequests[O].xhr}isPendingRequest(O){return O in this.pendingRequests}abortRequest(O){const V=this.pendingRequests[O].xhr;delete this.pendingRequests[O],V.abort()}}a.PDFNetworkStream=class E{constructor(O){this._source=O,this._manager=new F(O.url,{httpHeaders:O.httpHeaders,withCredentials:O.withCredentials}),this._rangeChunkSize=O.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(O){const V=this._rangeRequestReaders.indexOf(O);V>=0&&this._rangeRequestReaders.splice(V,1)}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new U(this._manager,this._source),this._fullRequestReader}getRangeReader(O,V){const m=new I(this._manager,O,V);return m.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(m),m}cancelAllRequests(O){this._fullRequestReader?.cancel(O);for(const V of this._rangeRequestReaders.slice(0))V.cancel(O)}};class U{constructor(O,V){this._manager=O;const m={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=V.url,this._fullRequestId=O.requestFull(m),this._headersReceivedCapability=(0,i.createPromiseCapability)(),this._disableRange=V.disableRange||!1,this._contentLength=V.length,this._rangeChunkSize=V.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const O=this._fullRequestId,V=this._manager.getRequestXhr(O),m=L=>V.getResponseHeader(L),{allowRangeRequests:_,suggestedLength:T}=(0,R.validateRangeRequestCapabilities)({getResponseHeader:m,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});_&&(this._isRangeSupported=!0),this._contentLength=T||this._contentLength,this._filename=(0,R.extractFilenameFromHeader)(m),this._isRangeSupported&&this._manager.abortRequest(O),this._headersReceivedCapability.resolve()}_onDone(O){if(O&&(this._requests.length>0?this._requests.shift().resolve({value:O.chunk,done:!1}):this._cachedChunks.push(O.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const V of this._requests)V.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(O){this._storedError=(0,R.createResponseStatusError)(O,this._url),this._headersReceivedCapability.reject(this._storedError);for(const V of this._requests)V.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(O){this.onProgress?.({loaded:O.loaded,total:O.lengthComputable?O.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var O=this;return _asyncToGenerator(function*(){if(O._storedError)throw O._storedError;if(O._cachedChunks.length>0)return{value:O._cachedChunks.shift(),done:!1};if(O._done)return{value:void 0,done:!0};const V=(0,i.createPromiseCapability)();return O._requests.push(V),V.promise})()}cancel(O){this._done=!0,this._headersReceivedCapability.reject(O);for(const V of this._requests)V.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class I{constructor(O,V,m){this._manager=O;const _={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=O.url,this._requestId=O.requestRange(V,m,_),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(O){const V=O.chunk;this._requests.length>0?this._requests.shift().resolve({value:V,done:!1}):this._queuedChunk=V,this._done=!0;for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(O){this._storedError=(0,R.createResponseStatusError)(O,this._url);for(const V of this._requests)V.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(O){this.isStreamingSupported||this.onProgress?.({loaded:O.loaded})}get isStreamingSupported(){return!1}read(){var O=this;return _asyncToGenerator(function*(){if(O._storedError)throw O._storedError;if(null!==O._queuedChunk){const m=O._queuedChunk;return O._queuedChunk=null,{value:m,done:!1}}if(O._done)return{value:void 0,done:!0};const V=(0,i.createPromiseCapability)();return O._requests.push(V),V.promise})()}cancel(O){this._done=!0;for(const V of this._requests)V.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(X,a,k)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFFetchStream=void 0;var i=k(1),R=k(24);function D(U,I,B){return{method:"GET",headers:U,signal:B?.signal,mode:"cors",credentials:I?"include":"same-origin",redirect:"follow"}}function K(U){const I=new Headers;for(const B in U){const O=U[B];typeof O>"u"||I.append(B,O)}return I}a.PDFFetchStream=class j{constructor(I){this.source=I,this.isHttp=/^https?:/i.test(I.url),this.httpHeaders=this.isHttp&&I.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new F(this),this._fullRequestReader}getRangeReader(I,B){if(B<=this._progressiveDataLength)return null;const O=new E(this,I,B);return this._rangeRequestReaders.push(O),O}cancelAllRequests(I){this._fullRequestReader&&this._fullRequestReader.cancel(I);for(const B of this._rangeRequestReaders.slice(0))B.cancel(I)}};class F{constructor(I){this._stream=I,this._reader=null,this._loaded=0,this._filename=null;const B=I.source;this._withCredentials=B.withCredentials||!1,this._contentLength=B.length,this._headersCapability=(0,i.createPromiseCapability)(),this._disableRange=B.disableRange||!1,this._rangeChunkSize=B.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!B.disableStream,this._isRangeSupported=!B.disableRange,this._headers=K(this._stream.httpHeaders);const O=B.url;fetch(O,D(this._headers,this._withCredentials,this._abortController)).then(V=>{if(!(0,R.validateResponseStatus)(V.status))throw(0,R.createResponseStatusError)(V.status,O);this._reader=V.body.getReader(),this._headersCapability.resolve();const m=L=>V.headers.get(L),{allowRangeRequests:_,suggestedLength:T}=(0,R.validateRangeRequestCapabilities)({getResponseHeader:m,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=_,this._contentLength=T||this._contentLength,this._filename=(0,R.extractFilenameFromHeader)(m),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new i.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var I=this;return _asyncToGenerator(function*(){yield I._headersCapability.promise;const{value:B,done:O}=yield I._reader.read();return O?{value:B,done:O}:(I._loaded+=B.byteLength,I.onProgress&&I.onProgress({loaded:I._loaded,total:I._contentLength}),{value:new Uint8Array(B).buffer,done:!1})})()}cancel(I){this._reader&&this._reader.cancel(I),this._abortController&&this._abortController.abort()}}class E{constructor(I,B,O){this._stream=I,this._reader=null,this._loaded=0;const V=I.source;this._withCredentials=V.withCredentials||!1,this._readCapability=(0,i.createPromiseCapability)(),this._isStreamingSupported=!V.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=K(this._stream.httpHeaders),this._headers.append("Range",`bytes=${B}-${O-1}`);const m=V.url;fetch(m,D(this._headers,this._withCredentials,this._abortController)).then(_=>{if(!(0,R.validateResponseStatus)(_.status))throw(0,R.createResponseStatusError)(_.status,m);this._readCapability.resolve(),this._reader=_.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var I=this;return _asyncToGenerator(function*(){yield I._readCapability.promise;const{value:B,done:O}=yield I._reader.read();return O?{value:B,done:O}:(I._loaded+=B.byteLength,I.onProgress&&I.onProgress({loaded:I._loaded}),{value:new Uint8Array(B).buffer,done:!1})})()}cancel(I){this._reader&&this._reader.cancel(I),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(X){var a=__webpack_module_cache__[X];if(void 0!==a)return a.exports;var k=__webpack_module_cache__[X]={exports:{}};return __webpack_modules__[X](k,k.exports,__w_pdfjs_require__),k.exports}var __webpack_exports__={};return(()=>{var X=__webpack_exports__;Object.defineProperty(X,"__esModule",{value:!0}),Object.defineProperty(X,"AnnotationLayer",{enumerable:!0,get:function(){return R.AnnotationLayer}}),Object.defineProperty(X,"AnnotationMode",{enumerable:!0,get:function(){return a.AnnotationMode}}),Object.defineProperty(X,"CMapCompressionType",{enumerable:!0,get:function(){return a.CMapCompressionType}}),Object.defineProperty(X,"GlobalWorkerOptions",{enumerable:!0,get:function(){return D.GlobalWorkerOptions}}),Object.defineProperty(X,"InvalidPDFException",{enumerable:!0,get:function(){return a.InvalidPDFException}}),Object.defineProperty(X,"LoopbackPort",{enumerable:!0,get:function(){return k.LoopbackPort}}),Object.defineProperty(X,"MissingPDFException",{enumerable:!0,get:function(){return a.MissingPDFException}}),Object.defineProperty(X,"OPS",{enumerable:!0,get:function(){return a.OPS}}),Object.defineProperty(X,"PDFDataRangeTransport",{enumerable:!0,get:function(){return k.PDFDataRangeTransport}}),Object.defineProperty(X,"PDFDateString",{enumerable:!0,get:function(){return i.PDFDateString}}),Object.defineProperty(X,"PDFWorker",{enumerable:!0,get:function(){return k.PDFWorker}}),Object.defineProperty(X,"PasswordResponses",{enumerable:!0,get:function(){return a.PasswordResponses}}),Object.defineProperty(X,"PermissionFlag",{enumerable:!0,get:function(){return a.PermissionFlag}}),Object.defineProperty(X,"PixelsPerInch",{enumerable:!0,get:function(){return i.PixelsPerInch}}),Object.defineProperty(X,"RenderingCancelledException",{enumerable:!0,get:function(){return i.RenderingCancelledException}}),Object.defineProperty(X,"SVGGraphics",{enumerable:!0,get:function(){return F.SVGGraphics}}),Object.defineProperty(X,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return a.UNSUPPORTED_FEATURES}}),Object.defineProperty(X,"UnexpectedResponseException",{enumerable:!0,get:function(){return a.UnexpectedResponseException}}),Object.defineProperty(X,"Util",{enumerable:!0,get:function(){return a.Util}}),Object.defineProperty(X,"VerbosityLevel",{enumerable:!0,get:function(){return a.VerbosityLevel}}),Object.defineProperty(X,"XfaLayer",{enumerable:!0,get:function(){return E.XfaLayer}}),Object.defineProperty(X,"build",{enumerable:!0,get:function(){return k.build}}),Object.defineProperty(X,"createPromiseCapability",{enumerable:!0,get:function(){return a.createPromiseCapability}}),Object.defineProperty(X,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return a.createValidAbsoluteUrl}}),Object.defineProperty(X,"getDocument",{enumerable:!0,get:function(){return k.getDocument}}),Object.defineProperty(X,"getFilenameFromUrl",{enumerable:!0,get:function(){return i.getFilenameFromUrl}}),Object.defineProperty(X,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return i.getPdfFilenameFromUrl}}),Object.defineProperty(X,"getXfaPageViewport",{enumerable:!0,get:function(){return i.getXfaPageViewport}}),Object.defineProperty(X,"isPdfFile",{enumerable:!0,get:function(){return i.isPdfFile}}),Object.defineProperty(X,"loadScript",{enumerable:!0,get:function(){return i.loadScript}}),Object.defineProperty(X,"renderTextLayer",{enumerable:!0,get:function(){return j.renderTextLayer}}),Object.defineProperty(X,"shadow",{enumerable:!0,get:function(){return a.shadow}}),Object.defineProperty(X,"version",{enumerable:!0,get:function(){return k.version}});var a=__w_pdfjs_require__(1),k=__w_pdfjs_require__(4),i=__w_pdfjs_require__(5),R=__w_pdfjs_require__(18),D=__w_pdfjs_require__(12),K=__w_pdfjs_require__(3),j=__w_pdfjs_require__(21),F=__w_pdfjs_require__(22),E=__w_pdfjs_require__(20);if(K.isNodeJS){const{PDFNodeStream:B}=__w_pdfjs_require__(23);(0,k.setPDFNetworkStreamFactory)(O=>new B(O))}else{const{PDFNetworkStream:B}=__w_pdfjs_require__(26),{PDFFetchStream:O}=__w_pdfjs_require__(27);(0,k.setPDFNetworkStreamFactory)(V=>(0,i.isValidFetchUrl)(V.url)?new O(V):new B(V))}})(),__webpack_exports__})()},module.exports=k()},2813:function(X,a,k){var i=k(5962).default,R=k(3448).default,D=k(3606).default,K=k(9393).default,j=k(4877).default,F=k(1226).default,E=k(8926).default;X.exports=(()=>{"use strict";var U=[,(V,m,_)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.DefaultXfaLayerFactory=m.DefaultTextLayerFactory=m.DefaultStructTreeLayerFactory=m.DefaultAnnotationLayerFactory=void 0;var T=_(2),L=_(4),v=_(5),C=_(7),n=_(8),t=_(9);m.DefaultAnnotationLayerFactory=class f{createAnnotationLayerBuilder(r,y,P=null,N="",G=!0,H=L.NullL10n,Q=!1,S=null,l=null,s=null,g=null){return new T.AnnotationLayerBuilder({pageDiv:r,pdfPage:y,imageResourcesPath:N,renderForms:G,linkService:new v.SimpleLinkService,l10n:H,annotationStorage:P,enableScripting:Q,hasJSActionsPromise:S,fieldObjectsPromise:s,mouseState:l,annotationCanvasMap:g})}};m.DefaultStructTreeLayerFactory=class x{createStructTreeLayerBuilder(r){return new C.StructTreeLayerBuilder({pdfPage:r})}};m.DefaultTextLayerFactory=class u{createTextLayerBuilder(r,y,P,N=!1,G,H){return new n.TextLayerBuilder({textLayerDiv:r,pageIndex:y,viewport:P,enhanceTextSelection:N,eventBus:G,highlighter:H})}};m.DefaultXfaLayerFactory=class b{createXfaLayerBuilder(r,y,P=null,N=null){return new t.XfaLayerBuilder({pageDiv:r,pdfPage:y,annotationStorage:P,linkService:new v.SimpleLinkService,xfaHtml:N})}}},(V,m,_)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.AnnotationLayerBuilder=void 0;var T=_(3),L=_(4);m.AnnotationLayerBuilder=class v{constructor({pageDiv:n,pdfPage:t,linkService:f,downloadManager:x,annotationStorage:u=null,imageResourcesPath:b="",renderForms:h=!0,l10n:r=L.NullL10n,enableScripting:y=!1,hasJSActionsPromise:P=null,fieldObjectsPromise:N=null,mouseState:G=null,annotationCanvasMap:H=null}){this.pageDiv=n,this.pdfPage=t,this.linkService=f,this.downloadManager=x,this.imageResourcesPath=b,this.renderForms=h,this.l10n=r,this.annotationStorage=u,this.enableScripting=y,this._hasJSActionsPromise=P,this._fieldObjectsPromise=N,this._mouseState=G,this._annotationCanvasMap=H,this.div=null,this._cancelled=!1}render(n,t="display"){var f=this;return E(function*(){const[x,u=!1,b=null]=yield Promise.all([f.pdfPage.getAnnotations({intent:t}),f._hasJSActionsPromise,f._fieldObjectsPromise]);if(f._cancelled||0===x.length)return;const h={viewport:n.clone({dontFlip:!0}),div:f.div,annotations:x,page:f.pdfPage,imageResourcesPath:f.imageResourcesPath,renderForms:f.renderForms,linkService:f.linkService,downloadManager:f.downloadManager,annotationStorage:f.annotationStorage,enableScripting:f.enableScripting,hasJSActions:u,fieldObjects:b,mouseState:f._mouseState,annotationCanvasMap:f._annotationCanvasMap};f.div?T.AnnotationLayer.update(h):(f.div=document.createElement("div"),f.div.className="annotationLayer",f.pageDiv.appendChild(f.div),h.div=f.div,T.AnnotationLayer.render(h),f.l10n.translate(f.div))})()}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},V=>{let m;m=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:k(6036),V.exports=m},(V,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.NullL10n=void 0,m.fixupLangCode=function v(t){return L[t?.toLowerCase()]||t},m.getL10nFallback=T;const _={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function T(t,f){switch(t){case"find_match_count":t=`find_match_count[${1===f.total?"one":"other"}]`;break;case"find_match_count_limit":t=`find_match_count_limit[${1===f.limit?"one":"other"}]`}return _[t]||""}const L={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};m.NullL10n={getLanguage:()=>E(function*(){return"en-us"})(),getDirection:()=>E(function*(){return"ltr"})(),get:(t,f=null,x=T(t,f))=>E(function*(){return function C(t,f){return f?t.replace(/\{\{\s*(\w+)\s*\}\}/g,(x,u)=>u in f?f[u]:"{{"+u+"}}"):t}(x,f)})(),translate:t=>E(function*(){})()}},(V,m,_)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.SimpleLinkService=m.PDFLinkService=m.LinkTarget=void 0;var T=_(6);const v={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function C(h,{url:r,target:y,rel:P,enabled:N=!0}={}){if(!r||"string"!=typeof r)throw new Error('A valid "url" parameter must provided.');const G=(0,T.removeNullCharacters)(r);N?h.href=h.title=G:(h.href="",h.title=`Disabled: ${G}`,h.onclick=()=>!1);let H="";switch(y){case v.NONE:break;case v.SELF:H="_self";break;case v.BLANK:H="_blank";break;case v.PARENT:H="_parent";break;case v.TOP:H="_top"}h.target=H,h.rel="string"==typeof P?P:"noopener noreferrer nofollow"}m.LinkTarget=v;var n=new WeakMap,t=new WeakSet;class f{constructor({eventBus:r,externalLinkTarget:y=null,externalLinkRel:P=null,ignoreDestinationZoom:N=!1}={}){R(this,t),D(this,n,{writable:!0,value:new Map}),this.eventBus=r,this.externalLinkTarget=y,this.externalLinkRel=P,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=N,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(r,y=null){this.baseUrl=y,this.pdfDocument=r,F(this,n).clear()}setViewer(r){this.pdfViewer=r}setHistory(r){this.pdfHistory=r}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(r){this.pdfViewer.currentPageNumber=r}get rotation(){return this.pdfViewer.pagesRotation}set rotation(r){this.pdfViewer.pagesRotation=r}goToDestination(r){var y=this;return E(function*(){if(!y.pdfDocument)return;let P,N;"string"==typeof r?(P=r,N=yield y.pdfDocument.getDestination(r)):(P=null,N=yield r),Array.isArray(N)?j(y,t,x).call(y,r,P,N):console.error(`PDFLinkService.goToDestination: "${N}" is not a valid destination array, for dest="${r}".`)})()}goToPage(r){if(!this.pdfDocument)return;const y="string"==typeof r&&this.pdfViewer.pageLabelToPageNumber(r)||0|r;Number.isInteger(y)&&y>0&&y<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(y)),this.pdfViewer.scrollPageIntoView({pageNumber:y})):console.error(`PDFLinkService.goToPage: "${r}" is not a valid page.`)}addLinkAttributes(r,y,P=!1){C(r,{url:y,target:P?v.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(r){if("string"==typeof r){if(r.length>0)return this.getAnchorUrl("#"+escape(r))}else if(Array.isArray(r)){const y=JSON.stringify(r);if(y.length>0)return this.getAnchorUrl("#"+escape(y))}return this.getAnchorUrl("")}getAnchorUrl(r){return(this.baseUrl||"")+r}setHash(r){if(!this.pdfDocument)return;let y,P;if(r.includes("=")){const N=(0,T.parseQueryString)(r);if(N.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:N.get("search").replace(/"/g,""),phraseSearch:"true"===N.get("phrase")}),N.has("page")&&(y=0|N.get("page")||1),N.has("zoom")){const G=N.get("zoom").split(","),H=G[0],Q=parseFloat(H);H.includes("Fit")?"Fit"===H||"FitB"===H?P=[null,{name:H}]:"FitH"===H||"FitBH"===H||"FitV"===H||"FitBV"===H?P=[null,{name:H},G.length>1?0|G[1]:null]:"FitR"===H?5!==G.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):P=[null,{name:H},0|G[1],0|G[2],0|G[3],0|G[4]]:console.error(`PDFLinkService.setHash: "${H}" is not a valid zoom value.`):P=[null,{name:"XYZ"},G.length>1?0|G[1]:null,G.length>2?0|G[2]:null,Q?Q/100:H]}P?this.pdfViewer.scrollPageIntoView({pageNumber:y||this.page,destArray:P,allowNegativeOffset:!0}):y&&(this.page=y),N.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:N.get("pagemode")}),N.has("nameddest")&&this.goToDestination(N.get("nameddest"))}else{P=unescape(r);try{P=JSON.parse(P),Array.isArray(P)||(P=P.toString())}catch{}if("string"==typeof P||K(f,f,u).call(f,P))return void this.goToDestination(P);console.error(`PDFLinkService.setHash: "${unescape(r)}" is not a valid destination.`)}}executeNamedAction(r){switch(r){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:r})}cachePageRef(r,y){if(!y)return;const P=0===y.gen?`${y.num}R`:`${y.num}R${y.gen}`;F(this,n).set(P,r)}_cachedPageNumber(r){if(!r)return null;const y=0===r.gen?`${r.num}R`:`${r.num}R${r.gen}`;return F(this,n).get(y)||null}isPageVisible(r){return this.pdfViewer.isPageVisible(r)}isPageCached(r){return this.pdfViewer.isPageCached(r)}}function x(h,r=null,y){const P=y[0];let N;if("object"==typeof P&&null!==P){if(N=this._cachedPageNumber(P),!N)return void this.pdfDocument.getPageIndex(P).then(G=>{this.cachePageRef(G+1,P),j(this,t,x).call(this,h,r,y)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${P}" is not a valid page reference, for dest="${h}".`)})}else{if(!Number.isInteger(P))return void console.error(`PDFLinkService.#goToDestinationHelper: "${P}" is not a valid destination reference, for dest="${h}".`);N=P+1}!N||N<1||N>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${N}" is not a valid page number, for dest="${h}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:r,explicitDest:y,pageNumber:N})),this.pdfViewer.scrollPageIntoView({pageNumber:N,destArray:y,ignoreDestinationZoom:this._ignoreDestinationZoom}))}function u(h){if(!Array.isArray(h))return!1;const r=h.length;if(r<2)return!1;const y=h[0];if(!("object"==typeof y&&Number.isInteger(y.num)&&Number.isInteger(y.gen)||Number.isInteger(y)&&y>=0))return!1;const P=h[1];if("object"!=typeof P||"string"!=typeof P.name)return!1;let N=!0;switch(P.name){case"XYZ":if(5!==r)return!1;break;case"Fit":case"FitB":return 2===r;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==r)return!1;break;case"FitR":if(6!==r)return!1;N=!1;break;default:return!1}for(let G=2;G<r;G++){const H=h[G];if(!("number"==typeof H||N&&null===H))return!1}return!0}m.PDFLinkService=f;m.SimpleLinkService=class b{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(r){}get rotation(){return 0}set rotation(r){}goToDestination(r){return E(function*(){})()}goToPage(r){}addLinkAttributes(r,y,P=!1){C(r,{url:y,enabled:this.externalLinkEnabled})}getDestinationHash(r){return"#"}getAnchorUrl(r){return"#"}setHash(r){}executeNamedAction(r){}cachePageRef(r,y){}isPageVisible(r){return!0}isPageCached(r){return!0}}},(V,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.animationStarted=m.VERTICAL_PADDING=m.UNKNOWN_SCALE=m.TextLayerMode=m.SpreadMode=m.SidebarView=m.ScrollMode=m.SCROLLBAR_PADDING=m.RenderingStates=m.RendererType=m.ProgressBar=m.PresentationModeState=m.OutputScale=m.MIN_SCALE=m.MAX_SCALE=m.MAX_AUTO_SCALE=m.DEFAULT_SCALE_VALUE=m.DEFAULT_SCALE_DELTA=m.DEFAULT_SCALE=m.AutoPrintRegExp=void 0,m.apiPageLayoutToViewerModes=function _e(ee){let w=N.VERTICAL,z=G.NONE;switch(ee){case"SinglePage":w=N.PAGE;break;case"OneColumn":break;case"TwoPageLeft":w=N.PAGE;case"TwoColumnLeft":z=G.ODD;break;case"TwoPageRight":w=N.PAGE;case"TwoColumnRight":z=G.EVEN}return{scrollMode:w,spreadMode:z}},m.apiPageModeToSidebarView=function Ee(ee){switch(ee){case"UseNone":return r.NONE;case"UseThumbs":return r.THUMBS;case"UseOutlines":return r.OUTLINE;case"UseAttachments":return r.ATTACHMENTS;case"UseOC":return r.LAYERS}return r.NONE},m.approximateFraction=function p(ee){if(Math.floor(ee)===ee)return[ee,1];const w=1/ee;if(w>8)return[1,8];if(Math.floor(w)===w)return[1,w];const Z=ee>1?w:ee;let de,se=0,re=1,le=1,ce=1;for(;;){const Ae=se+le,we=re+ce;if(we>8)break;Z<=Ae/we?(le=Ae,ce=we):(se=Ae,re=we)}return de=Z-se/re<le/ce-Z?Z===ee?[se,re]:[re,se]:Z===ee?[le,ce]:[ce,le],de},m.backtrackBeforeAllVisibleElements=d,m.binarySearchFirstItem=o,m.getActiveOrFocusedElement=function fe(){let ee=document,w=ee.activeElement||ee.querySelector(":focus");for(;w?.shadowRoot;)ee=w.shadowRoot,w=ee.activeElement||ee.querySelector(":focus");return w},m.getPageSizeInches=function A({view:ee,userUnit:w,rotate:z}){const[Z,se,re,le]=ee,ce=z%180!=0,de=(re-Z)/72*w,Ae=(le-se)/72*w;return{width:ce?Ae:de,height:ce?de:Ae}},m.getVisibleElements=function W({scrollEl:ee,views:w,sortByVisibility:z=!1,horizontal:Z=!1,rtl:se=!1}){const re=ee.scrollTop,le=re+ee.clientHeight,ce=ee.scrollLeft,de=ce+ee.clientWidth;const ne=[],J=new Set,te=w.length;let pe=o(w,Z?function we(Se){const Pe=Se.div,Ce=Pe.offsetLeft+Pe.clientLeft;return se?Ce<de:Ce+Pe.clientWidth>ce}:function Ae(Se){const Pe=Se.div;return Pe.offsetTop+Pe.clientTop+Pe.clientHeight>re});pe>0&&pe<te&&!Z&&(pe=d(pe,w,re));let ge=Z?de:-1;for(let Se=pe;Se<te;Se++){const Pe=w[Se],Ce=Pe.div,xe=Ce.offsetLeft+Ce.clientLeft,Le=Ce.offsetTop+Ce.clientTop,ke=Ce.clientWidth,Fe=Ce.clientHeight,Te=xe+ke,Re=Le+Fe;if(-1===ge)Re>=le&&(ge=Re);else if((Z?xe:Le)>ge)break;if(Re<=re||Le>=le||Te<=ce||xe>=de)continue;const Ie=Math.max(0,re-Le)+Math.max(0,Re-le),Oe=(ke-(Math.max(0,ce-xe)+Math.max(0,Te-de)))/ke;ne.push({id:Pe.id,x:xe,y:Le,view:Pe,percent:(Fe-Ie)/Fe*Oe*100|0,widthPercent:100*Oe|0}),J.add(Pe.id)}const ve=ne[0],me=ne[ne.length-1];return z&&ne.sort(function(Se,Pe){const Ce=Se.percent-Pe.percent;return Math.abs(Ce)>.001?-Ce:Se.id-Pe.id}),{first:ve,last:me,views:ne,ids:J}},m.isPortraitOrientation=function ue(ee){return ee.width<=ee.height},m.isValidRotation=function ie(ee){return Number.isInteger(ee)&&ee%90==0},m.isValidScrollMode=function oe(ee){return Number.isInteger(ee)&&Object.values(N).includes(ee)&&ee!==N.UNKNOWN},m.isValidSpreadMode=function he(ee){return Number.isInteger(ee)&&Object.values(G).includes(ee)&&ee!==G.UNKNOWN},m.noContextMenuHandler=function $(ee){ee.preventDefault()},m.normalizeWheelEventDelta=function Y(ee){let w=q(ee);return 0===ee.deltaMode?w/=900:1===ee.deltaMode&&(w/=30),w},m.normalizeWheelEventDirection=q,m.parseQueryString=function s(ee){const w=new Map;for(const[z,Z]of new URLSearchParams(ee))w.set(z.toLowerCase(),Z);return w},m.removeNullCharacters=function e(ee,w=!1){return"string"!=typeof ee?(console.error("The argument must be a string."),ee):(w&&(ee=ee.replace(c," ")),ee.replace(g,""))},m.roundToDivide=function M(ee,w){const z=ee%w;return 0===z?ee:Math.round(ee-z+w)},m.scrollIntoView=function S(ee,w,z=!1){let Z=ee.offsetParent;if(!Z)return void console.error("offsetParent is not set -- cannot scroll");let se=ee.offsetTop+ee.clientTop,re=ee.offsetLeft+ee.clientLeft;for(;Z.clientHeight===Z.scrollHeight&&Z.clientWidth===Z.scrollWidth||z&&(Z.classList.contains("markedContent")||"hidden"===getComputedStyle(Z).overflow);)if(se+=Z.offsetTop,re+=Z.offsetLeft,Z=Z.offsetParent,!Z)return;w&&(void 0!==w.top&&(se+=w.top),void 0!==w.left&&(re+=w.left,Z.scrollLeft=re)),Z.scrollTop=se},m.watchScroll=function l(ee,w){const z=function(re){se||(se=window.requestAnimationFrame(function(){se=null;const ce=ee.scrollLeft,de=Z.lastX;ce!==de&&(Z.right=ce>de),Z.lastX=ce;const Ae=ee.scrollTop,we=Z.lastY;Ae!==we&&(Z.down=Ae>we),Z.lastY=Ae,w(Z)}))},Z={right:!0,down:!0,lastX:ee.scrollLeft,lastY:ee.scrollTop,_eventHandler:z};let se=null;return ee.addEventListener("scroll",z,!0),Z},m.DEFAULT_SCALE_VALUE="auto",m.DEFAULT_SCALE=1,m.DEFAULT_SCALE_DELTA=1.1,m.MIN_SCALE=.1,m.MAX_SCALE=10,m.UNKNOWN_SCALE=0,m.MAX_AUTO_SCALE=1.25,m.SCROLLBAR_PADDING=40,m.VERTICAL_PADDING=5;m.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},m.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const r={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};m.SidebarView=r,m.RendererType={CANVAS:"canvas",SVG:"svg"},m.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const N={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};m.ScrollMode=N;const G={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};m.SpreadMode=G,m.AutoPrintRegExp=/\bprint\s*\(/;m.OutputScale=class Q{constructor(){const w=window.devicePixelRatio||1;this.sx=w,this.sy=w}get scaled(){return 1!==this.sx||1!==this.sy}};const g=/\x00/g,c=/[\x01-\x1F]/g;function o(ee,w,z=0){let Z=z,se=ee.length-1;if(se<0||!w(ee[se]))return ee.length;if(w(ee[Z]))return Z;for(;Z<se;){const re=Z+se>>1;w(ee[re])?se=re:Z=re+1}return Z}function d(ee,w,z){if(ee<2)return ee;let Z=w[ee].div,se=Z.offsetTop+Z.clientTop;se>=z&&(Z=w[ee-1].div,se=Z.offsetTop+Z.clientTop);for(let re=ee-2;re>=0&&(Z=w[re].div,!(Z.offsetTop+Z.clientTop+Z.clientHeight<=se));--re)ee=re;return ee}function q(ee){let w=Math.hypot(ee.deltaX,ee.deltaY);const z=Math.atan2(ee.deltaY,ee.deltaX);return-.25*Math.PI<z&&z<.75*Math.PI&&(w=-w),w}const ae=new Promise(function(ee){window.requestAnimationFrame(ee)});m.animationStarted=ae;m.ProgressBar=class ye{constructor(w,{height:z,width:Z,units:se}={}){this.visible=!0,this.div=document.querySelector(w+" .progress"),this.bar=this.div.parentNode,this.height=z||100,this.width=Z||100,this.units=se||"%",this.div.style.height=this.height+this.units,this.percent=0}_updateBar(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units}get percent(){return this._percent}set percent(w){this._indeterminate=isNaN(w),this._percent=function be(ee,w,z){return Math.min(Math.max(ee,w),z)}(w,0,100),this._updateBar()}setWidth(w){if(!w)return;const Z=w.parentNode.offsetWidth-w.offsetWidth;Z>0&&document.documentElement.style.setProperty("--loadingBar-end-offset",`${Z}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(V,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.StructTreeLayerBuilder=void 0;const _={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},T=/^H(\d+)$/;m.StructTreeLayerBuilder=class L{constructor({pdfPage:C}){this.pdfPage=C}render(C){return this._walk(C)}_setAttributes(C,n){void 0!==C.alt&&n.setAttribute("aria-label",C.alt),void 0!==C.id&&n.setAttribute("aria-owns",C.id),void 0!==C.lang&&n.setAttribute("lang",C.lang)}_walk(C){if(!C)return null;const n=document.createElement("span");if("role"in C){const{role:t}=C,f=t.match(T);f?(n.setAttribute("role","heading"),n.setAttribute("aria-level",f[1])):_[t]&&n.setAttribute("role",_[t])}if(this._setAttributes(C,n),C.children)if(1===C.children.length&&"id"in C.children[0])this._setAttributes(C.children[0],n);else for(const t of C.children)n.appendChild(this._walk(t));return n}}},(V,m,_)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.TextLayerBuilder=void 0;var T=_(3);m.TextLayerBuilder=class v{constructor({textLayerDiv:n,eventBus:t,pageIndex:f,viewport:x,highlighter:u=null,enhanceTextSelection:b=!1}){this.textLayerDiv=n,this.eventBus=t,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=f+1,this.viewport=x,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=u,this.enhanceTextSelection=b,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const n=document.createElement("div");n.className="endOfContent",this.textLayerDiv.appendChild(n)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(n=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const t=document.createDocumentFragment();this.textLayerRenderTask=(0,T.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:t,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:n,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(t),this._finishRendering(),this.highlighter?.enable()},function(f){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(n){this.cancel(),this.textContentStream=n}setTextContent(n){this.cancel(),this.textContent=n}_bindMouse(){const n=this.textLayerDiv;let t=null;n.addEventListener("mousedown",f=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(t&&(clearTimeout(t),t=null));const x=n.querySelector(".endOfContent");if(!x)return;let u=f.target!==n;if(u=u&&"none"!==window.getComputedStyle(x).getPropertyValue("-moz-user-select"),u){const b=n.getBoundingClientRect(),h=Math.max(0,(f.pageY-b.top)/b.height);x.style.top=(100*h).toFixed(2)+"%"}x.classList.add("active")}),n.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(t=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),t=null},300));const f=n.querySelector(".endOfContent");!f||(f.style.top="",f.classList.remove("active"))})}}},(V,m,_)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.XfaLayerBuilder=void 0;var T=_(3);m.XfaLayerBuilder=class L{constructor({pageDiv:C,pdfPage:n,annotationStorage:t=null,linkService:f,xfaHtml:x=null}){this.pageDiv=C,this.pdfPage=n,this.annotationStorage=t,this.linkService=f,this.xfaHtml=x,this.div=null,this._cancelled=!1}render(C,n="display"){if("print"===n){const t={viewport:C.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:n},f=document.createElement("div");this.pageDiv.appendChild(f),t.div=f;const x=T.XfaLayer.render(t);return Promise.resolve(x)}return this.pdfPage.getXfa().then(t=>{if(this._cancelled||!t)return{textDivs:[]};const f={viewport:C.clone({dontFlip:!0}),div:this.div,xfaHtml:t,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:n};return this.div?T.XfaLayer.update(f):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),f.div=this.div,T.XfaLayer.render(f))}).catch(t=>{console.error(t)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},(V,m,_)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFViewer=m.PDFSinglePageViewer=void 0;var T=_(6),L=_(11);m.PDFViewer=class v extends L.BaseViewer{};m.PDFSinglePageViewer=class C extends L.BaseViewer{_resetView(){super._resetView(),this._scrollMode=T.ScrollMode.PAGE,this._spreadMode=T.SpreadMode.NONE}set scrollMode(t){}_updateScrollMode(){}set spreadMode(t){}_updateSpreadMode(){}}},(V,m,_)=>{let T;Object.defineProperty(m,"__esModule",{value:!0}),m.PagesCountLimit=m.PDFPageViewBuffer=m.BaseViewer=void 0;var L=_(3),v=_(6),C=_(2),n=_(4),t=_(12),f=_(14),x=_(5),u=_(7),b=_(15),h=_(8),r=_(9);const P="enablePermissions",N={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};m.PagesCountLimit=N;var G=new WeakMap,H=new WeakMap,Q=new WeakSet;T=Symbol.iterator;class S{constructor(w){R(this,Q),D(this,G,{writable:!0,value:new Set}),D(this,H,{writable:!0,value:0}),i(this,H,w)}push(w){const z=F(this,G);z.has(w)&&z.delete(w),z.add(w),z.size>F(this,H)&&j(this,Q,l).call(this)}resize(w,z=null){i(this,H,w);const Z=F(this,G);if(z){const se=Z.size;let re=1;for(const le of Z)if(z.has(le.id)&&(Z.delete(le),Z.add(le)),++re>se)break}for(;Z.size>F(this,H);)j(this,Q,l).call(this)}has(w){return F(this,G).has(w)}[T](){return F(this,G).keys()}}function l(){const ee=F(this,G).keys().next().value;ee?.destroy(),F(this,G).delete(ee)}m.PDFPageViewBuffer=S;var s=new WeakMap,g=new WeakMap,c=new WeakMap,e=new WeakMap,o=new WeakMap,p=new WeakMap,M=new WeakMap,A=new WeakSet,d=new WeakSet,W=new WeakSet,$=new WeakSet,q=new WeakSet,Y=new WeakSet,ie=new WeakSet;class oe{constructor(w){if(R(this,ie),R(this,Y),R(this,q),R(this,$),R(this,W),R(this,d),R(this,A),D(this,s,{writable:!0,value:null}),D(this,g,{writable:!0,value:L.AnnotationMode.ENABLE_FORMS}),D(this,c,{writable:!0,value:null}),D(this,e,{writable:!0,value:!1}),D(this,o,{writable:!0,value:0}),D(this,p,{writable:!0,value:null}),D(this,M,{writable:!0,value:null}),this.constructor===oe)throw new Error("Cannot initialize BaseViewer.");const z="2.13.216";if(L.version!==z)throw new Error(`The API version "${L.version}" does not match the Viewer version "${z}".`);if(this.container=w.container,this.viewer=w.viewer||w.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=w.eventBus,this.linkService=w.linkService||new x.SimpleLinkService,this.downloadManager=w.downloadManager||null,this.findController=w.findController||null,this._scriptingManager=w.scriptingManager||null,this.removePageBorders=w.removePageBorders||!1,this.textLayerMode=w.textLayerMode??v.TextLayerMode.ENABLE,i(this,g,w.annotationMode??L.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=w.imageResourcesPath||"",this.enablePrintAutoRotate=w.enablePrintAutoRotate||!1,this.renderer=w.renderer||v.RendererType.CANVAS,this.useOnlyCssZoom=w.useOnlyCssZoom||!1,this.maxCanvasPixels=w.maxCanvasPixels,this.l10n=w.l10n||n.NullL10n,i(this,e,w.enablePermissions||!1),this.defaultRenderingQueue=!w.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new f.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=w.renderingQueue,this._doc=document.documentElement,this.scroll=(0,v.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=v.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(w){return this._pages[w]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(w){return w?.pdfPage})}get renderForms(){return F(this,g)===L.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(w){if(!Number.isInteger(w))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(w,!0)||console.error(`currentPageNumber: "${w}" is not a valid page.`)}_setCurrentPageNumber(w,z=!1){if(this._currentPageNumber===w)return z&&this._resetCurrentPageView(),!0;if(!(0<w&&w<=this.pagesCount))return!1;const Z=this._currentPageNumber;return this._currentPageNumber=w,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:w,pageLabel:this._pageLabels?.[w-1]??null,previous:Z}),z&&this._resetCurrentPageView(),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(w){if(!this.pdfDocument)return;let z=0|w;if(this._pageLabels){const Z=this._pageLabels.indexOf(w);Z>=0&&(z=Z+1)}this._setCurrentPageNumber(z,!0)||console.error(`currentPageLabel: "${w}" is not a valid page.`)}get currentScale(){return this._currentScale!==v.UNKNOWN_SCALE?this._currentScale:v.DEFAULT_SCALE}set currentScale(w){if(isNaN(w))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(w,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(w){!this.pdfDocument||this._setScale(w,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(w){if(!(0,v.isValidRotation)(w))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((w%=360)<0&&(w+=360),this._pagesRotation===w))return;this._pagesRotation=w;const z=this._currentPageNumber,Z={rotation:w};for(const se of this._pages)se.update(Z);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:w,pageNumber:z}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(w){var z=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=w,!w)return;const Z=w.isPureXfa,se=w.numPages,re=w.getPage(1),le=w.getOptionalContentConfig(),ce=F(this,e)?w.getPermissions():Promise.resolve();if(se>N.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const de=this._scrollMode=v.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:de})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:se})},()=>{}),this._onBeforeDraw=de=>{const Ae=this._pages[de.pageNumber-1];!Ae||F(this,s).push(Ae)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=de=>{de.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:de.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,F(this,M)&&(document.removeEventListener("visibilitychange",F(this,M)),i(this,M,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([re,ce]).then(([de,Ae])=>{if(w!==this.pdfDocument)return;this._firstPageCapability.resolve(de),this._optionalContentConfigPromise=le,j(this,A,he).call(this,Ae);const we=this._scrollMode===v.ScrollMode.PAGE?null:this.viewer,ne=this.currentScale,J=de.getViewport({scale:ne*L.PixelsPerInch.PDF_TO_CSS_UNITS}),te=this.textLayerMode===v.TextLayerMode.DISABLE||Z?null:this,pe=F(this,g)!==L.AnnotationMode.DISABLE?this:null,ge=Z?this:null;for(let me=1;me<=se;++me){const Se=new t.PDFPageView({container:we,eventBus:this.eventBus,id:me,scale:ne,defaultViewport:J.clone(),optionalContentConfigPromise:le,renderingQueue:this.renderingQueue,textLayerFactory:te,textLayerMode:this.textLayerMode,annotationLayerFactory:pe,annotationMode:F(this,g),xfaLayerFactory:ge,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,l10n:this.l10n});this._pages.push(Se)}const ve=this._pages[0];ve&&(ve.setPdfPage(de),this.linkService.cachePageRef(1,de.ref)),this._scrollMode===v.ScrollMode.PAGE?j(this,W,ae).call(this):this._spreadMode!==v.SpreadMode.NONE&&this._updateSpreadMode(),j(this,d,ue).call(this).then(E(function*(){if(z.findController&&z.findController.setDocument(w),z._scriptingManager&&z._scriptingManager.setDocument(w),w.loadingParams.disableAutoFetch||se>N.FORCE_LAZY_PAGE_INIT)return void z._pagesCapability.resolve();let me=se-1;if(me<=0)z._pagesCapability.resolve();else for(let Se=2;Se<=se;++Se){const Pe=w.getPage(Se).then(Ce=>{const xe=z._pages[Se-1];xe.pdfPage||xe.setPdfPage(Ce),z.linkService.cachePageRef(Se,Ce.ref),0==--me&&z._pagesCapability.resolve()},Ce=>{console.error(`Unable to get page ${Se} to initialize viewer`,Ce),0==--me&&z._pagesCapability.resolve()});Se%N.PAUSE_EAGER_PAGE_INIT==0&&(yield Pe)}})),this.eventBus.dispatch("pagesinit",{source:this}),w.getMetadata().then(({info:me})=>{w===this.pdfDocument&&me.Language&&(this.viewer.lang=me.Language)}),this.defaultRenderingQueue&&this.update()}).catch(de=>{console.error("Unable to initialize viewer",de),this._pagesCapability.reject(de)})}setPageLabels(w){if(this.pdfDocument){w?Array.isArray(w)&&this.pdfDocument.numPages===w.length?this._pageLabels=w:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let z=0,Z=this._pages.length;z<Z;z++)this._pages[z].setPageLabel(this._pageLabels?.[z]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=v.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,i(this,s,new S(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,L.createPromiseCapability)(),this._onePageRenderedCapability=(0,L.createPromiseCapability)(),this._pagesCapability=(0,L.createPromiseCapability)(),this._scrollMode=v.ScrollMode.VERTICAL,this._previousScrollMode=v.ScrollMode.UNKNOWN,this._spreadMode=v.SpreadMode.NONE,i(this,p,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),F(this,M)&&(document.removeEventListener("visibilitychange",F(this,M)),i(this,M,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(P),null!==F(this,c)&&(i(this,g,F(this,c)),i(this,c,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_scrollIntoView({pageDiv:w,pageSpot:z=null,pageNumber:Z=null}){if(this._scrollMode===v.ScrollMode.PAGE&&(Z&&this._setCurrentPageNumber(Z),j(this,W,ae).call(this),this.update()),!z&&!this.isInPresentationMode){const se=w.offsetLeft+w.clientLeft,re=se+w.clientWidth,{scrollLeft:le,clientWidth:ce}=this.container;(this._scrollMode===v.ScrollMode.HORIZONTAL||se<le||re>le+ce)&&(z={left:0,top:0})}(0,v.scrollIntoView)(w,z)}_setScaleUpdatePages(w,z,Z=!1,se=!1){if(this._currentScaleValue=z.toString(),j(this,$,be).call(this,w))return void(se&&this.eventBus.dispatch("scalechanging",{source:this,scale:w,presetValue:z}));this._doc.style.setProperty("--zoom-factor",w),this._doc.style.setProperty("--viewport-scale-factor",w*L.PixelsPerInch.PDF_TO_CSS_UNITS);const re={scale:w};for(const le of this._pages)le.update(re);if(this._currentScale=w,!Z){let ce,le=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(le=this._location.pageNumber,ce=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:le,destArray:ce,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:w,presetValue:se?z:void 0}),this.defaultRenderingQueue&&this.update(),i(this,o,this.container.clientHeight)}get _pageWidthScaleFactor(){return this._spreadMode!==v.SpreadMode.NONE&&this._scrollMode!==v.ScrollMode.HORIZONTAL?2:1}_setScale(w,z=!1){let Z=parseFloat(w);if(Z>0)this._setScaleUpdatePages(Z,w,z,!1);else{const se=this._pages[this._currentPageNumber-1];if(!se)return;let re=v.SCROLLBAR_PADDING,le=v.VERTICAL_PADDING;this.isInPresentationMode?re=le=4:this.removePageBorders&&(re=le=0),this._scrollMode===v.ScrollMode.HORIZONTAL&&([re,le]=[le,re]);const ce=(this.container.clientWidth-re)/se.width*se.scale/this._pageWidthScaleFactor,de=(this.container.clientHeight-le)/se.height*se.scale;switch(w){case"page-actual":Z=1;break;case"page-width":Z=ce;break;case"page-height":Z=de;break;case"page-fit":Z=Math.min(ce,de);break;case"auto":const Ae=(0,v.isPortraitOrientation)(se)?ce:Math.min(de,ce);Z=Math.min(v.MAX_AUTO_SCALE,Ae);break;default:return void console.error(`_setScale: "${w}" is an unknown zoom value.`)}this._setScaleUpdatePages(Z,w,z,!0)}}_resetCurrentPageView(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-1].div})}pageLabelToPageNumber(w){if(!this._pageLabels)return null;const z=this._pageLabels.indexOf(w);return z<0?null:z+1}scrollPageIntoView({pageNumber:w,destArray:z=null,allowNegativeOffset:Z=!1,ignoreDestinationZoom:se=!1}){if(!this.pdfDocument)return;const re=Number.isInteger(w)&&this._pages[w-1];if(!re)return void console.error(`scrollPageIntoView: "${w}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!z)return void this._setCurrentPageNumber(w,!0);let we,ne,le=0,ce=0,de=0,Ae=0;const J=re.rotation%180!=0,te=(J?re.height:re.width)/re.scale/L.PixelsPerInch.PDF_TO_CSS_UNITS,pe=(J?re.width:re.height)/re.scale/L.PixelsPerInch.PDF_TO_CSS_UNITS;let ge=0;switch(z[1].name){case"XYZ":le=z[2],ce=z[3],ge=z[4],le=null!==le?le:0,ce=null!==ce?ce:pe;break;case"Fit":case"FitB":ge="page-fit";break;case"FitH":case"FitBH":ce=z[2],ge="page-width",null===ce&&this._location?(le=this._location.left,ce=this._location.top):("number"!=typeof ce||ce<0)&&(ce=pe);break;case"FitV":case"FitBV":le=z[2],de=te,Ae=pe,ge="page-height";break;case"FitR":le=z[2],ce=z[3],de=z[4]-le,Ae=z[5]-ce,we=(this.container.clientWidth-(this.removePageBorders?0:v.SCROLLBAR_PADDING))/de/L.PixelsPerInch.PDF_TO_CSS_UNITS,ne=(this.container.clientHeight-(this.removePageBorders?0:v.VERTICAL_PADDING))/Ae/L.PixelsPerInch.PDF_TO_CSS_UNITS,ge=Math.min(Math.abs(we),Math.abs(ne));break;default:return void console.error(`scrollPageIntoView: "${z[1].name}" is not a valid destination type.`)}if(se||(ge&&ge!==this._currentScale?this.currentScaleValue=ge:this._currentScale===v.UNKNOWN_SCALE&&(this.currentScaleValue=v.DEFAULT_SCALE_VALUE)),"page-fit"===ge&&!z[4])return void this._scrollIntoView({pageDiv:re.div,pageNumber:w});const ve=[re.viewport.convertToViewportPoint(le,ce),re.viewport.convertToViewportPoint(le+de,ce+Ae)];let me=Math.min(ve[0][0],ve[1][0]),Se=Math.min(ve[0][1],ve[1][1]);Z||(me=Math.max(me,0),Se=Math.max(Se,0)),this._scrollIntoView({pageDiv:re.div,pageSpot:{left:me,top:Se},pageNumber:w})}_updateLocation(w){const z=this._currentScale,Z=this._currentScaleValue,se=parseFloat(Z)===z?Math.round(1e4*z)/100:Z,re=w.id;let le="#page="+re;le+="&zoom="+se;const de=this.container,Ae=this._pages[re-1].getPagePoint(de.scrollLeft-w.x,de.scrollTop-w.y),we=Math.round(Ae[0]),ne=Math.round(Ae[1]);le+=","+we+","+ne,this._location={pageNumber:re,scale:se,top:ne,left:we,rotation:this._pagesRotation,pdfOpenParams:le}}update(){const w=this._getVisiblePages(),z=w.views,Z=z.length;if(0===Z)return;const se=Math.max(10,2*Z+1);if(F(this,s).resize(se,w.ids),this.renderingQueue.renderHighestPriority(w),!this.isInPresentationMode){const re=this._spreadMode===v.SpreadMode.NONE&&(this._scrollMode===v.ScrollMode.PAGE||this._scrollMode===v.ScrollMode.VERTICAL);let le=this._currentPageNumber,ce=!1;for(const de of z){if(de.percent<100)break;if(de.id===le&&re){ce=!0;break}}ce||(le=z[0].id),this._setCurrentPageNumber(le)}this._updateLocation(w.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(w){return this.container.contains(w)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===v.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===v.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getCurrentVisiblePage(){if(!this.pagesCount)return{views:[]};const w=this._pages[this._currentPageNumber-1],z=w.div,Z={id:w.id,x:z.offsetLeft+z.clientLeft,y:z.offsetTop+z.clientTop,view:w};return{first:Z,last:Z,views:[Z],ids:new Set([w.id])}}_getVisiblePages(){if(this.isInPresentationMode)return this._getCurrentVisiblePage();const w=this._scrollMode===v.ScrollMode.PAGE?F(this,p).pages:this._pages,z=this._scrollMode===v.ScrollMode.HORIZONTAL;return(0,v.getVisibleElements)({scrollEl:this.container,views:w,sortByVisibility:!0,horizontal:z,rtl:z&&this._isContainerRtl})}isPageVisible(w){return!!this.pdfDocument&&(Number.isInteger(w)&&w>0&&w<=this.pagesCount?this._getVisiblePages().ids.has(w):(console.error(`isPageVisible: "${w}" is not a valid page.`),!1))}isPageCached(w){if(!this.pdfDocument)return!1;if(!(Number.isInteger(w)&&w>0&&w<=this.pagesCount))return console.error(`isPageCached: "${w}" is not a valid page.`),!1;const z=this._pages[w-1];return F(this,s).has(z)}cleanup(){for(let w=0,z=this._pages.length;w<z;w++)this._pages[w]&&this._pages[w].renderingState!==v.RenderingStates.FINISHED&&this._pages[w].reset()}_cancelRendering(){for(let w=0,z=this._pages.length;w<z;w++)this._pages[w]&&this._pages[w].cancelRendering()}forceRendering(w){const z=w||this._getVisiblePages(),Z=j(this,Y,_e).call(this,z),re=this.renderingQueue.getHighestPriority(z,this._pages,Z,this._spreadMode!==v.SpreadMode.NONE&&this._scrollMode!==v.ScrollMode.HORIZONTAL);return j(this,ie,Ee).call(this,z.ids),!!re&&(j(this,q,ye).call(this,re).then(()=>{this.renderingQueue.renderView(re)}),!0)}createTextLayerBuilder(w,z,Z,se=!1,re,le){return new h.TextLayerBuilder({textLayerDiv:w,eventBus:re,pageIndex:z,viewport:Z,enhanceTextSelection:!this.isInPresentationMode&&se,highlighter:le})}createTextHighlighter(w,z){return new b.TextHighlighter({eventBus:z,pageIndex:w,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(w,z,Z=null,se="",re=!0,le=n.NullL10n,ce=null,de=null,Ae=null,we=null,ne=null){return new C.AnnotationLayerBuilder({pageDiv:w,pdfPage:z,annotationStorage:Z||this.pdfDocument?.annotationStorage,imageResourcesPath:se,renderForms:re,linkService:this.linkService,downloadManager:this.downloadManager,l10n:le,enableScripting:ce??this.enableScripting,hasJSActionsPromise:de||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:we||this.pdfDocument?.getFieldObjects(),mouseState:Ae||this._scriptingManager?.mouseState,annotationCanvasMap:ne})}createXfaLayerBuilder(w,z,Z=null){return new r.XfaLayerBuilder({pageDiv:w,pdfPage:z,annotationStorage:Z||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(w){return new u.StructTreeLayerBuilder({pdfPage:w})}get hasEqualPageSizes(){const w=this._pages[0];for(let z=1,Z=this._pages.length;z<Z;++z){const se=this._pages[z];if(se.width!==w.width||se.height!==w.height)return!1}return!0}getPagesOverview(){return this._pages.map(w=>{const z=w.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,v.isPortraitOrientation)(z)?{width:z.width,height:z.height,rotation:z.rotation}:{width:z.height,height:z.width,rotation:(z.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(w){if(!(w instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${w}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=w;const z={optionalContentConfigPromise:w};for(const Z of this._pages)Z.update(z);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:w})}get scrollMode(){return this._scrollMode}set scrollMode(w){if(this._scrollMode!==w){if(!(0,v.isValidScrollMode)(w))throw new Error(`Invalid scroll mode: ${w}`);this.pagesCount>N.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=w,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:w}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(w=null){const z=this._scrollMode,Z=this.viewer;Z.classList.toggle("scrollHorizontal",z===v.ScrollMode.HORIZONTAL),Z.classList.toggle("scrollWrapped",z===v.ScrollMode.WRAPPED),this.pdfDocument&&w&&(z===v.ScrollMode.PAGE?j(this,W,ae).call(this):this._previousScrollMode===v.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(w,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(w){if(this._spreadMode!==w){if(!(0,v.isValidSpreadMode)(w))throw new Error(`Invalid spread mode: ${w}`);this._spreadMode=w,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:w}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(w=null){if(!this.pdfDocument)return;const z=this.viewer,Z=this._pages;if(this._scrollMode===v.ScrollMode.PAGE)j(this,W,ae).call(this);else if(z.textContent="",this._spreadMode===v.SpreadMode.NONE)for(let se=0,re=Z.length;se<re;++se)z.appendChild(Z[se].div);else{const se=this._spreadMode-1;let re=null;for(let le=0,ce=Z.length;le<ce;++le)null===re?(re=document.createElement("div"),re.className="spread",z.appendChild(re)):le%2===se&&(re=re.cloneNode(!1),z.appendChild(re)),re.appendChild(Z[le].div)}!w||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(w,!0),this.update())}_getPageAdvance(w,z=!1){switch(this._scrollMode){case v.ScrollMode.WRAPPED:{const{views:Z}=this._getVisiblePages(),se=new Map;for(const{id:re,y:le,percent:ce,widthPercent:de}of Z){if(0===ce||de<100)continue;let Ae=se.get(le);Ae||se.set(le,Ae||(Ae=[])),Ae.push(re)}for(const re of se.values()){const le=re.indexOf(w);if(-1===le)continue;const ce=re.length;if(1===ce)break;if(z)for(let de=le-1,Ae=0;de>=Ae;de--){const ne=re[de+1]-1;if(re[de]<ne)return w-ne}else for(let de=le+1,Ae=ce;de<Ae;de++){const ne=re[de-1]+1;if(re[de]>ne)return ne-w}if(z){const de=re[0];if(de<w)return w-de+1}else{const de=re[ce-1];if(de>w)return de-w+1}break}break}case v.ScrollMode.HORIZONTAL:break;case v.ScrollMode.PAGE:case v.ScrollMode.VERTICAL:{if(this._spreadMode===v.SpreadMode.NONE)break;const Z=this._spreadMode-1;if(z&&w%2!==Z)break;if(!z&&w%2===Z)break;const{views:se}=this._getVisiblePages(),re=z?w-1:w+1;for(const{id:le,percent:ce,widthPercent:de}of se)if(le===re){if(ce>0&&100===de)return 2;break}break}}return 1}nextPage(){const w=this._currentPageNumber,z=this.pagesCount;if(w>=z)return!1;const Z=this._getPageAdvance(w,!1)||1;return this.currentPageNumber=Math.min(w+Z,z),!0}previousPage(){const w=this._currentPageNumber;if(w<=1)return!1;const z=this._getPageAdvance(w,!0)||1;return this.currentPageNumber=Math.max(w-z,1),!0}increaseScale(w=1){let z=this._currentScale;do{z=(z*v.DEFAULT_SCALE_DELTA).toFixed(2),z=Math.ceil(10*z)/10,z=Math.min(v.MAX_SCALE,z)}while(--w>0&&z<v.MAX_SCALE);this.currentScaleValue=z}decreaseScale(w=1){let z=this._currentScale;do{z=(z/v.DEFAULT_SCALE_DELTA).toFixed(2),z=Math.floor(10*z)/10,z=Math.max(v.MIN_SCALE,z)}while(--w>0&&z>v.MIN_SCALE);this.currentScaleValue=z}}function he(ee){!ee||(ee.includes(L.PermissionFlag.COPY)||this.viewer.classList.add(P),!ee.includes(L.PermissionFlag.MODIFY_ANNOTATIONS)&&!ee.includes(L.PermissionFlag.FILL_INTERACTIVE_FORMS)&&F(this,g)===L.AnnotationMode.ENABLE_FORMS&&(i(this,c,F(this,g)),i(this,g,L.AnnotationMode.ENABLE)))}function ue(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const ee=new Promise(w=>{i(this,M,()=>{"hidden"===document.visibilityState&&(w(),document.removeEventListener("visibilitychange",F(this,M)),i(this,M,null))}),document.addEventListener("visibilitychange",F(this,M))});return Promise.race([this._onePageRenderedCapability.promise,ee])}function ae(){if(this._scrollMode!==v.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const ee=this._currentPageNumber,w=F(this,p),z=this.viewer;if(z.textContent="",w.pages.length=0,this._spreadMode===v.SpreadMode.NONE){const Z=this._pages[ee-1];if(this.isInPresentationMode){const se=document.createElement("div");se.className="spread";const re=document.createElement("div");re.className="dummyPage",re.style.height=`${this.container.clientHeight}px`,se.appendChild(re),se.appendChild(Z.div),z.appendChild(se)}else z.appendChild(Z.div);w.pages.push(Z)}else{const Z=new Set,se=this._spreadMode-1;ee%2!==se?(Z.add(ee-1),Z.add(ee)):(Z.add(ee-2),Z.add(ee-1));let re=null;for(const le of Z){const ce=this._pages[le];!ce||(null===re?(re=document.createElement("div"),re.className="spread",z.appendChild(re)):le%2===se&&(re=re.cloneNode(!1),z.appendChild(re)),re.appendChild(ce.div),w.pages.push(ce))}}w.scrollDown=ee>=w.previousPageNumber,w.previousPageNumber=ee}function be(ee){return(!this.isInPresentationMode||this.container.clientHeight===F(this,o))&&(ee===this._currentScale||Math.abs(ee-this._currentScale)<1e-15)}function ye(ee){return fe.apply(this,arguments)}function fe(){return(fe=E(function*(ee){if(ee.pdfPage)return ee.pdfPage;try{const w=yield this.pdfDocument.getPage(ee.id);return ee.pdfPage||ee.setPdfPage(w),this.linkService._cachedPageNumber?.(w.ref)||this.linkService.cachePageRef(ee.id,w.ref),w}catch(w){return console.error("Unable to get page for page view",w),null}})).apply(this,arguments)}function _e(ee){if(1===ee.first?.id)return!0;if(ee.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case v.ScrollMode.PAGE:return F(this,p).scrollDown;case v.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}function Ee(ee){for(const w of ee)this._pages[w-1]?.toggleLoadingIconSpinner(!0);for(const w of F(this,s))ee.has(w.id)||w.toggleLoadingIconSpinner(!1)}m.BaseViewer=oe},(V,m,_)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFPageView=void 0;var T=_(3),L=_(6),v=_(13),C=_(4);const n=v.compatibilityParams.maxCanvasPixels||16777216;var t=new WeakMap;m.PDFPageView=class f{constructor(u){D(this,t,{writable:!0,value:T.AnnotationMode.ENABLE_FORMS});const b=u.container,h=u.defaultViewport;this.id=u.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=u.scale||L.DEFAULT_SCALE,this.viewport=h,this.pdfPageRotate=h.rotation,this._optionalContentConfigPromise=u.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=u.textLayerMode??L.TextLayerMode.ENABLE,i(this,t,u.annotationMode??T.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=u.imageResourcesPath||"",this.useOnlyCssZoom=u.useOnlyCssZoom||!1,this.maxCanvasPixels=u.maxCanvasPixels||n,this.eventBus=u.eventBus,this.renderingQueue=u.renderingQueue,this.textLayerFactory=u.textLayerFactory,this.annotationLayerFactory=u.annotationLayerFactory,this.xfaLayerFactory=u.xfaLayerFactory,this.textHighlighter=u.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=u.structTreeLayerFactory,this.renderer=u.renderer||L.RendererType.CANVAS,this.l10n=u.l10n||C.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=L.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const r=document.createElement("div");r.className="page",r.style.width=Math.floor(this.viewport.width)+"px",r.style.height=Math.floor(this.viewport.height)+"px",r.setAttribute("data-page-number",this.id),r.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(y=>{r.setAttribute("aria-label",y)}),this.div=r,b?.appendChild(r)}setPdfPage(u){this.pdfPage=u,this.pdfPageRotate=u.rotate,this.viewport=u.getViewport({scale:this.scale*T.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var u=this;return E(function*(){let b=null;try{yield u.annotationLayer.render(u.viewport,"display")}catch(h){b=h}finally{u.eventBus.dispatch("annotationlayerrendered",{source:u,pageNumber:u.id,error:b})}})()}_renderXfaLayer(){var u=this;return E(function*(){let b=null;try{const h=yield u.xfaLayer.render(u.viewport,"display");u.textHighlighter&&u._buildXfaTextContentItems(h.textDivs)}catch(h){b=h}finally{u.eventBus.dispatch("xfalayerrendered",{source:u,pageNumber:u.id,error:b})}})()}_buildXfaTextContentItems(u){var b=this;return E(function*(){const h=yield b.pdfPage.getTextContent(),r=[];for(const y of h.items)r.push(y.str);b.textHighlighter.setTextMapping(u,r),b.textHighlighter.enable()})()}_resetZoomLayer(u=!1){if(!this.zoomLayer)return;const b=this.zoomLayer.firstChild;this.paintedViewportMap.delete(b),b.width=0,b.height=0,u&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:u=!1,keepAnnotationLayer:b=!1,keepXfaLayer:h=!1}={}){this.cancelRendering({keepAnnotationLayer:b,keepXfaLayer:h}),this.renderingState=L.RenderingStates.INITIAL;const r=this.div;r.style.width=Math.floor(this.viewport.width)+"px",r.style.height=Math.floor(this.viewport.height)+"px";const y=r.childNodes,P=u&&this.zoomLayer||null,N=b&&this.annotationLayer?.div||null,G=h&&this.xfaLayer?.div||null;for(let H=y.length-1;H>=0;H--){const Q=y[H];switch(Q){case P:case N:case G:continue}Q.remove()}r.removeAttribute("data-loaded"),N&&this.annotationLayer.hide(),G&&this.xfaLayer.hide(),P||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(H=>{this.loadingIconDiv?.setAttribute("aria-label",H)}),r.appendChild(this.loadingIconDiv)}update({scale:u=0,rotation:b=null,optionalContentConfigPromise:h=null}){if("object"!=typeof arguments[0])return console.error("PDFPageView.update called with separate parameters, please use an object instead."),void this.update({scale:arguments[0],rotation:arguments[1],optionalContentConfigPromise:arguments[2]});this.scale=u||this.scale,"number"==typeof b&&(this.rotation=b),h instanceof Promise&&(this._optionalContentConfigPromise=h);const y=this.scale*T.PixelsPerInch.PDF_TO_CSS_UNITS;if(this.viewport=this.viewport.clone({scale:y,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:N}=document.documentElement;N.setProperty("--zoom-factor",this.scale),N.setProperty("--viewport-scale-factor",y)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let P=!1;if(this.canvas&&this.maxCanvasPixels>0){const N=this.outputScale;(Math.floor(this.viewport.width)*N.sx|0)*(Math.floor(this.viewport.height)*N.sy|0)>this.maxCanvasPixels&&(P=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&P)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:u=!1,keepXfaLayer:b=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!u||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!b||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:u,redrawAnnotationLayer:b=!1,redrawXfaLayer:h=!1}){const r=this.viewport.width,y=this.viewport.height,P=this.div;u.style.width=u.parentNode.style.width=P.style.width=Math.floor(r)+"px",u.style.height=u.parentNode.style.height=P.style.height=Math.floor(y)+"px";const N=this.viewport.rotation-this.paintedViewportMap.get(u).rotation,G=Math.abs(N);let H=1,Q=1;if((90===G||270===G)&&(H=y/r,Q=r/y),u.style.transform=`rotate(${N}deg) scale(${H}, ${Q})`,this.textLayer){const S=this.textLayer.viewport,s=Math.abs(this.viewport.rotation-S.rotation);let g=r/S.width;(90===s||270===s)&&(g=r/S.height);const c=this.textLayer.textLayerDiv;let e,o;switch(s){case 0:e=o=0;break;case 90:e=0,o="-"+c.style.height;break;case 180:e="-"+c.style.width,o="-"+c.style.height;break;case 270:e="-"+c.style.width,o=0;break;default:console.error("Bad rotation value.")}c.style.transform=`rotate(${s}deg) scale(${g}) translate(${e}, ${o})`,c.style.transformOrigin="0% 0%"}b&&this.annotationLayer&&this._renderAnnotationLayer(),h&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(u,b){return this.viewport.convertToPdfPoint(u,b)}toggleLoadingIconSpinner(u=!1){this.loadingIconDiv?.classList.toggle("notVisible",!u)}draw(){var u=this;this.renderingState!==L.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:b,pdfPage:h}=this;if(!h)return this.renderingState=L.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=L.RenderingStates.RUNNING;const r=document.createElement("div");r.style.width=b.style.width,r.style.height=b.style.height,r.classList.add("canvasWrapper"),this.annotationLayer?.div?b.insertBefore(r,this.annotationLayer.div):b.appendChild(r);let y=null;if(this.textLayerMode!==L.TextLayerMode.DISABLE&&this.textLayerFactory){const Q=document.createElement("div");Q.className="textLayer",Q.style.width=r.style.width,Q.style.height=r.style.height,this.annotationLayer?.div?b.insertBefore(Q,this.annotationLayer.div):b.appendChild(Q),y=this.textLayerFactory.createTextLayerBuilder(Q,this.id-1,this.viewport,this.textLayerMode===L.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=y,F(this,t)!==T.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(b,h,null,this.imageResourcesPath,F(this,t)===T.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),this.xfaLayer?.div&&b.appendChild(this.xfaLayer.div);let P=null;this.renderingQueue&&(P=Q=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=L.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=L.RenderingStates.RUNNING,Q()});Q()});const N=function(){var Q=E(function*(S=null){if(G===u.paintTask&&(u.paintTask=null),S instanceof T.RenderingCancelledException)u._renderError=null;else if(u._renderError=S,u.renderingState=L.RenderingStates.FINISHED,u.loadingIconDiv&&(u.loadingIconDiv.remove(),delete u.loadingIconDiv),u._resetZoomLayer(!0),u.eventBus.dispatch("pagerendered",{source:u,pageNumber:u.id,cssTransform:!1,timestamp:performance.now(),error:u._renderError}),S)throw S});return function(){return Q.apply(this,arguments)}}(),G=this.renderer===L.RendererType.SVG?this.paintOnSvg(r):this.paintOnCanvas(r);G.onRenderContinue=P,this.paintTask=G;const H=G.promise.then(()=>N(null).then(()=>{if(y){const Q=h.streamTextContent({includeMarkedContent:!0});y.setTextContentStream(Q),y.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(Q){return N(Q)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(b,h,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=Q=>{Q.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(S=>{if(!S||!this.canvas)return;const l=this.structTreeLayer.render(S);l.classList.add("structTree"),this.canvas.appendChild(l)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(h)),b.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),H}paintOnCanvas(u){const b=(0,T.createPromiseCapability)(),h={promise:b.promise,onRenderContinue(c){c()},cancel(){g.cancel()}},r=this.viewport,y=document.createElement("canvas");y.hidden=!0;let P=!0;const N=function(){P&&(y.hidden=!1,P=!1)};u.appendChild(y),this.canvas=y,y.mozOpaque=!0;const G=y.getContext("2d",{alpha:!1}),H=this.outputScale=new L.OutputScale;if(this.useOnlyCssZoom){const c=r.clone({scale:T.PixelsPerInch.PDF_TO_CSS_UNITS});H.sx*=c.width/r.width,H.sy*=c.height/r.height}if(this.maxCanvasPixels>0){const e=Math.sqrt(this.maxCanvasPixels/(r.width*r.height));H.sx>e||H.sy>e?(H.sx=e,H.sy=e,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const Q=(0,L.approximateFraction)(H.sx),S=(0,L.approximateFraction)(H.sy);y.width=(0,L.roundToDivide)(r.width*H.sx,Q[0]),y.height=(0,L.roundToDivide)(r.height*H.sy,S[0]),y.style.width=(0,L.roundToDivide)(r.width,Q[1])+"px",y.style.height=(0,L.roundToDivide)(r.height,S[1])+"px",this.paintedViewportMap.set(y,r);const s={canvasContext:G,transform:H.scaled?[H.sx,0,0,H.sy,0,0]:null,viewport:this.viewport,annotationMode:F(this,t),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap},g=this.pdfPage.render(s);return g.onContinue=function(c){N(),h.onRenderContinue?h.onRenderContinue(c):c()},g.promise.then(function(){N(),b.resolve()},function(c){N(),b.reject(c)}),h}paintOnSvg(u){let b=!1;const h=()=>{if(b)throw new T.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},r=this.pdfPage,y=this.viewport.clone({scale:T.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:r.getOperatorList({annotationMode:F(this,t)}).then(N=>(h(),new T.SVGGraphics(r.commonObjs,r.objs).getSVG(N,y).then(H=>{h(),this.svg=H,this.paintedViewportMap.set(H,y),H.style.width=u.style.width,H.style.height=u.style.height,this.renderingState=L.RenderingStates.FINISHED,u.appendChild(H)}))),onRenderContinue(N){N()},cancel(){b=!0}}}setPageLabel(u){this.pageLabel="string"==typeof u?u:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(V,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.compatibilityParams=m.OptionKind=m.AppOptions=void 0;const _=Object.create(null);m.compatibilityParams=_;{const n=navigator.userAgent||"",t=navigator.platform||"",f=navigator.maxTouchPoints||1,x=/Android/.test(n);(/\b(iPad|iPhone|iPod)(?=;)/.test(n)||"MacIntel"===t&&f>1||x)&&(_.maxCanvasPixels=5242880)}const T={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};m.OptionKind=T;const L={annotationMode:{value:2,kind:T.VIEWER+T.PREFERENCE},cursorToolOnLoad:{value:0,kind:T.VIEWER+T.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:T.VIEWER},defaultZoomValue:{value:"",kind:T.VIEWER+T.PREFERENCE},disableHistory:{value:!1,kind:T.VIEWER},disablePageLabels:{value:!1,kind:T.VIEWER+T.PREFERENCE},enablePermissions:{value:!1,kind:T.VIEWER+T.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:T.VIEWER+T.PREFERENCE},enableScripting:{value:!0,kind:T.VIEWER+T.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:T.VIEWER},externalLinkTarget:{value:0,kind:T.VIEWER+T.PREFERENCE},historyUpdateUrl:{value:!1,kind:T.VIEWER+T.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:T.VIEWER+T.PREFERENCE},imageResourcesPath:{value:"./images/",kind:T.VIEWER},maxCanvasPixels:{value:16777216,compatibility:_.maxCanvasPixels,kind:T.VIEWER},pdfBugEnabled:{value:!1,kind:T.VIEWER+T.PREFERENCE},printResolution:{value:150,kind:T.VIEWER},renderer:{value:"canvas",kind:T.VIEWER},sidebarViewOnLoad:{value:-1,kind:T.VIEWER+T.PREFERENCE},scrollModeOnLoad:{value:-1,kind:T.VIEWER+T.PREFERENCE},spreadModeOnLoad:{value:-1,kind:T.VIEWER+T.PREFERENCE},textLayerMode:{value:1,kind:T.VIEWER+T.PREFERENCE},useOnlyCssZoom:{value:!1,kind:T.VIEWER+T.PREFERENCE},viewerCssTheme:{value:0,kind:T.VIEWER+T.PREFERENCE},viewOnLoad:{value:0,kind:T.VIEWER+T.PREFERENCE},cMapPacked:{value:!0,kind:T.API},cMapUrl:{value:"../web/cmaps/",kind:T.API},disableAutoFetch:{value:!1,kind:T.API+T.PREFERENCE},disableFontFace:{value:!1,kind:T.API+T.PREFERENCE},disableRange:{value:!1,kind:T.API+T.PREFERENCE},disableStream:{value:!1,kind:T.API+T.PREFERENCE},docBaseUrl:{value:"",kind:T.API},enableXfa:{value:!0,kind:T.API+T.PREFERENCE},fontExtraProperties:{value:!1,kind:T.API},isEvalSupported:{value:!0,kind:T.API},maxImageSize:{value:-1,kind:T.API},pdfBug:{value:!1,kind:T.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:T.API},verbosity:{value:1,kind:T.API},workerPort:{value:null,kind:T.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:T.WORKER}};L.disablePreferences={value:!1,kind:T.VIEWER},L.locale={value:navigator.language||"en-US",kind:T.VIEWER},L.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:T.VIEWER},L.renderer.kind+=T.PREFERENCE;const v=Object.create(null);m.AppOptions=class C{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(t){const f=v[t];if(void 0!==f)return f;const x=L[t];return void 0!==x?x.compatibility??x.value:void 0}static getAll(t=null){const f=Object.create(null);for(const x in L){const u=L[x];if(t){if(0==(t&u.kind))continue;if(t===T.PREFERENCE){const h=u.value,r=typeof h;if("boolean"===r||"string"===r||"number"===r&&Number.isInteger(h)){f[x]=h;continue}throw new Error(`Invalid type for preference: ${x}`)}}const b=v[x];f[x]=void 0!==b?b:u.compatibility??u.value}return f}static set(t,f){v[t]=f}static setAll(t){for(const f in t)v[f]=t[f]}static remove(t){delete v[t]}static _hasUserOptions(){return Object.keys(v).length>0}}},(V,m,_)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFRenderingQueue=void 0;var T=_(3),L=_(6);m.PDFRenderingQueue=class C{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(t){this.pdfViewer=t}setThumbnailViewer(t){this.pdfThumbnailViewer=t}isHighestPriority(t){return this.highestPriorityPage===t.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(t){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(t)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(t,f,x,u=!1){const b=t.views,h=b.length;if(0===h)return null;for(let G=0;G<h;G++){const H=b[G].view;if(!this.isViewFinished(H))return H}const r=t.first.id,y=t.last.id;if(y-r+1>h){const G=t.ids;for(let H=1,Q=y-r;H<Q;H++){const S=x?r+H:y-H;if(G.has(S))continue;const l=f[S-1];if(!this.isViewFinished(l))return l}}let P=x?y:r-2,N=f[P];return N&&!this.isViewFinished(N)||u&&(P+=x?1:-1,N=f[P],N&&!this.isViewFinished(N))?N:null}isViewFinished(t){return t.renderingState===L.RenderingStates.FINISHED}renderView(t){switch(t.renderingState){case L.RenderingStates.FINISHED:return!1;case L.RenderingStates.PAUSED:this.highestPriorityPage=t.renderingId,t.resume();break;case L.RenderingStates.RUNNING:this.highestPriorityPage=t.renderingId;break;case L.RenderingStates.INITIAL:this.highestPriorityPage=t.renderingId,t.draw().finally(()=>{this.renderHighestPriority()}).catch(f=>{f instanceof T.RenderingCancelledException||console.error(`renderView: "${f}"`)})}return!0}}},(V,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.TextHighlighter=void 0;m.TextHighlighter=class _{constructor({findController:L,eventBus:v,pageIndex:C}){this.findController=L,this.matches=[],this.eventBus=v,this.pageIdx=C,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(L,v){this.textDivs=L,this.textContentItemsStr=v}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=L=>{(L.pageIndex===this.pageIdx||-1===L.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(L,v){if(!L)return[];const{textContentItemsStr:C}=this;let n=0,t=0;const f=C.length-1,x=[];for(let u=0,b=L.length;u<b;u++){let h=L[u];for(;n!==f&&h>=t+C[n].length;)t+=C[n].length,n++;n===C.length&&console.error("Could not find a matching mapping");const r={begin:{divIdx:n,offset:h-t}};for(h+=v[u];n!==f&&h>t+C[n].length;)t+=C[n].length,n++;r.end={divIdx:n,offset:h-t},x.push(r)}return x}_renderMatches(L){if(0===L.length)return;const{findController:v,pageIdx:C}=this,{textContentItemsStr:n,textDivs:t}=this,f=C===v.selected.pageIdx,x=v.selected.matchIdx;let b=null;const h_offset=void 0;function r(G,H){const Q=G.divIdx;return t[Q].textContent="",y(Q,0,G.offset,H)}function y(G,H,Q,S){let l=t[G];if(l.nodeType===Node.TEXT_NODE){const c=document.createElement("span");l.parentNode.insertBefore(c,l),c.appendChild(l),t[G]=c,l=c}const s=n[G].substring(H,Q),g=document.createTextNode(s);if(S){const c=document.createElement("span");return c.className=`${S} appended`,c.appendChild(g),l.appendChild(c),S.includes("selected")?c.offsetLeft:0}return l.appendChild(g),0}let P=x,N=P+1;if(v.state.highlightAll)P=0,N=L.length;else if(!f)return;for(let G=P;G<N;G++){const H=L[G],Q=H.begin,S=H.end,l=f&&G===x,s=l?" selected":"";let g=0;if(b&&Q.divIdx===b.divIdx?y(b.divIdx,b.offset,Q.offset):(null!==b&&y(b.divIdx,b.offset,h_offset),r(Q)),Q.divIdx===S.divIdx)g=y(Q.divIdx,Q.offset,S.offset,"highlight"+s);else{g=y(Q.divIdx,Q.offset,h_offset,"highlight begin"+s);for(let c=Q.divIdx+1,e=S.divIdx;c<e;c++)t[c].className="highlight middle"+s;r(S,"highlight end"+s)}b=S,l&&v.scrollMatchIntoView({element:t[Q.divIdx],selectedLeft:g,pageIndex:C,matchIndex:x})}b&&y(b.divIdx,b.offset,h_offset)}_updateMatches(){if(!this.enabled)return;const{findController:L,matches:v,pageIdx:C}=this,{textContentItemsStr:n,textDivs:t}=this;let f=-1;for(let b=0,h=v.length;b<h;b++){const r=v[b];for(let P=Math.max(f,r.begin.divIdx),N=r.end.divIdx;P<=N;P++){const G=t[P];G.textContent=n[P],G.className=""}f=r.end.divIdx+1}L?.highlightMatches&&(this.matches=this._convertMatches(L.pageMatches[C]||null,L.pageMatchesLength[C]||null),this._renderMatches(this.matches))}}},(V,m,_)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.DownloadManager=void 0;var T=_(3);function L(C,n){const t=document.createElement("a");if(!t.click)throw new Error('DownloadManager: "a.click()" is not supported.');t.href=C,t.target="_parent","download"in t&&(t.download=n),(document.body||document.documentElement).appendChild(t),t.click(),t.remove()}m.DownloadManager=class v{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(n,t){(0,T.createValidAbsoluteUrl)(n,"http://example.com")?L(n+"#pdfjs.action=download",t):console.error(`downloadUrl - not a valid URL: ${n}`)}downloadData(n,t,f){L(URL.createObjectURL(new Blob([n],{type:f})),t)}openOrDownloadData(n,t,f){const x=(0,T.isPdfFile)(f),u=x?"application/pdf":"";if(x){let h,b=this._openBlobUrls.get(n);b||(b=URL.createObjectURL(new Blob([t],{type:u})),this._openBlobUrls.set(n,b)),h="?file="+encodeURIComponent(b+"#"+f);try{return window.open(h),!0}catch(r){console.error(`openOrDownloadData: ${r}`),URL.revokeObjectURL(b),this._openBlobUrls.delete(n)}}return this.downloadData(t,f,u),!1}download(n,t,f,x="download"){L(URL.createObjectURL(n),f)}}},(V,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.WaitOnType=m.EventBus=m.AutomationEventBus=void 0,m.waitOnEventOrTimeout=function T({target:C,name:n,delay:t=0}){return new Promise(function(f,x){if("object"!=typeof C||!n||"string"!=typeof n||!(Number.isInteger(t)&&t>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function u(y){C instanceof L?C._off(n,b):C.removeEventListener(n,b),r&&clearTimeout(r),f(y)}const b=u.bind(null,_.EVENT);C instanceof L?C._on(n,b):C.addEventListener(n,b);const h=u.bind(null,_.TIMEOUT),r=setTimeout(h,t)})};const _={EVENT:"event",TIMEOUT:"timeout"};m.WaitOnType=_;class L{constructor(){this._listeners=Object.create(null)}on(n,t,f=null){this._on(n,t,{external:!0,once:f?.once})}off(n,t,f=null){this._off(n,t,{external:!0,once:f?.once})}dispatch(n,t){const f=this._listeners[n];if(!f||0===f.length)return;let x;for(const{listener:u,external:b,once:h}of f.slice(0))h&&this._off(n,u),b?(x||(x=[])).push(u):u(t);if(x){for(const u of x)u(t);x=null}}_on(n,t,f=null){var u;((u=this._listeners)[n]||(u[n]=[])).push({listener:t,external:!0===f?.external,once:!0===f?.once})}_off(n,t,f=null){const x=this._listeners[n];if(x)for(let u=0,b=x.length;u<b;u++)if(x[u].listener===t)return void x.splice(u,1)}}m.EventBus=L;m.AutomationEventBus=class v extends L{dispatch(n,t){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(V,m,_)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.GenericL10n=void 0,_(19);var T=_(4);const L=document.webL10n;m.GenericL10n=class v{constructor(n){this._lang=n,this._ready=new Promise((t,f)=>{L.setLanguage((0,T.fixupLangCode)(n),()=>{t(L)})})}getLanguage(){var n=this;return E(function*(){return(yield n._ready).getLanguage()})()}getDirection(){var n=this;return E(function*(){return(yield n._ready).getDirection()})()}get(n,t=null,f=(0,T.getL10nFallback)(n,t)){var x=this;return E(function*(){return(yield x._ready).get(n,t,f)})()}translate(n){var t=this;return E(function*(){return(yield t._ready).translate(n)})()}}},()=>{document.webL10n=function(V,m,_){var T={},L="",v="textContent",C="",n={},t="loading";function r(c,e,o){e=e||function(A){},o=o||function(){};var p=new XMLHttpRequest;p.open("GET",c,true),p.overrideMimeType&&p.overrideMimeType("text/plain; charset=utf-8"),p.onreadystatechange=function(){4==p.readyState&&(200==p.status||0===p.status?e(p.responseText):o())},p.onerror=o,p.ontimeout=o;try{p.send(null)}catch{o()}}function y(c,e,o,p){var M=c.replace(/[^\/]*$/,"")||"./";function A(W){return W.lastIndexOf("\\")<0?W:W.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}r(c,function(W){L+=W,function d(W,$){var q={},Y=/^\s*|\s*$/,ie=/^\s*#|^\s*$/,oe=/^\s*\[(.*)\]\s*$/,he=/^\s*@import\s+url\((.*)\)\s*$/i,ue=/^([^=\s]*)\s*=\s*(.+)$/;function ae(ye,fe,_e){var Ee=ye.replace(Y,"").split(/[\r\n]+/),ee="*",w=e.split("-",1)[0],z=!1,Z="";!function se(){for(;;){if(!Ee.length)return void _e();var re=Ee.shift();if(!ie.test(re)){if(fe){if(Z=oe.exec(re)){ee=Z[1].toLowerCase(),z="*"!==ee&&ee!==e&&ee!==w;continue}if(z)continue;if(Z=he.exec(re))return void be(M+Z[1],se)}var le=re.match(ue);le&&3==le.length&&(q[le[1]]=A(le[2]))}}}()}function be(ye,fe){r(ye,function(_e){ae(_e,!1,fe)},function(){console.warn(ye+" not found."),fe()})}ae(W,!0,function(){$(q)})}(W,function($){for(var q in $){var Y,ie,oe=q.lastIndexOf(".");oe>0?(Y=q.substring(0,oe),ie=q.substring(oe+1)):(Y=q,ie=v),T[Y]||(T[Y]={}),T[Y][ie]=$[q]}o&&o()})},p)}function P(c,e){c&&(c=c.toLowerCase()),e=e||function(){},function N(){T={},L="",C=""}(),C=c;var o=function x(){return m.querySelectorAll('link[type="application/l10n"]')}(),p=o.length;if(0!==p){var W,$=0;W=function(){++$>=p&&(e(),t="complete")};for(var Y=0;Y<p;Y++)new q(o[Y]).load(c,W)}else{var M=function u(){var c=m.querySelector('script[type="application/l10n"]');return c?JSON.parse(c.innerHTML):null}();if(M&&M.locales&&M.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(T=M.locales[c])){var A=M.default_locale.toLowerCase();for(var d in M.locales){if((d=d.toLowerCase())===c){T=M.locales[c];break}d===A&&(T=M.locales[A])}}e()}else console.log("no resource to load, early way out");t="complete"}function q(oe){var he=oe.href;this.load=function(ue,ae){y(he,ue,ae,function(){console.warn(he+" not found."),console.warn('"'+ue+'" resource not found'),C="",ae()})}}}function H(c,e,o){var p=T[c];if(!p){if(console.warn("#"+c+" is undefined."),!o)return null;p=o}var M={};for(var A in p){var d=p[A];d=S(d=Q(d,e,c,A),e,c),M[A]=d}return M}function Q(c,e,o,p){var A=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(c);if(!A||!A.length)return c;var $,d=A[1],W=A[2];return e&&W in e?$=e[W]:W in T&&($=T[W]),d in n&&(c=(0,n[d])(c,$,o,p)),c}function S(c,e,o){return c.replace(/\{\{\s*(.+?)\s*\}\}/g,function(M,A){return e&&A in e?e[A]:A in T?T[A]:(console.log("argument {{"+A+"}} for #"+o+" is undefined."),M)})}function l(c){var e=function h(c){if(!c)return{};var e=c.getAttribute("data-l10n-id"),o=c.getAttribute("data-l10n-args"),p={};if(o)try{p=JSON.parse(o)}catch{console.warn("could not parse arguments for #"+e)}return{id:e,args:p}}(c);if(e.id){var o=H(e.id,e.args);if(!o)return void console.warn("#"+e.id+" is undefined.");if(o[v]){if(0===function s(c){if(c.children)return c.children.length;if(typeof c.childElementCount<"u")return c.childElementCount;for(var e=0,o=0;o<c.childNodes.length;o++)e+=1===c.nodeType?1:0;return e}(c))c[v]=o[v];else{for(var p=c.childNodes,M=!1,A=0,d=p.length;A<d;A++)3===p[A].nodeType&&/\S/.test(p[A].nodeValue)&&(M?p[A].nodeValue="":(p[A].nodeValue=o[v],M=!0));if(!M){var W=m.createTextNode(o[v]);c.insertBefore(W,c.firstChild)}}delete o[v]}for(var $ in o)c[$]=o[$]}}return n.plural=function(c,e,o,p){var M=parseFloat(e);if(isNaN(M)||p!=v)return c;n._pluralRules||(n._pluralRules=function G(c){function o(d,W){return-1!==W.indexOf(d)}function p(d,W,$){return W<=d&&d<=$}var M={0:function(d){return"other"},1:function(d){return p(d%100,3,10)?"few":0===d?"zero":p(d%100,11,99)?"many":2==d?"two":1==d?"one":"other"},2:function(d){return 0!==d&&d%10==0?"many":2==d?"two":1==d?"one":"other"},3:function(d){return 1==d?"one":"other"},4:function(d){return p(d,0,1)?"one":"other"},5:function(d){return p(d,0,2)&&2!=d?"one":"other"},6:function(d){return 0===d?"zero":d%10==1&&d%100!=11?"one":"other"},7:function(d){return 2==d?"two":1==d?"one":"other"},8:function(d){return p(d,3,6)?"few":p(d,7,10)?"many":2==d?"two":1==d?"one":"other"},9:function(d){return 0===d||1!=d&&p(d%100,1,19)?"few":1==d?"one":"other"},10:function(d){return p(d%10,2,9)&&!p(d%100,11,19)?"few":d%10!=1||p(d%100,11,19)?"other":"one"},11:function(d){return p(d%10,2,4)&&!p(d%100,12,14)?"few":d%10==0||p(d%10,5,9)||p(d%100,11,14)?"many":d%10==1&&d%100!=11?"one":"other"},12:function(d){return p(d,2,4)?"few":1==d?"one":"other"},13:function(d){return p(d%10,2,4)&&!p(d%100,12,14)?"few":1!=d&&p(d%10,0,1)||p(d%10,5,9)||p(d%100,12,14)?"many":1==d?"one":"other"},14:function(d){return p(d%100,3,4)?"few":d%100==2?"two":d%100==1?"one":"other"},15:function(d){return 0===d||p(d%100,2,10)?"few":p(d%100,11,19)?"many":1==d?"one":"other"},16:function(d){return d%10==1&&11!=d?"one":"other"},17:function(d){return 3==d?"few":0===d?"zero":6==d?"many":2==d?"two":1==d?"one":"other"},18:function(d){return 0===d?"zero":p(d,0,2)&&0!==d&&2!=d?"one":"other"},19:function(d){return p(d,2,10)?"few":p(d,0,1)?"one":"other"},20:function(d){return!p(d%10,3,4)&&d%10!=9||p(d%100,10,19)||p(d%100,70,79)||p(d%100,90,99)?d%1e6==0&&0!==d?"many":d%10!=2||o(d%100,[12,72,92])?d%10!=1||o(d%100,[11,71,91])?"other":"one":"two":"few"},21:function(d){return 0===d?"zero":1==d?"one":"other"},22:function(d){return p(d,0,1)||p(d,11,99)?"one":"other"},23:function(d){return p(d%10,1,2)||d%20==0?"one":"other"},24:function(d){return p(d,3,10)||p(d,13,19)?"few":o(d,[2,12])?"two":o(d,[1,11])?"one":"other"}},A={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[c.replace(/-.*$/,"")];return A in M?M[A]:(console.warn("plural form unknown for ["+c+"]"),function(){return"other"})}(C));var A="["+n._pluralRules(M)+"]";return 0===M&&o+"[zero]"in T?c=T[o+"[zero]"][p]:1==M&&o+"[one]"in T?c=T[o+"[one]"][p]:2==M&&o+"[two]"in T?c=T[o+"[two]"][p]:o+A in T?c=T[o+A][p]:o+"[other]"in T&&(c=T[o+"[other]"][p]),c},{get:function(c,e,o){var A,p=c.lastIndexOf("."),M=v;p>0&&(M=c.substring(p+1),c=c.substring(0,p)),o&&((A={})[M]=o);var d=H(c,e,A);return d&&M in d?d[M]:"{{"+c+"}}"},getData:function(){return T},getText:function(){return L},getLanguage:function(){return C},setLanguage:function(c,e){P(c,function(){e&&e()})},getDirection:function(){var e=C.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(e)>=0?"rtl":"ltr"},translate:function g(c){for(var e=function b(c){return c?c.querySelectorAll("*[data-l10n-id]"):[]}(c=c||m.documentElement),o=e.length,p=0;p<o;p++)l(e[p]);l(c)},getReadyState:function(){return t},ready:function(c){c&&("complete"==t||"interactive"==t?V.setTimeout(function(){c()}):m.addEventListener&&m.addEventListener("localized",function e(){m.removeEventListener("localized",e),c()}))}}}(window,document)},(V,m,_)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFFindController=m.FindState=void 0;var T=_(6),L=_(3),v=_(21);const C={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};m.FindState=C;const x={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},u=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),b=[...u.values()].map(S=>String.fromCharCode(S)).join(""),h=/\p{M}+/gu,r=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,y=/([^\p{M}])\p{M}*$/u,P=/^\p{M}*([^\p{M}])/u;let N=null;function G(S){if(!N){const d=Object.keys(x).join("");N=new RegExp(`([${d}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const l=[];let s;for(;null!==(s=h.exec(S));)l.push([s[0].length,s.index]);let g=S.normalize("NFD");const c=[[0,0]];let e=0,o=0,p=0,M=0,A=!1;return g=g.replace(N,(d,W,$,q,Y,ie)=>{if(ie-=p,W){const oe=x[d],he=oe.length;for(let ue=1;ue<he;ue++)c.push([ie-o+ue,o-ue]);return o-=he-1,oe}if($){const oe=$.endsWith("\n"),he=oe?$.length-2:$.length;A=!0;let ue=he;ie+M===l[e]?.[1]&&(ue-=l[e][0],++e);for(let ae=1;ae<ue+1;ae++)c.push([ie-1-o+ae,o-ae]);return o-=ue,p+=ue,oe?(c.push([(ie+=he-1)-o+1,1+o]),o+=1,p+=1,M+=1,$.slice(0,he)):$}return q?(c.push([ie-o+1,1+o]),o+=1,p+=1,M+=1,q.charAt(0)):(c.push([ie-o+1,o-1]),o-=1,p+=1,M+=1," ")}),c.push([g.length,o]),[g,c,A]}function H(S,l,s){if(!S)return[l,s];const g=l,c=l+s;let e=(0,T.binarySearchFirstItem)(S,p=>p[0]>=g);S[e][0]>g&&--e;let o=(0,T.binarySearchFirstItem)(S,p=>p[0]>=c,e);return S[o][0]>c&&--o,[g+S[e][1],s+S[o][1]-S[e][1]]}m.PDFFindController=class Q{constructor({linkService:l,eventBus:s}){this._linkService=l,this._eventBus=s,this._reset(),s._on("find",this._onFind.bind(this)),s._on("findbarclose",this._onFindBarClose.bind(this)),this.executeCommand=(g,c)=>{console.error('Deprecated method `PDFFindController.executeCommand` called, please dispatch a "find"-event using the EventBus instead.');const e=Object.assign(Object.create(null),c,{type:g.substring(4)});this._onFind(e)}}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(l){this._pdfDocument&&this._reset(),l&&(this._pdfDocument=l,this._firstPageCapability.resolve())}_onFind(l){if(!l)return;const s=this._pdfDocument,{type:g}=l;(null===this._state||this._shouldDirtyMatch(l))&&(this._dirtyMatch=!0),this._state=l,"highlightallchange"!==g&&this._updateUIState(C.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||s&&this._pdfDocument!==s)return;this._extractText();const c=!this._highlightMatches,e=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),g?this._dirtyMatch?this._nextMatch():"again"===g?(this._nextMatch(),c&&this._state.highlightAll&&this._updateAllPages()):"highlightallchange"===g?(e?this._nextMatch():this._highlightMatches=!0,this._updateAllPages()):this._nextMatch():this._findTimeout=setTimeout(()=>{this._nextMatch(),this._findTimeout=null},250)})}scrollMatchIntoView({element:l=null,selectedLeft:s=0,pageIndex:g=-1,matchIndex:c=-1}){this._scrollMatches&&l&&-1!==c&&c===this._selected.matchIdx&&-1!==g&&g===this._selected.pageIdx&&(this._scrollMatches=!1,(0,T.scrollIntoView)(l,{top:-50,left:s+-400},!0))}_reset(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,L.createPromiseCapability)()}get _query(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=G(this._state.query)),this._normalizedQuery}_shouldDirtyMatch(l){if(l.query!==this._state.query)return!0;switch(l.type){case"again":const s=this._selected.pageIdx+1,g=this._linkService;return s>=1&&s<=g.pagesCount&&s!==g.page&&!g.isPageVisible(s);case"highlightallchange":return!1}return!0}_isEntireWord(l,s,g){let c=l.slice(0,s).match(y);if(c){const e=l.charCodeAt(s),o=c[1].charCodeAt(0);if((0,v.getCharacterType)(e)===(0,v.getCharacterType)(o))return!1}if(c=l.slice(s+g).match(P),c){const e=l.charCodeAt(s+g-1),o=c[1].charCodeAt(0);if((0,v.getCharacterType)(e)===(0,v.getCharacterType)(o))return!1}return!0}_calculateRegExpMatch(l,s,g,c){const e=[],o=[],p=this._pageDiffs[g];let M;for(;null!==(M=l.exec(c));){if(s&&!this._isEntireWord(c,M.index,M[0].length))continue;const[A,d]=H(p,M.index,M[0].length);d&&(e.push(A),o.push(d))}this._pageMatches[g]=e,this._pageMatchesLength[g]=o}_convertToRegExpString(l,s){const{matchDiacritics:g}=this._state;let c=!1;const e="[ ]*";return(l=l.replace(r,(o,p,M,A,d,W)=>p?`[ ]*\\${p}[ ]*`:M?`[ ]*${M}[ ]*`:A?"[ ]+":g?d||W:d?u.has(d.charCodeAt(0))?d:"":s?(c=!0,`${W}\\p{M}*`):W)).endsWith(e)&&(l=l.slice(0,l.length-e.length)),g&&s&&(c=!0,l=`${l}(?=[${b}]|[^\\p{M}]|$)`),[c,l]}_calculateMatch(l){let s=this._query;if(0===s.length)return;const{caseSensitive:g,entireWord:c,phraseSearch:e}=this._state,o=this._pageContents[l],p=this._hasDiacritics[l];let M=!1;if(e)[M,s]=this._convertToRegExpString(s,p);else{const W=s.match(/\S+/g);W&&(s=W.sort().reverse().map($=>{const[q,Y]=this._convertToRegExpString($,p);return M||(M=q),`(${Y})`}).join("|"))}s=new RegExp(s,`g${M?"u":""}${g?"":"i"}`),this._calculateRegExpMatch(s,c,l,o),this._state.highlightAll&&this._updatePage(l),this._resumePageIdx===l&&(this._resumePageIdx=null,this._nextPageMatch());const d=this._pageMatches[l].length;d>0&&(this._matchesCountTotal+=d,this._updateUIResultsCount())}_extractText(){if(this._extractTextPromises.length>0)return;let l=Promise.resolve();for(let s=0,g=this._linkService.pagesCount;s<g;s++){const c=(0,L.createPromiseCapability)();this._extractTextPromises[s]=c.promise,l=l.then(()=>this._pdfDocument.getPage(s+1).then(e=>e.getTextContent()).then(e=>{const o=e.items,p=[];for(let M=0,A=o.length;M<A;M++)p.push(o[M].str),o[M].hasEOL&&p.push("\n");[this._pageContents[s],this._pageDiffs[s],this._hasDiacritics[s]]=G(p.join("")),c.resolve(s)},e=>{console.error(`Unable to get text content for page ${s+1}`,e),this._pageContents[s]="",this._pageDiffs[s]=null,this._hasDiacritics[s]=!1,c.resolve(s)}))}}_updatePage(l){this._scrollMatches&&this._selected.pageIdx===l&&(this._linkService.page=l+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:l})}_updateAllPages(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}_nextMatch(){const l=this._state.findPrevious,s=this._linkService.page-1,g=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=s,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(let e=0;e<g;e++)this._pendingFindMatches.has(e)||(this._pendingFindMatches.add(e),this._extractTextPromises[e].then(o=>{this._pendingFindMatches.delete(o),this._calculateMatch(o)}))}if(""===this._query)return void this._updateUIState(C.FOUND);if(this._resumePageIdx)return;const c=this._offset;if(this._pagesToSearch=g,null!==c.matchIdx){const e=this._pageMatches[c.pageIdx].length;if(!l&&c.matchIdx+1<e||l&&c.matchIdx>0)return c.matchIdx=l?c.matchIdx-1:c.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(l)}this._nextPageMatch()}_matchesReady(l){const s=this._offset,g=l.length,c=this._state.findPrevious;return g?(s.matchIdx=c?g-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(c),!!(s.wrapped&&(s.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}_nextPageMatch(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let l=null;do{const s=this._offset.pageIdx;if(l=this._pageMatches[s],!l){this._resumePageIdx=s;break}}while(!this._matchesReady(l))}_advanceOffsetPage(l){const s=this._offset,g=this._linkService.pagesCount;s.pageIdx=l?s.pageIdx-1:s.pageIdx+1,s.matchIdx=null,this._pagesToSearch--,(s.pageIdx>=g||s.pageIdx<0)&&(s.pageIdx=l?g-1:0,s.wrapped=!0)}_updateMatch(l=!1){let s=C.NOT_FOUND;const g=this._offset.wrapped;if(this._offset.wrapped=!1,l){const c=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,s=g?C.WRAPPED:C.FOUND,-1!==c&&c!==this._selected.pageIdx&&this._updatePage(c)}this._updateUIState(s,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}_onFindBarClose(l){const s=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||s&&this._pdfDocument!==s||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this._updateUIState(C.FOUND),this._highlightMatches=!1,this._updateAllPages())})}_requestMatchesCount(){const{pageIdx:l,matchIdx:s}=this._selected;let g=0,c=this._matchesCountTotal;if(-1!==s){for(let e=0;e<l;e++)g+=this._pageMatches[e]?.length||0;g+=s+1}return(g<1||g>c)&&(g=c=0),{current:g,total:c}}_updateUIResultsCount(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}_updateUIState(l,s=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:l,previous:s,matchesCount:this._requestMatchesCount(),rawQuery:this._state?.query??null})}}},(V,m)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.CharacterType=void 0,m.getCharacterType=function h(r){return function T(r){return r<11904}(r)?function L(r){return 0==(65408&r)}(r)?function n(r){return 32===r||9===r||13===r||10===r}(r)?_.SPACE:function v(r){return r>=97&&r<=122||r>=65&&r<=90}(r)||function C(r){return r>=48&&r<=57}(r)||95===r?_.ALPHA_LETTER:_.PUNCT:function b(r){return 3584==(65408&r)}(r)?_.THAI_LETTER:160===r?_.SPACE:_.ALPHA_LETTER:function t(r){return r>=13312&&r<=40959||r>=63744&&r<=64255}(r)?_.HAN_LETTER:function f(r){return r>=12448&&r<=12543}(r)?_.KATAKANA_LETTER:function x(r){return r>=12352&&r<=12447}(r)?_.HIRAGANA_LETTER:function u(r){return r>=65376&&r<=65439}(r)?_.HALFWIDTH_KATAKANA_LETTER:_.ALPHA_LETTER};const _={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};m.CharacterType=_},(V,m,_)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFHistory=void 0,m.isDestArraysEqual=u,m.isDestHashesEqual=x;var T=_(6),L=_(17);function t(){return document.location.hash}function x(b,h){return"string"==typeof b&&"string"==typeof h&&(b===h||(0,T.parseQueryString)(b).get("nameddest")===h)}function u(b,h){function r(y,P){if(typeof y!=typeof P||Array.isArray(y)||Array.isArray(P))return!1;if(null!==y&&"object"==typeof y&&null!==P){if(Object.keys(y).length!==Object.keys(P).length)return!1;for(const N in y)if(!r(y[N],P[N]))return!1;return!0}return y===P||Number.isNaN(y)&&Number.isNaN(P)}if(!Array.isArray(b)||!Array.isArray(h)||b.length!==h.length)return!1;for(let y=0,P=b.length;y<P;y++)if(!r(b[y],h[y]))return!1;return!0}m.PDFHistory=class f{constructor({linkService:h,eventBus:r}){this.linkService=h,this.eventBus=r,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this._isViewerInPresentationMode=!1,this.eventBus._on("presentationmodechanged",y=>{this._isViewerInPresentationMode=y.state!==T.PresentationModeState.NORMAL}),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",y=>{this._isPagesLoaded=!!y.pagesCount},{once:!0})})}initialize({fingerprint:h,resetHistory:r=!1,updateUrl:y=!1}){if(!h||"string"!=typeof h)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const P=""!==this._fingerprint&&this._fingerprint!==h;this._fingerprint=h,this._updateUrl=!0===y,this._initialized=!0,this._bindEvents();const N=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=t(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(N,!0)||r){const{hash:H,page:Q,rotation:S}=this._parseCurrentHash(!0);return!H||P||r?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:H,page:Q,rotation:S},!0)}const G=N.destination;this._updateInternalState(G,N.uid,!0),void 0!==G.rotation&&(this._initialRotation=G.rotation),G.dest?(this._initialBookmark=JSON.stringify(G.dest),this._destination.page=null):G.hash?this._initialBookmark=G.hash:G.page&&(this._initialBookmark=`page=${G.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:h=null,explicitDest:r,pageNumber:y}){if(!this._initialized)return;if(h&&"string"!=typeof h)return void console.error(`PDFHistory.push: "${h}" is not a valid namedDest parameter.`);if(!Array.isArray(r))return void console.error(`PDFHistory.push: "${r}" is not a valid explicitDest parameter.`);if(!this._isValidPage(y)&&(null!==y||this._destination))return void console.error(`PDFHistory.push: "${y}" is not a valid pageNumber parameter.`);const P=h||JSON.stringify(r);if(!P)return;let N=!1;if(this._destination&&(x(this._destination.hash,P)||u(this._destination.dest,r))){if(this._destination.page)return;N=!0}this._popStateInProgress&&!N||(this._pushOrReplaceState({dest:r,hash:P,page:y,rotation:this.linkService.rotation},N),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(h){if(this._initialized){if(!this._isValidPage(h))return void console.error(`PDFHistory.pushPage: "${h}" is not a valid page number.`);this._destination?.page!==h&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${h}`,page:h,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const h=window.history.state;this._isValidState(h)&&h.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const h=window.history.state;this._isValidState(h)&&h.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(h,r=!1){const y=r||!this._destination,P={fingerprint:this._fingerprint,uid:y?this._uid:this._uid+1,destination:h};let N;if(this._updateInternalState(h,P.uid),this._updateUrl&&h?.hash){const G=document.location.href.split("#")[0];G.startsWith("file://")||(N=`${G}#${h.hash}`)}y?window.history.replaceState(P,"",N):window.history.pushState(P,"",N)}_tryPushCurrentPosition(h=!1){if(!this._position)return;let r=this._position;if(h&&(r=Object.assign(Object.create(null),this._position),r.temporary=!0),!this._destination)return void this._pushOrReplaceState(r);if(this._destination.temporary)return void this._pushOrReplaceState(r,!0);if(this._destination.hash===r.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let y=!1;if(this._destination.page>=r.first&&this._destination.page<=r.page){if(void 0!==this._destination.dest||!this._destination.first)return;y=!0}this._pushOrReplaceState(r,y)}_isValidPage(h){return Number.isInteger(h)&&h>0&&h<=this.linkService.pagesCount}_isValidState(h,r=!1){if(!h)return!1;if(h.fingerprint!==this._fingerprint){if(!r)return!1;{if("string"!=typeof h.fingerprint||h.fingerprint.length!==this._fingerprint.length)return!1;const[y]=performance.getEntriesByType("navigation");if("reload"!==y?.type)return!1}}return!(!Number.isInteger(h.uid)||h.uid<0||null===h.destination||"object"!=typeof h.destination)}_updateInternalState(h,r,y=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),y&&h?.temporary&&delete h.temporary,this._destination=h,this._uid=r,this._maxUid=Math.max(this._maxUid,r),this._numPositionUpdates=0}_parseCurrentHash(h=!1){const r=unescape(t()).substring(1),y=(0,T.parseQueryString)(r),P=y.get("nameddest")||"";let N=0|y.get("page");return(!this._isValidPage(N)||h&&P.length>0)&&(N=null),{hash:r,page:N,rotation:this.linkService.rotation}}_updateViewarea({location:h}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?`page=${h.pageNumber}`:h.pdfOpenParams.substring(1),page:this.linkService.page,first:h.pageNumber,rotation:h.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:h}){const r=t(),y=this._currentHash!==r;if(this._currentHash=r,!h){this._uid++;const{hash:N,page:G,rotation:H}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:N,page:G,rotation:H},!0)}if(!this._isValidState(h))return;this._popStateInProgress=!0,y&&(this._blockHashChange++,(0,L.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const P=h.destination;this._updateInternalState(P,h.uid,!0),(0,T.isValidRotation)(P.rotation)&&(this.linkService.rotation=P.rotation),P.dest?this.linkService.goToDestination(P.dest):P.hash?this.linkService.setHash(P.hash):P.page&&(this.linkService.page=P.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(V,m,_)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.PDFScriptingManager=void 0;var T=_(6),L=_(3);m.PDFScriptingManager=class v{constructor({eventBus:n,sandboxBundleSrc:t=null,scriptingFactory:f=null,docPropertiesLookup:x=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=n,this._sandboxBundleSrc=t,this._scriptingFactory=f,this._docPropertiesLookup=x,this._scriptingFactory||window.addEventListener("updatefromsandbox",u=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:u.detail})})}setViewer(n){this._pdfViewer=n}setDocument(n){var t=this;return E(function*(){if(t._pdfDocument&&(yield t._destroyScripting()),t._pdfDocument=n,!n)return;const[f,x,u]=yield Promise.all([n.getFieldObjects(),n.getCalculationOrderIds(),n.getJSActions()]);if(f||u){if(n===t._pdfDocument){try{t._scripting=t._createScripting()}catch(b){return console.error(`PDFScriptingManager.setDocument: "${b?.message}".`),void(yield t._destroyScripting())}t._internalEvents.set("updatefromsandbox",b=>{b?.source===window&&t._updateFromSandbox(b.detail)}),t._internalEvents.set("dispatcheventinsandbox",b=>{t._scripting?.dispatchEventInSandbox(b.detail)}),t._internalEvents.set("pagechanging",({pageNumber:b,previous:h})=>{b!==h&&(t._dispatchPageClose(h),t._dispatchPageOpen(b))}),t._internalEvents.set("pagerendered",({pageNumber:b})=>{!t._pageOpenPending.has(b)||b===t._pdfViewer.currentPageNumber&&t._dispatchPageOpen(b)}),t._internalEvents.set("pagesdestroy",function(){var b=E(function*(h){yield t._dispatchPageClose(t._pdfViewer.currentPageNumber),yield t._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),t._closeCapability?.resolve()});return function(h){return b.apply(this,arguments)}}()),t._domEvents.set("mousedown",b=>{t._mouseState.isDown=!0}),t._domEvents.set("mouseup",b=>{t._mouseState.isDown=!1});for(const[b,h]of t._internalEvents)t._eventBus._on(b,h);for(const[b,h]of t._domEvents)window.addEventListener(b,h);try{const b=yield t._getDocProperties();if(n!==t._pdfDocument)return;yield t._scripting.createSandbox({objects:f,calculationOrder:x,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...b,actions:u}}),t._eventBus.dispatch("sandboxcreated",{source:t})}catch(b){return console.error(`PDFScriptingManager.setDocument: "${b?.message}".`),void(yield t._destroyScripting())}yield t._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield t._dispatchPageOpen(t._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{n===t._pdfDocument&&(t._ready=!0)})}}else yield t._destroyScripting()})()}dispatchWillSave(n){var t=this;return E(function*(){return t._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(n){var t=this;return E(function*(){return t._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(n){var t=this;return E(function*(){return t._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(n){var t=this;return E(function*(){return t._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,L.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,L.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,L.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,L.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(n){var t=this;return E(function*(){const f=t._pdfViewer.isInPresentationMode||t._pdfViewer.isChangingPresentationMode,{id:x,siblings:u,command:b,value:h}=n;if(!x){switch(b){case"clear":console.clear();break;case"error":console.error(h);break;case"layout":if(f)return;const y=(0,T.apiPageLayoutToViewerModes)(h);t._pdfViewer.spreadMode=y.spreadMode;break;case"page-num":t._pdfViewer.currentPageNumber=h+1;break;case"print":yield t._pdfViewer.pagesPromise,t._eventBus.dispatch("print",{source:t});break;case"println":console.log(h);break;case"zoom":if(f)return;t._pdfViewer.currentScaleValue=h;break;case"SaveAs":t._eventBus.dispatch("save",{source:t});break;case"FirstPage":t._pdfViewer.currentPageNumber=1;break;case"LastPage":t._pdfViewer.currentPageNumber=t._pdfViewer.pagesCount;break;case"NextPage":t._pdfViewer.nextPage();break;case"PrevPage":t._pdfViewer.previousPage();break;case"ZoomViewIn":if(f)return;t._pdfViewer.increaseScale();break;case"ZoomViewOut":if(f)return;t._pdfViewer.decreaseScale()}return}if(f&&n.focus)return;delete n.id,delete n.siblings;const r=u?[x,...u]:[x];for(const y of r){const P=document.getElementById(y);P?P.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:n})):t._pdfDocument?.annotationStorage.setValue(y,n)}})()}_dispatchPageOpen(n,t=!1){var f=this;return E(function*(){const x=f._pdfDocument,u=f._visitedPages;if(t&&(f._closeCapability=(0,L.createPromiseCapability)()),!f._closeCapability)return;const b=f._pdfViewer.getPageView(n-1);if(b?.renderingState!==T.RenderingStates.FINISHED)return void f._pageOpenPending.add(n);f._pageOpenPending.delete(n);const h=E(function*(){const r=yield u.has(n)?null:b.pdfPage?.getJSActions();x===f._pdfDocument&&(yield f._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:n,actions:r}))})();u.set(n,h)})()}_dispatchPageClose(n){var t=this;return E(function*(){const f=t._pdfDocument,x=t._visitedPages;if(!t._closeCapability||t._pageOpenPending.has(n))return;const u=x.get(n);!u||(x.set(n,null),yield u,f===t._pdfDocument&&(yield t._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:n})))})()}_getDocProperties(){var n=this;return E(function*(){if(n._docPropertiesLookup)return n._docPropertiesLookup(n._pdfDocument);const{docPropertiesLookup:t}=_(24);return t(n._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,L.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:n}=_(24);return new n(this._sandboxBundleSrc)}_destroyScripting(){var n=this;return E(function*(){if(!n._scripting)return n._pdfDocument=null,void n._destroyCapability?.resolve();n._closeCapability&&(yield Promise.race([n._closeCapability.promise,new Promise(t=>{setTimeout(t,1e3)})]).catch(t=>{}),n._closeCapability=null),n._pdfDocument=null;try{yield n._scripting.destroySandbox()}catch{}for(const[t,f]of n._internalEvents)n._eventBus._off(t,f);n._internalEvents.clear();for(const[t,f]of n._domEvents)window.removeEventListener(t,f);n._domEvents.clear(),n._pageOpenPending.clear(),n._visitedPages.clear(),n._scripting=null,delete n._mouseState.isDown,n._ready=!1,n._destroyCapability?.resolve()})()}}},(V,m,_)=>{Object.defineProperty(m,"__esModule",{value:!0}),m.GenericScripting=void 0,m.docPropertiesLookup=function L(n){return v.apply(this,arguments)};var T=_(3);function v(){return(v=E(function*(n){const f="".split("#")[0];let{info:x,metadata:u,contentDispositionFilename:b,contentLength:h}=yield n.getMetadata();if(!h){const{length:r}=yield n.getDownloadInfo();h=r}return{...x,baseURL:f,filesize:h,filename:b||(0,T.getPdfFilenameFromUrl)(""),metadata:u?.getRaw(),authors:u?.get("dc:creator"),numPages:n.numPages,URL:""}})).apply(this,arguments)}m.GenericScripting=class C{constructor(t){this._ready=(0,T.loadScript)(t,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(t){var f=this;return E(function*(){(yield f._ready).create(t)})()}dispatchEventInSandbox(t){var f=this;return E(function*(){const x=yield f._ready;setTimeout(()=>x.dispatchEvent(t),0)})()}destroySandbox(){var t=this;return E(function*(){(yield t._ready).nukeSandbox()})()}}}],I={};function B(V){var m=I[V];if(void 0!==m)return m.exports;var _=I[V]={exports:{}};return U[V](_,_.exports,B),_.exports}var O={};return(()=>{var V=O;Object.defineProperty(V,"__esModule",{value:!0}),Object.defineProperty(V,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return v.AnnotationLayerBuilder}}),Object.defineProperty(V,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return m.DefaultAnnotationLayerFactory}}),Object.defineProperty(V,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return m.DefaultStructTreeLayerFactory}}),Object.defineProperty(V,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return m.DefaultTextLayerFactory}}),Object.defineProperty(V,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return m.DefaultXfaLayerFactory}}),Object.defineProperty(V,"DownloadManager",{enumerable:!0,get:function(){return C.DownloadManager}}),Object.defineProperty(V,"EventBus",{enumerable:!0,get:function(){return n.EventBus}}),Object.defineProperty(V,"GenericL10n",{enumerable:!0,get:function(){return t.GenericL10n}}),Object.defineProperty(V,"LinkTarget",{enumerable:!0,get:function(){return _.LinkTarget}}),Object.defineProperty(V,"NullL10n",{enumerable:!0,get:function(){return f.NullL10n}}),Object.defineProperty(V,"PDFFindController",{enumerable:!0,get:function(){return x.PDFFindController}}),Object.defineProperty(V,"PDFHistory",{enumerable:!0,get:function(){return u.PDFHistory}}),Object.defineProperty(V,"PDFLinkService",{enumerable:!0,get:function(){return _.PDFLinkService}}),Object.defineProperty(V,"PDFPageView",{enumerable:!0,get:function(){return b.PDFPageView}}),Object.defineProperty(V,"PDFScriptingManager",{enumerable:!0,get:function(){return h.PDFScriptingManager}}),Object.defineProperty(V,"PDFSinglePageViewer",{enumerable:!0,get:function(){return L.PDFSinglePageViewer}}),Object.defineProperty(V,"PDFViewer",{enumerable:!0,get:function(){return L.PDFViewer}}),Object.defineProperty(V,"ProgressBar",{enumerable:!0,get:function(){return T.ProgressBar}}),Object.defineProperty(V,"SimpleLinkService",{enumerable:!0,get:function(){return _.SimpleLinkService}}),Object.defineProperty(V,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return r.StructTreeLayerBuilder}}),Object.defineProperty(V,"TextLayerBuilder",{enumerable:!0,get:function(){return y.TextLayerBuilder}}),Object.defineProperty(V,"XfaLayerBuilder",{enumerable:!0,get:function(){return P.XfaLayerBuilder}}),Object.defineProperty(V,"parseQueryString",{enumerable:!0,get:function(){return T.parseQueryString}});var m=B(1),_=B(5),T=B(6),L=B(10),v=B(2),C=B(16),n=B(17),t=B(18),f=B(4),x=B(20),u=B(22),b=B(12),h=B(23),r=B(7),y=B(8),P=B(9)})(),O})()},8372:(X,a,k)=>{"use strict";k.d(a,{b:()=>K});var i=k(4986),R=k(4482),D=k(5403);function K(j,F=i.z){return(0,R.e)((E,U)=>{let I=null,B=null,O=null;const V=()=>{if(I){I.unsubscribe(),I=null;const _=B;B=null,U.next(_)}};function m(){const _=O+j,T=F.now();if(T<_)return I=this.schedule(void 0,_-T),void U.add(I);V()}E.subscribe((0,D.x)(U,_=>{B=_,O=F.now(),I||(I=F.schedule(m,j),U.add(I))},()=>{V(),U.complete()},void 0,()=>{B=I=null}))})}},8926:X=>{function a(i,R,D,K,j,F,E){try{var U=i[F](E),I=U.value}catch(B){return void D(B)}U.done?R(I):Promise.resolve(I).then(K,j)}X.exports=function k(i){return function(){var R=this,D=arguments;return new Promise(function(K,j){var F=i.apply(R,D);function E(I){a(F,K,j,E,U,"next",I)}function U(I){a(F,K,j,E,U,"throw",I)}E(void 0)})}},X.exports.__esModule=!0,X.exports.default=X.exports},6869:X=>{X.exports=function a(k,i){if(i.has(k))throw new TypeError("Cannot initialize the same private elements twice on an object")},X.exports.__esModule=!0,X.exports.default=X.exports},6358:X=>{X.exports=function a(k,i){return i.get?i.get.call(k):i.value},X.exports.__esModule=!0,X.exports.default=X.exports},8625:X=>{X.exports=function a(k,i,R){if(i.set)i.set.call(k,R);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=R}},X.exports.__esModule=!0,X.exports.default=X.exports},4094:X=>{X.exports=function a(k,i){if(k!==i)throw new TypeError("Private static access of wrong provenance")},X.exports.__esModule=!0,X.exports.default=X.exports},3486:X=>{X.exports=function a(k,i,R){if(!i.has(k))throw new TypeError("attempted to "+R+" private field on non-instance");return i.get(k)},X.exports.__esModule=!0,X.exports.default=X.exports},1226:(X,a,k)=>{var i=k(6358),R=k(3486);X.exports=function D(K,j){var F=R(K,j,"get");return i(K,F)},X.exports.__esModule=!0,X.exports.default=X.exports},3606:(X,a,k)=>{var i=k(6869);X.exports=function R(D,K,j){i(D,K),K.set(D,j)},X.exports.__esModule=!0,X.exports.default=X.exports},5962:(X,a,k)=>{var i=k(8625),R=k(3486);X.exports=function D(K,j,F){var E=R(K,j,"set");return i(K,E,F),F},X.exports.__esModule=!0,X.exports.default=X.exports},4877:X=>{X.exports=function a(k,i,R){if(!i.has(k))throw new TypeError("attempted to get private field on non-instance");return R},X.exports.__esModule=!0,X.exports.default=X.exports},3448:(X,a,k)=>{var i=k(6869);X.exports=function R(D,K){i(D,K),K.add(D)},X.exports.__esModule=!0,X.exports.default=X.exports},9393:(X,a,k)=>{var i=k(4094);X.exports=function R(D,K,j){return i(D,K),j},X.exports.__esModule=!0,X.exports.default=X.exports},9713:X=>{X.exports=function a(k,i,R){return i in k?Object.defineProperty(k,i,{value:R,enumerable:!0,configurable:!0,writable:!0}):k[i]=R,k},X.exports.__esModule=!0,X.exports.default=X.exports},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},5014:(X,a,k)=>{"use strict";k.d(a,{rQ:()=>x,xC:()=>u});var i=k(8274),R=k(4968),D=k(7579),K=k(8996),j=k(4482),F=k(5403),E=k(8421),U=k(5032);function I(b){return(0,j.e)((h,r)=>{(0,E.Xf)(b).subscribe((0,F.x)(r,()=>r.complete(),U.Z)),!r.closed&&h.subscribe(r)})}var B=k(8372),O=k(9300),V=k(6036),m=k.t(V,2),_=k(2813),T=k.t(_,2);const L=["pdfViewerContainer"];function v(b,h){const r=new b.EventBus;return function C(b,h){(0,R.R)(b,"documentload").pipe(I(h)).subscribe(()=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(r)}),(0,R.R)(b,"pagerendered").pipe(I(h)).subscribe(({pageNumber:r,cssTransform:y,source:P})=>{const N=document.createEvent("CustomEvent");N.initCustomEvent("pagerendered",!0,!0,{pageNumber:r,cssTransform:y}),P.div.dispatchEvent(N)}),(0,R.R)(b,"textlayerrendered").pipe(I(h)).subscribe(({pageNumber:r,source:y})=>{const P=document.createEvent("CustomEvent");P.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:r}),y.textLayerDiv.dispatchEvent(P)}),(0,R.R)(b,"pagechanging").pipe(I(h)).subscribe(({pageNumber:r,source:y})=>{const P=document.createEvent("UIEvents");P.initEvent("pagechanging",!0,!0),P.pageNumber=r,y.container.dispatchEvent(P)}),(0,R.R)(b,"pagesinit").pipe(I(h)).subscribe(({source:r})=>{const y=document.createEvent("CustomEvent");y.initCustomEvent("pagesinit",!0,!0,null),r.container.dispatchEvent(y)}),(0,R.R)(b,"pagesloaded").pipe(I(h)).subscribe(({pagesCount:r,source:y})=>{const P=document.createEvent("CustomEvent");P.initCustomEvent("pagesloaded",!0,!0,{pagesCount:r}),y.container.dispatchEvent(P)}),(0,R.R)(b,"scalechange").pipe(I(h)).subscribe(({scale:r,presetValue:y,source:P})=>{const N=document.createEvent("UIEvents");N.initEvent("scalechange",!0,!0),N.scale=r,N.presetValue=y,P.container.dispatchEvent(N)}),(0,R.R)(b,"updateviewarea").pipe(I(h)).subscribe(({location:r,source:y})=>{const P=document.createEvent("UIEvents");P.initEvent("updateviewarea",!0,!0),P.location=r,y.container.dispatchEvent(P)}),(0,R.R)(b,"find").pipe(I(h)).subscribe(({source:r,type:y,query:P,phraseSearch:N,caseSensitive:G,highlightAll:H,findPrevious:Q})=>{if(r===window)return;const S=document.createEvent("CustomEvent");S.initCustomEvent("find"+y,!0,!0,{query:P,phraseSearch:N,caseSensitive:G,highlightAll:H,findPrevious:Q}),window.dispatchEvent(S)}),(0,R.R)(b,"attachmentsloaded").pipe(I(h)).subscribe(({attachmentsCount:r,source:y})=>{const P=document.createEvent("CustomEvent");P.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:r}),y.container.dispatchEvent(P)}),(0,R.R)(b,"sidebarviewchanged").pipe(I(h)).subscribe(({view:r,source:y})=>{const P=document.createEvent("CustomEvent");P.initCustomEvent("sidebarviewchanged",!0,!0,{view:r}),y.outerContainer.dispatchEvent(P)}),(0,R.R)(b,"pagemode").pipe(I(h)).subscribe(({mode:r,source:y})=>{const P=document.createEvent("CustomEvent");P.initCustomEvent("pagemode",!0,!0,{mode:r}),y.pdfViewer.container.dispatchEvent(P)}),(0,R.R)(b,"namedaction").pipe(I(h)).subscribe(({action:r,source:y})=>{const P=document.createEvent("CustomEvent");P.initCustomEvent("namedaction",!0,!0,{action:r}),y.pdfViewer.container.dispatchEvent(P)}),(0,R.R)(b,"presentationmodechanged").pipe(I(h)).subscribe(({active:r,switchInProgress:y})=>{const P=document.createEvent("CustomEvent");P.initCustomEvent("presentationmodechanged",!0,!0,{active:r,switchInProgress:y}),window.dispatchEvent(P)}),(0,R.R)(b,"outlineloaded").pipe(I(h)).subscribe(({outlineCount:r,source:y})=>{const P=document.createEvent("CustomEvent");P.initCustomEvent("outlineloaded",!0,!0,{outlineCount:r}),y.container.dispatchEvent(P)})}(r,h),r}function n(b,h,r){b[h]=r}function t(){return typeof window>"u"}t()||n(m,"verbosity",V.VerbosityLevel.INFOS);var f=(()=>{return(b=f||(f={}))[b.DISABLED=0]="DISABLED",b[b.ENABLED=1]="ENABLED",b[b.ENHANCED=2]="ENHANCED",f;var b})();let x=(()=>{class b{constructor(r,y){if(this.element=r,this.ngZone=y,this.isVisible=!1,this._cMapsUrl=typeof m<"u"?`https://unpkg.com/pdfjs-dist@${V.version}/cmaps/`:null,this._renderText=!0,this._renderTextMode=f.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new D.x,this.afterLoadComplete=new i.vpe,this.pageRendered=new i.vpe,this.pageInitialized=new i.vpe,this.textLayerRendered=new i.vpe,this.onError=new i.vpe,this.onProgress=new i.vpe,this.pageChange=new i.vpe(!0),t())return;let P;P=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${V.version}/legacy/build/pdf.worker.min.js`,n(V.GlobalWorkerOptions,"workerSrc",P)}set cMapsUrl(r){this._cMapsUrl=r}set page(r){const y=r=parseInt(r,10)||1;this._pdf&&(r=this.getValidPageNumber(r)),this._page=r,y!==r&&this.pageChange.emit(r)}set renderText(r){this._renderText=r}set renderTextMode(r){this._renderTextMode=r}set originalSize(r){this._originalSize=r}set showAll(r){this._showAll=r}set stickToPage(r){this._stickToPage=r}set zoom(r){r<=0||(this._zoom=r)}get zoom(){return this._zoom}set zoomScale(r){this._zoomScale=r}get zoomScale(){return this._zoomScale}set rotation(r){"number"==typeof r&&r%90==0?this._rotation=r:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(r){this._externalLinkTarget=r}set autoresize(r){this._canAutoResize=Boolean(r)}set fitToPage(r){this._fitToPage=Boolean(r)}set showBorders(r){this._showBorders=Boolean(r)}static getLinkTarget(r){switch(r){case"blank":return _.LinkTarget.BLANK;case"none":return _.LinkTarget.NONE;case"self":return _.LinkTarget.SELF;case"parent":return _.LinkTarget.PARENT;case"top":return _.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const r=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=r?!1===this.isVisible&&null!=r&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}get pdfLinkService(){return this._showAll?this.pdfMultiPageLinkService:this.pdfSinglePageLinkService}get pdfViewer(){return this.getCurrentViewer()}get pdfFindController(){return this._showAll?this.pdfMultiPageFindController:this.pdfSinglePageFindController}ngOnChanges(r){if(!t()&&this.isVisible)if("src"in r)this.loadPDF();else if(this._pdf){if("renderText"in r?(this.getCurrentViewer().textLayerMode=this._renderText?this._renderTextMode:f.DISABLED,this.resetPdfDocument()):"showAll"in r&&this.resetPdfDocument(),"page"in r){const{page:y}=r;if(y.currentValue===this._latestScrolledPage)return;this.getCurrentViewer().scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){const r=this.getCurrentViewer();(0,K.D)(this._pdf.getPage(r.currentPageNumber)).pipe(I(this.destroy$)).subscribe({next:y=>{const P=this._rotation||y.rotate,N=y.getViewport({scale:this._zoom,rotation:P}).width*b.CSS_UNITS;let G=this._zoom,H=!0;if(!this._originalSize||this._fitToPage&&N>this.pdfViewerContainer.nativeElement.clientWidth){const Q=y.getViewport({scale:1,rotation:P});G=this.getScale(Q.width,Q.height),H=!this._stickToPage}r._setScale(G,H)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._pdf.destroy(),this._pdf=null,this.pdfMultiPageViewer.setDocument(null),this.pdfSinglePageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null,null),this.pdfSinglePageLinkService.setDocument(null,null),this.pdfMultiPageFindController.setDocument(null),this.pdfSinglePageFindController.setDocument(null))}getPDFLinkServiceConfig(){const r={},y=b.getLinkTarget(this._externalLinkTarget);return y&&(r.externalLinkTarget=y),r}setupMultiPageViewer(){n(m,"disableTextLayer",!this._renderText);const r=v(T,this.destroy$);(0,R.R)(r,"pagerendered").pipe(I(this.destroy$)).subscribe(P=>{this.pageRendered.emit(P)}),(0,R.R)(r,"pagesinit").pipe(I(this.destroy$)).subscribe(P=>{this.pageInitialized.emit(P)}),(0,R.R)(r,"pagechanging").pipe(I(this.destroy$)).subscribe(({pageNumber:P})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=P,this.pageChange.emit(P)},100)}),(0,R.R)(r,"textlayerrendered").pipe(I(this.destroy$)).subscribe(P=>{this.textLayerRendered.emit(P)}),this.pdfMultiPageLinkService=new _.PDFLinkService({eventBus:r,...this.getPDFLinkServiceConfig()}),this.pdfMultiPageFindController=new _.PDFFindController({linkService:this.pdfMultiPageLinkService,eventBus:r});const y={eventBus:r,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfMultiPageLinkService,textLayerMode:this._renderText?this._renderTextMode:f.DISABLED,findController:this.pdfMultiPageFindController,renderer:"canvas",l10n:void 0};this.pdfMultiPageViewer=new _.PDFViewer(y),this.pdfMultiPageLinkService.setViewer(this.pdfMultiPageViewer),this.pdfMultiPageFindController.setDocument(this._pdf)}setupSinglePageViewer(){n(m,"disableTextLayer",!this._renderText);const r=v(T,this.destroy$);(0,R.R)(r,"pagechanging").pipe(I(this.destroy$)).subscribe(({pageNumber:P})=>{P!==this._page&&(this.page=P)}),(0,R.R)(r,"pagerendered").pipe(I(this.destroy$)).subscribe(P=>{this.pageRendered.emit(P)}),(0,R.R)(r,"pagesinit").pipe(I(this.destroy$)).subscribe(P=>{this.pageInitialized.emit(P)}),(0,R.R)(r,"textlayerrendered").pipe(I(this.destroy$)).subscribe(P=>{this.textLayerRendered.emit(P)}),this.pdfSinglePageLinkService=new _.PDFLinkService({eventBus:r,...this.getPDFLinkServiceConfig()}),this.pdfSinglePageFindController=new _.PDFFindController({linkService:this.pdfSinglePageLinkService,eventBus:r});const y={eventBus:r,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfSinglePageLinkService,textLayerMode:this._renderText?this._renderTextMode:f.DISABLED,findController:this.pdfSinglePageFindController,renderer:"canvas",l10n:void 0};this.pdfSinglePageViewer=new _.PDFSinglePageViewer(y),this.pdfSinglePageLinkService.setViewer(this.pdfSinglePageViewer),this.pdfSinglePageFindController.setDocument(this._pdf),this.pdfSinglePageViewer._currentPageNumber=this._page}getValidPageNumber(r){return r<1?1:r>this._pdf.numPages?this._pdf.numPages:r}getDocumentParams(){const r=typeof this.src;if(!this._cMapsUrl)return this.src;const y={cMapUrl:this._cMapsUrl,cMapPacked:!0};return"string"===r?y.url=this.src:"object"===r&&(void 0!==this.src.byteLength?y.data=this.src:Object.assign(y,this.src)),y}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.loadingTask=V.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=y=>{this.onProgress.emit(y)};const r=this.src;(0,K.D)(this.loadingTask.promise).pipe(I(this.destroy$)).subscribe({next:y=>{this._pdf=y,this.lastLoaded=r,this.afterLoadComplete.emit(y),this.pdfMultiPageViewer||(this.setupMultiPageViewer(),this.setupSinglePageViewer()),this.resetPdfDocument(),this.update()},error:y=>{this.lastLoaded=null,this.onError.emit(y)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page);const r=this.getCurrentViewer();(0!==this._rotation||r.pagesRotation!==this._rotation)&&setTimeout(()=>{r.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{r.currentPageNumber=this._page}),this.updateSize()}getScale(r,y){const P=this._showBorders?2*b.BORDER_WIDTH:0,N=this.pdfViewerContainer.nativeElement.clientWidth-P,G=this.pdfViewerContainer.nativeElement.clientHeight-P;if(0===G||0===y||0===N||0===r)return 1;let H=1;switch(this._zoomScale){case"page-fit":H=Math.min(G/y,N/r);break;case"page-height":H=G/y;break;default:H=N/r}return this._zoom*H/b.CSS_UNITS}getCurrentViewer(){return this._showAll?this.pdfMultiPageViewer:this.pdfSinglePageViewer}resetPdfDocument(){this.pdfFindController.setDocument(this._pdf),this._showAll?(this.pdfSinglePageViewer.setDocument(null),this.pdfSinglePageLinkService.setDocument(null),this.pdfMultiPageViewer.setDocument(this._pdf),this.pdfMultiPageLinkService.setDocument(this._pdf,null)):(this.pdfMultiPageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null),this.pdfSinglePageViewer.setDocument(this._pdf),this.pdfSinglePageLinkService.setDocument(this._pdf,null))}initialize(){t()||!this.isVisible||(this.isInitialized=!0,this.setupMultiPageViewer(),this.setupSinglePageViewer())}setupResizeListener(){t()||this.ngZone.runOutsideAngular(()=>{(0,R.R)(window,"resize").pipe((0,B.b)(100),(0,O.h)(()=>this._canAutoResize&&!!this._pdf),I(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return b.CSS_UNITS=96/72,b.BORDER_WIDTH=9,b.\u0275fac=function(r){return new(r||b)(i.Y36(i.SBq),i.Y36(i.R0b))},b.\u0275cmp=i.Xpm({type:b,selectors:[["pdf-viewer"]],viewQuery:function(r,y){if(1&r&&i.Gf(L,5),2&r){let P;i.iGM(P=i.CRH())&&(y.pdfViewerContainer=P.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[i.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(r,y){1&r&&(i.TgZ(0,"div",0,1),i._UZ(2,"div",2),i.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=)}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),b})(),u=(()=>{class b{}return b.\u0275fac=function(r){return new(r||b)},b.\u0275mod=i.oAB({type:b}),b.\u0275inj=i.cJS({}),b})()}}]);