"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8592],{4850:(D,T,c)=>{c.d(T,{c:()=>u});var o=c(7205),r=c(7683),a=c(3139);const u=(n,i)=>{let e,t;const s=(g,E,w)=>{if(typeof document>"u")return;const _=document.elementFromPoint(g,E);_&&i(_)?_!==e&&(p(),l(_,w)):p()},l=(g,E)=>{e=g,t||(t=e);const w=e;(0,o.c)(()=>w.classList.add("ion-activated")),E()},p=(g=!1)=>{if(!e)return;const E=e;(0,o.c)(()=>E.classList.remove("ion-activated")),g&&t!==e&&e.click(),e=void 0};return(0,a.createGesture)({el:n,gestureName:"buttonActiveDrag",threshold:0,onStart:g=>s(g.currentX,g.currentY,r.a),onMove:g=>s(g.currentX,g.currentY,r.b),onEnd:()=>{p(!0),(0,r.h)(),t=void 0}})}},8685:(D,T,c)=>{c.d(T,{g:()=>o});const o=(i,e,t,s,l)=>a(i[1],e[1],t[1],s[1],l).map(p=>r(i[0],e[0],t[0],s[0],p)),r=(i,e,t,s,l)=>l*(3*e*Math.pow(l-1,2)+l*(-3*t*l+3*t+s*l))-i*Math.pow(l-1,3),a=(i,e,t,s,l)=>n((s-=l)-3*(t-=l)+3*(e-=l)-(i-=l),3*t-6*e+3*i,3*e-3*i,i).filter(g=>g>=0&&g<=1),n=(i,e,t,s)=>{if(0===i)return((i,e,t)=>{const s=e*e-4*i*t;return s<0?[]:[(-e+Math.sqrt(s))/(2*i),(-e-Math.sqrt(s))/(2*i)]})(e,t,s);const l=(3*(t/=i)-(e/=i)*e)/3,p=(2*e*e*e-9*e*t+27*(s/=i))/27;if(0===l)return[Math.pow(-p,1/3)];if(0===p)return[Math.sqrt(-l),-Math.sqrt(-l)];const g=Math.pow(p/2,2)+Math.pow(l/3,3);if(0===g)return[Math.pow(p/2,.5)-e/3];if(g>0)return[Math.pow(-p/2+Math.sqrt(g),1/3)-Math.pow(p/2+Math.sqrt(g),1/3)-e/3];const E=Math.sqrt(Math.pow(-l/3,3)),w=Math.acos(-p/(2*Math.sqrt(Math.pow(-l/3,3)))),_=2*Math.pow(E,1/3);return[_*Math.cos(w/3)-e/3,_*Math.cos((w+2*Math.PI)/3)-e/3,_*Math.cos((w+4*Math.PI)/3)-e/3]}},5062:(D,T,c)=>{c.d(T,{i:()=>o});const o=r=>r&&""!==r.dir?"rtl"===r.dir.toLowerCase():"rtl"===document?.dir.toLowerCase()},1112:(D,T,c)=>{c.r(T),c.d(T,{startFocusVisible:()=>u});const o="ion-focused",a=["Tab","ArrowDown","Space","Escape"," ","Shift","Enter","ArrowLeft","ArrowRight","ArrowUp","Home","End"],u=n=>{let i=[],e=!0;const t=n?n.shadowRoot:document,s=n||document.body,l=y=>{i.forEach(h=>h.classList.remove(o)),y.forEach(h=>h.classList.add(o)),i=y},p=()=>{e=!1,l([])},g=y=>{e=a.includes(y.key),e||l([])},E=y=>{if(e&&y.composedPath){const h=y.composedPath().filter(f=>!!f.classList&&f.classList.contains("ion-focusable"));l(h)}},w=()=>{t.activeElement===s&&l([])};return t.addEventListener("keydown",g),t.addEventListener("focusin",E),t.addEventListener("focusout",w),t.addEventListener("touchstart",p),t.addEventListener("mousedown",p),{destroy:()=>{t.removeEventListener("keydown",g),t.removeEventListener("focusin",E),t.removeEventListener("focusout",w),t.removeEventListener("touchstart",p),t.removeEventListener("mousedown",p)},setFocus:l}}},1878:(D,T,c)=>{c.d(T,{C:()=>n,a:()=>a,d:()=>u});var o=c(5861),r=c(3756);const a=function(){var i=(0,o.Z)(function*(e,t,s,l,p,g){var E;if(e)return e.attachViewToDom(t,s,p,l);if(!(g||"string"==typeof s||s instanceof HTMLElement))throw new Error("framework delegate is missing");const w="string"==typeof s?null===(E=t.ownerDocument)||void 0===E?void 0:E.createElement(s):s;return l&&l.forEach(_=>w.classList.add(_)),p&&Object.assign(w,p),t.appendChild(w),yield new Promise(_=>(0,r.c)(w,_)),w});return function(t,s,l,p,g,E){return i.apply(this,arguments)}}(),u=(i,e)=>{if(e){if(i)return i.removeViewFromDom(e.parentElement,e);e.remove()}return Promise.resolve()},n=()=>{let i,e;return{attachViewToDom:function(){var l=(0,o.Z)(function*(p,g,E={},w=[]){var _,y;if(i=p,g){const f="string"==typeof g?null===(_=i.ownerDocument)||void 0===_?void 0:_.createElement(g):g;w.forEach(d=>f.classList.add(d)),Object.assign(f,E),i.appendChild(f),yield new Promise(d=>(0,r.c)(f,d))}else if(i.children.length>0){const f=null===(y=i.ownerDocument)||void 0===y?void 0:y.createElement("div");w.forEach(d=>f.classList.add(d)),f.append(...i.children),i.appendChild(f)}const h=document.querySelector("ion-app")||document.body;return e=document.createComment("ionic teleport"),i.parentNode.insertBefore(e,i),h.appendChild(i),i});return function(g,E){return l.apply(this,arguments)}}(),removeViewFromDom:()=>(i&&e&&(e.parentNode.insertBefore(i,e),e.remove()),Promise.resolve())}}},7683:(D,T,c)=>{c.d(T,{a:()=>a,b:()=>u,c:()=>r,d:()=>i,h:()=>n});const o={getEngine(){var e;const t=window;return t.TapticEngine||(null===(e=t.Capacitor)||void 0===e?void 0:e.isPluginAvailable("Haptics"))&&t.Capacitor.Plugins.Haptics},available(){return!!this.getEngine()},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact(e){const t=this.getEngine();if(!t)return;const s=this.isCapacitor()?e.style.toUpperCase():e.style;t.impact({style:s})},notification(e){const t=this.getEngine();if(!t)return;const s=this.isCapacitor()?e.style.toUpperCase():e.style;t.notification({style:s})},selection(){this.impact({style:"light"})},selectionStart(){const e=this.getEngine();!e||(this.isCapacitor()?e.selectionStart():e.gestureSelectionStart())},selectionChanged(){const e=this.getEngine();!e||(this.isCapacitor()?e.selectionChanged():e.gestureSelectionChanged())},selectionEnd(){const e=this.getEngine();!e||(this.isCapacitor()?e.selectionEnd():e.gestureSelectionEnd())}},r=()=>{o.selection()},a=()=>{o.selectionStart()},u=()=>{o.selectionChanged()},n=()=>{o.selectionEnd()},i=e=>{o.impact(e)}},6465:(D,T,c)=>{c.d(T,{I:()=>n,a:()=>l,b:()=>i,c:()=>E,d:()=>_,f:()=>p,g:()=>s,i:()=>t,p:()=>w,r:()=>y,s:()=>g});var o=c(5861),r=c(3756),a=c(7208);const n="ion-content",i=".ion-content-scroll-host",e=`${n}, ${i}`,t=h=>h&&"ION-CONTENT"===h.tagName,s=function(){var h=(0,o.Z)(function*(f){return t(f)?(yield new Promise(d=>(0,r.c)(f,d)),f.getScrollElement()):f});return function(d){return h.apply(this,arguments)}}(),l=h=>h.querySelector(i)||h.querySelector(e),p=h=>h.closest(e),g=(h,f)=>t(h)?h.scrollToTop(f):Promise.resolve(h.scrollTo({top:0,left:0,behavior:f>0?"smooth":"auto"})),E=(h,f,d,A)=>t(h)?h.scrollByPoint(f,d,A):Promise.resolve(h.scrollBy({top:d,left:f,behavior:A>0?"smooth":"auto"})),w=h=>(0,a.a)(h,n),_=h=>{if(t(h)){const d=h.scrollY;return h.scrollY=!1,d}return h.style.setProperty("overflow","hidden"),!0},y=(h,f)=>{t(h)?h.scrollY=f:h.style.removeProperty("overflow")}},7208:(D,T,c)=>{c.d(T,{a:()=>a,b:()=>r,p:()=>o});const o=u=>console.warn(`[Ionic Warning]: ${u}`),r=(u,...n)=>console.error(`[Ionic Error]: ${u}`,...n),a=(u,...n)=>console.error(`<${u.tagName.toLowerCase()}> must be used inside ${n.join(" or ")}.`)},3230:(D,T,c)=>{c.d(T,{a:()=>o,b:()=>p,c:()=>i,d:()=>g,e:()=>d,f:()=>a,g:()=>r,h:()=>h,i:()=>e,j:()=>s,k:()=>E,l:()=>t,m:()=>n,n:()=>u,o:()=>l,p:()=>w,q:()=>_,r:()=>y,s:()=>f});const o="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Arrow Back</title><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>",r="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Arrow Down</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 268l144 144 144-144M256 392V100' class='ionicon-fill-none'/></svg>",a="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Back</title><path d='M368 64L144 256l224 192V64z'/></svg>",u="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Down</title><path d='M64 144l192 224 192-224H64z'/></svg>",n="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Up</title><path d='M448 368L256 144 64 368h384z'/></svg>",i="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Back</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",e="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Down</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 184l144 144 144-144' class='ionicon-fill-none'/></svg>",t="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Forward</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",s="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Forward</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",l="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close</title><path d='M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z'/></svg>",p="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close Circle</title><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z'/></svg>",g="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close</title><path d='M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z'/></svg>",E="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Ellipsis Horizontal</title><circle cx='256' cy='256' r='48'/><circle cx='416' cy='256' r='48'/><circle cx='96' cy='256' r='48'/></svg>",w="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Menu</title><path stroke-linecap='round' stroke-miterlimit='10' d='M80 160h352M80 256h352M80 352h352' class='ionicon-fill-none ionicon-stroke-width'/></svg>",_="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Menu</title><path d='M64 384h384v-42.67H64zm0-106.67h384v-42.66H64zM64 128v42.67h384V128z'/></svg>",y="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Reorder Three</title><path stroke-linecap='round' stroke-linejoin='round' d='M96 256h320M96 176h320M96 336h320' class='ionicon-fill-none ionicon-stroke-width'/></svg>",h="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Reorder Two</title><path stroke-linecap='square' stroke-linejoin='round' stroke-width='44' d='M118 304h276M118 208h276' class='ionicon-fill-none'/></svg>",f="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Search</title><path d='M221.09 64a157.09 157.09 0 10157.09 157.09A157.1 157.1 0 00221.09 64z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M338.29 338.29L448 448' class='ionicon-fill-none ionicon-stroke-width'/></svg>",d="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Search</title><path d='M464 428L339.92 303.9a160.48 160.48 0 0030.72-94.58C370.64 120.37 298.27 48 209.32 48S48 120.37 48 209.32s72.37 161.32 161.32 161.32a160.48 160.48 0 0094.58-30.72L428 464zM209.32 319.69a110.38 110.38 0 11110.37-110.37 110.5 110.5 0 01-110.37 110.37z'/></svg>"},8439:(D,T,c)=>{c.d(T,{s:()=>o});const o=t=>{try{if(t instanceof class e{constructor(s){this.value=s}})return t.value;if(!u()||"string"!=typeof t||""===t)return t;const s=document.createDocumentFragment(),l=document.createElement("div");s.appendChild(l),l.innerHTML=t,i.forEach(w=>{const _=s.querySelectorAll(w);for(let y=_.length-1;y>=0;y--){const h=_[y];h.parentNode?h.parentNode.removeChild(h):s.removeChild(h);const f=a(h);for(let d=0;d<f.length;d++)r(f[d])}});const p=a(s);for(let w=0;w<p.length;w++)r(p[w]);const g=document.createElement("div");g.appendChild(s);const E=g.querySelector("div");return null!==E?E.innerHTML:g.innerHTML}catch(s){return console.error(s),""}},r=t=>{if(t.nodeType&&1!==t.nodeType)return;for(let l=t.attributes.length-1;l>=0;l--){const p=t.attributes.item(l),g=p.name;if(!n.includes(g.toLowerCase())){t.removeAttribute(g);continue}const E=p.value;null!=E&&E.toLowerCase().includes("javascript:")&&t.removeAttribute(g)}const s=a(t);for(let l=0;l<s.length;l++)r(s[l])},a=t=>null!=t.children?t.children:t.childNodes,u=()=>{var t;const l=null===(t=window?.Ionic)||void 0===t?void 0:t.config;return!l||(l.get?l.get("sanitizerEnabled",!0):!0===l.sanitizerEnabled||void 0===l.sanitizerEnabled)},n=["class","id","href","src","name","slot"],i=["script","style","iframe","meta","link","object","embed"]},1316:(D,T,c)=>{c.r(T),c.d(T,{KEYBOARD_DID_CLOSE:()=>r,KEYBOARD_DID_OPEN:()=>o,copyVisualViewport:()=>f,keyboardDidClose:()=>w,keyboardDidOpen:()=>g,keyboardDidResize:()=>E,resetKeyboardAssist:()=>e,setKeyboardClose:()=>p,setKeyboardOpen:()=>l,startKeyboardAssist:()=>t,trackViewportChanges:()=>h});const o="ionKeyboardDidShow",r="ionKeyboardDidHide";let u={},n={},i=!1;const e=()=>{u={},n={},i=!1},t=d=>{s(d),d.visualViewport&&(n=f(d.visualViewport),d.visualViewport.onresize=()=>{h(d),g()||E(d)?l(d):w(d)&&p(d)})},s=d=>{d.addEventListener("keyboardDidShow",A=>l(d,A)),d.addEventListener("keyboardDidHide",()=>p(d))},l=(d,A)=>{_(d,A),i=!0},p=d=>{y(d),i=!1},g=()=>!i&&u.width===n.width&&(u.height-n.height)*n.scale>150,E=d=>i&&!w(d),w=d=>i&&n.height===d.innerHeight,_=(d,A)=>{const O=new CustomEvent(o,{detail:{keyboardHeight:A?A.keyboardHeight:d.innerHeight-n.height}});d.dispatchEvent(O)},y=d=>{const A=new CustomEvent(r);d.dispatchEvent(A)},h=d=>{u=Object.assign({},n),n=f(d.visualViewport)},f=d=>({width:Math.round(d.width),height:Math.round(d.height),offsetTop:d.offsetTop,offsetLeft:d.offsetLeft,pageTop:d.pageTop,pageLeft:d.pageLeft,scale:d.scale})},7741:(D,T,c)=>{c.d(T,{S:()=>r});const r={bubbles:{dur:1e3,circles:9,fn:(a,u,n)=>{const i=a*u/n-a+"ms",e=2*Math.PI*u/n;return{r:5,style:{top:9*Math.sin(e)+"px",left:9*Math.cos(e)+"px","animation-delay":i}}}},circles:{dur:1e3,circles:8,fn:(a,u,n)=>{const i=u/n,e=a*i-a+"ms",t=2*Math.PI*i;return{r:5,style:{top:9*Math.sin(t)+"px",left:9*Math.cos(t)+"px","animation-delay":e}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(a,u)=>({r:6,style:{left:9-9*u+"px","animation-delay":-110*u+"ms"}})},lines:{dur:1e3,lines:8,fn:(a,u,n)=>({y1:14,y2:26,style:{transform:`rotate(${360/n*u+(u<n/2?180:-180)}deg)`,"animation-delay":a*u/n-a+"ms"}})},"lines-small":{dur:1e3,lines:8,fn:(a,u,n)=>({y1:12,y2:20,style:{transform:`rotate(${360/n*u+(u<n/2?180:-180)}deg)`,"animation-delay":a*u/n-a+"ms"}})},"lines-sharp":{dur:1e3,lines:12,fn:(a,u,n)=>({y1:17,y2:29,style:{transform:`rotate(${30*u+(u<6?180:-180)}deg)`,"animation-delay":a*u/n-a+"ms"}})},"lines-sharp-small":{dur:1e3,lines:12,fn:(a,u,n)=>({y1:12,y2:20,style:{transform:`rotate(${30*u+(u<6?180:-180)}deg)`,"animation-delay":a*u/n-a+"ms"}})}}},6546:(D,T,c)=>{c.r(T),c.d(T,{createSwipeBackGesture:()=>n});var o=c(3756),r=c(5062),a=c(3139);c(3509);const n=(i,e,t,s,l)=>{const p=i.ownerDocument.defaultView,g=(0,r.i)(i),w=d=>g?-d.deltaX:d.deltaX;return(0,a.createGesture)({el:i,gestureName:"goback-swipe",gesturePriority:40,threshold:10,canStart:d=>(d=>{const{startX:x}=d;return g?x>=p.innerWidth-50:x<=50})(d)&&e(),onStart:t,onMove:d=>{const x=w(d)/p.innerWidth;s(x)},onEnd:d=>{const A=w(d),x=p.innerWidth,O=A/x,R=(d=>g?-d.velocityX:d.velocityX)(d),b=R>=0&&(R>.2||A>x/2),v=(b?1-O:O)*x;let C=0;if(v>5){const M=v/Math.abs(R);C=Math.min(M,540)}l(b,O<=0?.01:(0,o.l)(0,O,.9999),C)}})}},2854:(D,T,c)=>{c.d(T,{c:()=>a,g:()=>n,h:()=>r,o:()=>e});var o=c(5861);const r=(t,s)=>null!==s.closest(t),a=(t,s)=>"string"==typeof t&&t.length>0?Object.assign({"ion-color":!0,[`ion-color-${t}`]:!0},s):s,n=t=>{const s={};return(t=>void 0!==t?(Array.isArray(t)?t:t.split(" ")).filter(l=>null!=l).map(l=>l.trim()).filter(l=>""!==l):[])(t).forEach(l=>s[l]=!0),s},i=/^[a-z][a-z0-9+\-.]*:/,e=function(){var t=(0,o.Z)(function*(s,l,p,g){if(null!=s&&"#"!==s[0]&&!i.test(s)){const E=document.querySelector("ion-router");if(E)return l?.preventDefault(),E.push(s,p,g)}return!1});return function(l,p,g,E){return t.apply(this,arguments)}}()},744:(D,T,c)=>{c.d(T,{M:()=>o});let o=(()=>{class r{}return r.COURSES="courses",r.ORDERS="orders",r.STUDENTS="students",r.TESTS="tests",r.MEDIA="media",r.SCHEDULES="schedules",r.QUESTION_PAPERS="question_papers",r.VALUED_ANSWER_SHEET="valued_answer_sheets",r.ANSWER_SHEET="answer_sheets",r.STUDENT_ACTIVITY="student_activity",r.NOTIFICATIONS="notifications",r.CHAT_ROOM="chat_room",r.MESSAGES="messages",r})()},7800:(D,T,c)=>{c.r(T),c.d(T,{AddTestPageModule:()=>w});var o=c(6895),r=c(433),a=c(2346),u=c(9461),n=c(8274),i=c(9244),e=c(6857),t=c(9763);function s(_,y){1&_&&(n.TgZ(0,"ion-datetime",17,18)(2,"div",19),n._uU(3,"Select Start Time"),n.qZA()())}function l(_,y){1&_&&(n.TgZ(0,"ion-datetime",20,21)(2,"div",19),n._uU(3,"Select End Time"),n.qZA()())}const g=[{path:"",component:(()=>{class _{constructor(h,f,d,A){this.fb=h,this.dataService=f,this.stateService=d,this.commonService=A,this.status="Add",this.course=null,this.dateValue="",this.course=this.stateService.getData("course")||{},this.createForm()}ngOnInit(){}createForm(){this.testForm=this.fb.group({course_id:new r.p4(this.course.id,r.kI.compose([r.kI.required])),title:new r.p4(null,r.kI.compose([r.kI.required])),description:new r.p4(null),start_date:new r.p4(null,r.kI.compose([r.kI.required])),end_date:new r.p4(null,r.kI.compose([r.kI.required])),id:new r.p4(null),created_at:new r.p4(null),updated_at:new r.p4(null)})}addTest(){console.log(this.testForm.value);const h=this.testForm.value;delete h.id,delete h.created_at,delete h.updated_at,this.dataService.addTest({...this.testForm.value}).then(f=>{f.id&&(this.testForm.reset(),this.testForm.patchValue({course_id:this.course.id}))},f=>{console.error("Error while adding the test:::::\n",f)})}back(){this.commonService.navigateBack("gurukul/courses/tests")}}return _.\u0275fac=function(h){return new(h||_)(n.Y36(r.QS),n.Y36(i.D),n.Y36(e.b),n.Y36(t.v))},_.\u0275cmp=n.Xpm({type:_,selectors:[["app-add-test"]],decls:45,vars:12,consts:[["slot","start"],["icon","chevron-back-outline","defaultHref","gurukul/courses/tests"],[1,"ion-padding"],[3,"formGroup","submit"],["size","12","size-md","6","size-lg","4","size-xl","3"],["color","light","lines","none"],["position","floating"],["readonly","","disabled","",3,"value"],["type","text","formControlName","title"],["type","text","formControlName","description"],["id","start-date","lines","none","color","light"],["slot","end"],["trigger","start-date","show-backdrop","false"],["id","end-date","lines","none","color","light"],["trigger","end-date","show-backdrop","false"],["size","12","size-md","6","size-lg","4","size-xl","3",1,"ion-text-center"],["type","submit","shape","round",3,"disabled"],["presentation","time","hourCycle","h12","formControlName","start_date"],["startDateTime",""],["slot","title"],["presentation","time","hourCycle","h12","formControlName","end_date"],["startEndTime",""]],template:function(h,f){1&h&&(n.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),n._UZ(3,"ion-back-button",1),n.qZA(),n.TgZ(4,"ion-title"),n._uU(5),n.qZA()()(),n.TgZ(6,"ion-content",2)(7,"form",3),n.NdJ("submit",function(){return f.addTest()}),n.TgZ(8,"ion-row")(9,"ion-col",4)(10,"ion-item",5)(11,"ion-label",6),n._uU(12,"Course Name"),n.qZA(),n._UZ(13,"ion-input",7),n.qZA()(),n.TgZ(14,"ion-col",4)(15,"ion-item",5)(16,"ion-label",6),n._uU(17,"Test Name"),n.qZA(),n._UZ(18,"ion-input",8),n.qZA()(),n.TgZ(19,"ion-col",4)(20,"ion-item",5)(21,"ion-label",6),n._uU(22,"Description"),n.qZA(),n._UZ(23,"ion-input",9),n.qZA()(),n.TgZ(24,"ion-col",4)(25,"ion-item",10)(26,"ion-label"),n._uU(27,"Start Time"),n.qZA(),n.TgZ(28,"ion-text",11),n._uU(29),n.ALo(30,"date"),n.qZA(),n.TgZ(31,"ion-popover",12),n.YNc(32,s,4,0,"ng-template"),n.qZA()()(),n.TgZ(33,"ion-col",4)(34,"ion-item",13)(35,"ion-label"),n._uU(36,"End Time"),n.qZA(),n.TgZ(37,"ion-text",11),n._uU(38),n.ALo(39,"date"),n.qZA(),n.TgZ(40,"ion-popover",14),n.YNc(41,l,4,0,"ng-template"),n.qZA()()(),n.TgZ(42,"ion-col",15)(43,"ion-button",16),n._uU(44,"Submit"),n.qZA()()()()()),2&h&&(n.xp6(5),n.hij("",f.status," Test"),n.xp6(2),n.Q6J("formGroup",f.testForm),n.xp6(6),n.Q6J("value",f.course.title),n.xp6(16),n.Oqu(n.xi3(30,6,f.testForm.value.start_date,"hh:mm a")),n.xp6(9),n.Oqu(n.xi3(39,9,f.testForm.value.end_date,"hh:mm a")),n.xp6(5),n.Q6J("disabled",f.testForm.invalid))},dependencies:[r._Y,r.JJ,r.JL,r.sg,r.u,a.oU,a.YG,a.Sm,a.wI,a.W2,a.x4,a.Gu,a.pK,a.Ie,a.Q$,a.d8,a.Nd,a.yW,a.sr,a.wd,a.QI,a.j9,a.cs,o.uU],styles:["ion-item[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-light)) !important;border-radius:5px}.sc-ion-input-md-h[_ngcontent-%COMP%]{--placeholder-color: var(--ion-color-medium) !important}"]}),_})()}];let E=(()=>{class _{}return _.\u0275fac=function(h){return new(h||_)},_.\u0275mod=n.oAB({type:_}),_.\u0275inj=n.cJS({imports:[u.Bz.forChild(g),u.Bz]}),_})(),w=(()=>{class _{}return _.\u0275fac=function(h){return new(h||_)},_.\u0275mod=n.oAB({type:_}),_.\u0275inj=n.cJS({imports:[o.ez,r.u5,r.UX,a.Pc,E]}),_})()},620:(D,T,c)=>{c.r(T),c.d(T,{TestsPageModule:()=>R});var o=c(6895),r=c(433),a=c(2346),u=c(9461),n=c(5861),i=c(744),e=c(8274),t=c(9244),s=c(6857),l=c(6578),p=c(9763),g=c(5014);function E(S,b){if(1&S){const m=e.EpF();e.TgZ(0,"ion-buttons",17)(1,"ion-button",18),e.NdJ("click",function(){e.CHM(m);const C=e.oxw(2);return e.KtG(C.deleteSchedule())}),e._UZ(2,"ion-icon",19),e.qZA()()}}function w(S,b){if(1&S){const m=e.EpF();e.TgZ(0,"div",8)(1,"ion-toolbar",9)(2,"ion-title",10),e._uU(3),e.qZA(),e.YNc(4,E,3,0,"ion-buttons",11),e.qZA(),e.TgZ(5,"pdf-viewer",12),e.NdJ("page",function(){return 0})("page-rendered",function(C){e.CHM(m);const M=e.oxw();return e.KtG(M.pageRendered(C))}),e.qZA(),e.TgZ(6,"ion-buttons",13)(7,"ion-button",14),e.NdJ("click",function(){e.CHM(m);const C=e.oxw();return e.KtG(C.zoomIn())}),e._UZ(8,"ion-icon",15),e.qZA(),e.TgZ(9,"ion-button",14),e.NdJ("click",function(){e.CHM(m);const C=e.oxw();return e.KtG(C.zoomOut())}),e._UZ(10,"ion-icon",16),e.qZA()()()}if(2&S){const m=e.oxw();e.xp6(3),e.hij(" ",(null==m.schedule?null:m.schedule.name)||"Schedule Name"," "),e.xp6(1),e.Q6J("ngIf",(null==m.schedule?null:m.schedule.name.length)>0),e.xp6(1),e.Q6J("src",(null==m.schedule?null:m.schedule.file_url)||"../../../../assets/no_schedule.pdf")("zoom",m.zoom)("render-text",!0)("original-size",!1)}}function _(S,b){if(1&S){const m=e.EpF();e.TgZ(0,"ion-buttons",34)(1,"ion-button",18),e.NdJ("click",function(C){e.CHM(m);const M=e.oxw().$implicit,I=e.oxw(2);return e.KtG(I.deleteTest(C,M))}),e._UZ(2,"ion-icon",35),e.qZA()()}}const y=function(S){return{"disable-without-events":S}};function h(S,b){if(1&S){const m=e.EpF();e.TgZ(0,"ion-col",27)(1,"ion-item",28),e.NdJ("click",function(){const M=e.CHM(m).$implicit,I=e.oxw(2);return e.KtG("DELETED"===M.status?"":I.openTest(M))}),e.TgZ(2,"ion-label",29)(3,"h2",30),e._uU(4),e.qZA(),e.TgZ(5,"ion-item",31)(6,"ion-button",32),e.NdJ("click",function(C){const I=e.CHM(m).$implicit,P=e.oxw(2);return e.KtG(P.deactivateTest(C,I))}),e._uU(7),e.qZA(),e.YNc(8,_,3,0,"ion-buttons",33),e.qZA()()()()}if(2&S){const m=b.$implicit;e.xp6(1),e.Q6J("ngClass",e.VKq(5,y,"DELETED"===m.status)),e.xp6(3),e.hij(" ",m.title," "),e.xp6(2),e.Q6J("color","ACTIVE"===m.status?"primary":"medium"),e.xp6(1),e.hij(" ","ACTIVE"===m.status?"Active":"Inactive",""),e.xp6(1),e.Q6J("ngIf","DELETED"!==m.status)}}function f(S,b){if(1&S){const m=e.EpF();e.TgZ(0,"div",8)(1,"ion-header",20)(2,"ion-toolbar")(3,"ion-title",21),e._uU(4,"Tests"),e.qZA()()(),e.TgZ(5,"ion-grid",22)(6,"ion-row",23),e.YNc(7,h,9,7,"ion-col",24),e.qZA()(),e.TgZ(8,"ion-fab",25)(9,"ion-fab-button",14),e.NdJ("click",function(){e.CHM(m);const C=e.oxw();return e.KtG(C.addTest())}),e._UZ(10,"ion-icon",26),e.qZA()()()}if(2&S){const m=e.oxw();e.xp6(7),e.Q6J("ngForOf",m.tests)("ngForTrackBy",m.trackByFn)}}function d(S,b){if(1&S){const m=e.EpF();e.TgZ(0,"ion-footer")(1,"ion-toolbar")(2,"input",36,37),e.NdJ("change",function(C){e.CHM(m);const M=e.oxw();return e.KtG(M.uploadSchedule(C))}),e.qZA(),e.TgZ(4,"ion-button",38),e.NdJ("click",function(){e.CHM(m);const C=e.MAs(3);return e.KtG(C.click())}),e.TgZ(5,"span",39),e._uU(6,"Upload Schedule"),e.qZA()()()()}}const x=[{path:"",component:(()=>{class S{constructor(m,v,C,M,I,P,L){this.cd=m,this.dataService=v,this.stateService=C,this.storageService=M,this.loadingCtrl=I,this.commonService=P,this.modalCtrl=L,this.tests=[],this.course=null,this.schedule=null,this.segment="schedule",this.zoom=1,this.testSubscription=null,this.course=this.stateService.getData("course"),this.testSubscription=this.dataService.getTests(this.course.id).subscribe(B=>{this.tests=B,this.cd.detectChanges()}),this.dataService.getScheduleByCourseId(this.course?.id).subscribe(B=>{this.schedule=B[0],this.zoom="schedule"===this.segment?1:this.zoom,this.cd.detectChanges()})}ngOnInit(){}uploadSchedule(m){var v=this;return(0,n.Z)(function*(){const C=m.target.files[0],M=yield v.loadingCtrl.create({message:"Uploading schedule"});M.present();try{const I={file:C,name:v.course?.id+"_G_"+C.name,course_id:v.course.id},P=yield v.storageService.pushFileToStorage(I,`uploads/schedule/${I.name}`);if(P&&P.file_url){const L={file_url:P.file_url,type:v.commonService.getExtension(C.name),name:C.name,course_id:v.course.id};v.commonService.isValidData(v.schedule?.id)&&(L.id=v.schedule.id),v.dataService.update(i.M.SCHEDULES,L).then(B=>{M.dismiss()},B=>{M.dismiss(),console.error("Error while uploading schdule:::::::::::\n",{...B}),("not-found"===B.code||"invalid-argument"===B.code)&&v.dataService.add(i.M.SCHEDULES,L).then(k=>{v.dataService.getScheduleByCourseId(v.course?.id).subscribe(U=>{v.schedule=U[0]})},k=>{console.error("Error while adding schdule:::::::::::\n",k)})})}else console.error("Error while uploading schdule:::::::::::\n",P),M.dismiss()}catch(I){console.error("Exception while uploading schdule:::::::::::\n",I,{...I}),M.dismiss()}})()}pageRendered(m){}zoomIn(){this.zoom=0===this.zoom?1:this.zoom+1}zoomOut(){this.zoom=this.zoom-1,0===this.zoom&&(this.zoom=1)}addTest(){var m=this;return(0,n.Z)(function*(){m.commonService.navigateForward("add-test")})()}openTest(m){var v=this;return(0,n.Z)(function*(){v.stateService.setData("test",m),v.commonService.navigateForward("test")})()}deleteSchedule(){const m={...this.schedule};this.dataService.delete(i.M.SCHEDULES,{id:m.id}).then(v=>{this.storageService.deleteFile("uploads/schedule/"+this.course?.id+"_G_"+m.name)},v=>{console.error("Error while deleting schdule:::::::::::\n",v)})}deactivateTest(m,v){m.stopPropagation(),this.dataService.updateTest(v.id,{status:"INACTIVE"===v.status?"ACTIVE":"INACTIVE"}).then(M=>{},M=>{console.error("Error wjile deleteing course::::::::::\n",M)})}deleteTest(m,v){m.stopPropagation(),this.dataService.updateTest(v.id,{status:"DELETED"}).then(C=>{},C=>{console.error("Error wjile deleteing course::::::::::\n",C)})}trackByFn(m,v){return v.id}ngOnDestory(){this.testSubscription?.unsubscribe()}}return S.\u0275fac=function(m){return new(m||S)(e.Y36(e.sBO),e.Y36(t.D),e.Y36(s.b),e.Y36(l.V),e.Y36(a.HT),e.Y36(p.v),e.Y36(a.IN))},S.\u0275cmp=e.Xpm({type:S,selectors:[["app-tests"]],decls:18,vars:5,consts:[["slot","start"],["icon","chevron-back-outline","defaultHref","gurukul/courses"],["value","all","color","medium","scrollable","true","mode","md",3,"ngModel","ngModelChange"],["value","schedule"],["value","tests"],[3,"fullscreen"],["class","w-100 h-100 position-relative",4,"ngIf"],[4,"ngIf"],[1,"w-100","h-100","position-relative"],["color","light"],[1,"size-14","fw-bold","m-0","p-3","ion-border"],["slot","end",4,"ngIf"],[1,"d-block","w-100",2,"height","calc(100% - 53px)","background","var(--ion-color-medium)",3,"src","zoom","render-text","original-size","page","page-rendered"],[1,"position-absolute","zoom-btns","rounded-pill","shadow"],[3,"click"],["slot","icon-only","name","add-circle-outline",1,"size-48"],["slot","icon-only","name","remove-circle-outline",1,"size-48"],["slot","end"],["color","danger",3,"click"],["name","trash-outline","slot","icon-only"],["collapse","condense"],["size","large"],[1,"ion-no-padding"],[1,""],["size","6","size-lg","4","size-xl","3",4,"ngFor","ngForOf","ngForTrackBy"],["vertical","bottom","horizontal","end","slot","fixed"],["name","add"],["size","6","size-lg","4","size-xl","3"],["color","white","lines","none",1,"border-right","border-bottom","ion-no-padding","p-2","pl-3","h-100",2,"--inner-padding-end","0",3,"ngClass","click"],[1,"ion-text-wrap","mb-0"],[1,"fw-semi-bold"],["lines","none",1,"ion-no-padding",2,"--inner-padding-end","0"],["size","small",3,"color","click"],["class","m-0","slot","end",4,"ngIf"],["slot","end",1,"m-0"],["slot","icon-only","name","trash-outline"],["type","file","id","fileInput","accept","application/pdf",3,"change"],["f",""],["for","fileInput","expand","full","size","large",1,"ion-no-margin",3,"click"],[2,"font-size","14px"]],template:function(m,v){1&m&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e._UZ(3,"ion-back-button",1),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5," Tests "),e.qZA()(),e.TgZ(6,"ion-toolbar")(7,"ion-segment",2),e.NdJ("ngModelChange",function(M){return v.segment=M}),e.TgZ(8,"ion-segment-button",3)(9,"ion-label"),e._uU(10,"Schedule"),e.qZA()(),e.TgZ(11,"ion-segment-button",4)(12,"ion-label"),e._uU(13,"Tests"),e.qZA()()()()(),e.TgZ(14,"ion-content",5),e.YNc(15,w,11,6,"div",6),e.YNc(16,f,11,2,"div",6),e.qZA(),e.YNc(17,d,7,0,"ion-footer",7)),2&m&&(e.xp6(7),e.Q6J("ngModel",v.segment),e.xp6(7),e.Q6J("fullscreen",!0),e.xp6(1),e.Q6J("ngIf","schedule"===v.segment),e.xp6(1),e.Q6J("ngIf","tests"===v.segment),e.xp6(1),e.Q6J("ngIf","schedule"===v.segment))},dependencies:[o.mk,o.sg,o.O5,r.JJ,r.On,a.oU,a.YG,a.Sm,a.wI,a.W2,a.IJ,a.W4,a.fr,a.jY,a.Gu,a.gu,a.Ie,a.Q$,a.Nd,a.cJ,a.GO,a.sr,a.wd,a.QI,a.cs,g.rQ],styles:["#fileInput[_ngcontent-%COMP%], #uploadReview[_ngcontent-%COMP%]{position:absolute;opacity:0}.zoom-btns[_ngcontent-%COMP%]{bottom:20px;right:20px;z-index:99;background:var(--ion-color-light)}"]}),S})()}];let O=(()=>{class S{}return S.\u0275fac=function(m){return new(m||S)},S.\u0275mod=e.oAB({type:S}),S.\u0275inj=e.cJS({imports:[u.Bz.forChild(x),u.Bz]}),S})(),R=(()=>{class S{}return S.\u0275fac=function(m){return new(m||S)},S.\u0275mod=e.oAB({type:S}),S.\u0275inj=e.cJS({imports:[o.ez,r.u5,a.Pc,g.xC,O]}),S})()},1228:(D,T,c)=>{c.d(T,{e:()=>u});var o=c(5861),r=c(7323),a=c(8274);let u=(()=>{class n{constructor(e){this.auth=e}register({email:e,password:t}){var s=this;return(0,o.Z)(function*(){try{return yield(0,r.Xb)(s.auth,e,t)}catch{return null}})()}login({email:e,password:t}){var s=this;return(0,o.Z)(function*(){try{return yield(0,r.e5)(s.auth,e,t)}catch(l){return{...l}}})()}logout(){return(0,r.w7)(this.auth)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(r.gx))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},9763:(D,T,c)=>{c.d(T,{v:()=>a});var o=c(8274),r=c(2346);let a=(()=>{class u{constructor(i,e,t){this.loadingCtrl=i,this.toastCtrl=e,this.navCtrl=t,this.loading=null}presentLoader(i="Please wait..."){this.loadingCtrl.create({message:i,backdropDismiss:!1,cssClass:"pointer-events-none"}).then(e=>{this.loading=e,this.loading.present()})}dismissLoading(){}dismissLoader(){setTimeout(()=>{this.loadingCtrl.getTop().then(i=>{i?.dismiss()}),this.loading?.dismiss()},100)}presentToast(i="Please wait...",e="primary",t=3e3){this.toastCtrl.create({cssClass:"",color:e,duration:t,message:i}).then(s=>{s.present()},s=>{console.error("Error while toasting message",s)})}isValidData(i){return null!=i&&""!==i&&i!==[]&&0!==Object.keys(i).length}getExtension(i){let e=i.split(/[]/)[0].split(".").pop().trim();return["jpg","jpeg","png","gif","tiff","svg"].includes(e.toLowerCase())?e="image":["mp3","m4a","acc","ogg","wma","flac","alac"].includes(e.toLowerCase())?e="audio":["3gp","mp4","mov","wmv","flv","avi","avchd","webm","mkv"].includes(e.toLowerCase())?e="video":["zip","rar"].includes(e.toLowerCase())&&(e="archive"),e.toLowerCase()}navigateForward(i,e={}){this.navCtrl.navigateForward(i,e)}navigateBack(i,e={}){this.navCtrl.navigateBack(i,e)}navigateRoot(i,e={}){this.navCtrl.setDirection("root"),this.navCtrl.navigateRoot(i,e)}}return u.\u0275fac=function(i){return new(i||u)(o.LFG(r.HT),o.LFG(r.yF),o.LFG(r.SH))},u.\u0275prov=o.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},9244:(D,T,c)=>{c.d(T,{D:()=>u});var o=c(3725),r=c(744),a=c(8274);let u=(()=>{class n{constructor(e){this.firestore=e}get(e){const t=(0,o.hJ)(this.firestore,e),s=(0,o.IO)(t,(0,o.Xo)("created_at","asc"));return(0,o.BS)(s,{idField:"id"})}getById(e,t){const s=(0,o.JU)(this.firestore,e+`/${t}`);return(0,o._1)(s,{idField:"id"})}getByUID(e,t){console.log(e,t);const s=(0,o.hJ)(this.firestore,e),l=(0,o.IO)(s,(0,o.ar)("uid","==",t),(0,o.Xo)("created_at","asc"));return(0,o.BS)(l,{idField:"id"})}add(e,t){const s=(0,o.hJ)(this.firestore,e);return(0,o.ET)(s,{...t,created_at:(0,o.Bt)()})}delete(e,t){const s=(0,o.JU)(this.firestore,e+`/${t.id}`);return e===r.M.MEDIA||e===r.M.MEDIA?(0,o.r7)(s,{media:(0,o.Ab)(t?.media),updated_at:(0,o.Bt)()}):(0,o.oe)(s)}update(e,t){const s=(0,o.JU)(this.firestore,e+`/${t.id}`);return(0,o.r7)(s,e===r.M.MEDIA||e===r.M.MEDIA?{media:(0,o.vr)(...t?.media),updated_at:(0,o.Bt)()}:{...t,updated_at:(0,o.Bt)()})}getCourses(){const e=(0,o.hJ)(this.firestore,"courses");return(0,o.BS)(e,{idField:"id"})}getCourseById(e){const t=(0,o.JU)(this.firestore,`courses/${e}`);return(0,o._1)(t,{idField:"id"})}addCourse(e){const t=(0,o.hJ)(this.firestore,"courses");return(0,o.ET)(t,{...e,created_at:(0,o.Bt)()})}deleteCourse(e){const t=(0,o.JU)(this.firestore,`courses/${e}`);return(0,o.oe)(t)}updateCourse(e,t){const s=(0,o.JU)(this.firestore,`courses/${e}`);return(0,o.r7)(s,{...t,updated_at:(0,o.Bt)()})}getTests(e){const t=(0,o.hJ)(this.firestore,"tests"),s=(0,o.IO)(t,(0,o.ar)("course_id","==",e||""));return(0,o.BS)(s,{idField:"id"})}getAnswerSheets(e){const t=(0,o.hJ)(this.firestore,r.M.ANSWER_SHEET),s=(0,o.IO)(t,(0,o.ar)("test_id","==",e||""));return(0,o.BS)(s,{idField:"id"})}getValuedAnswerSheet(e){const t=(0,o.hJ)(this.firestore,r.M.VALUED_ANSWER_SHEET),s=(0,o.IO)(t,(0,o.ar)("test_id","==",e||""));return(0,o.BS)(s,{idField:"id"})}getRemarksByTestId(e,t){const s=(0,o.hJ)(this.firestore,r.M.STUDENT_ACTIVITY),l=(0,o.IO)(s,(0,o.ar)("test_id","==",e||""),(0,o.ar)("student_id","==",t||""));return(0,o.BS)(l,{idField:"id"})}getScheduleByCourseId(e){const t=(0,o.hJ)(this.firestore,r.M.SCHEDULES),s=(0,o.IO)(t,(0,o.ar)("course_id","==",e));return(0,o.BS)(s,{idField:"id"})}getScheduleByTestId(e){const t=(0,o.hJ)(this.firestore,r.M.SCHEDULES),s=(0,o.IO)(t,(0,o.ar)("test_id","==",e||""));return(0,o.BS)(s,{idField:"id"})}getQuestionPaperByTestId(e){const t=(0,o.hJ)(this.firestore,r.M.QUESTION_PAPERS),s=(0,o.IO)(t,(0,o.ar)("test_id","==",e||""));return(0,o.BS)(s,{idField:"id"})}getTestById(e){const t=(0,o.JU)(this.firestore,`tests/${e}`);return(0,o._1)(t,{idField:"id"})}addTest(e){const t=(0,o.hJ)(this.firestore,"tests");return(0,o.ET)(t,{...e,created_at:(0,o.Bt)()})}deleteTest(e){const t=(0,o.JU)(this.firestore,`tests/${e.id}`);return(0,o.oe)(t)}updateTest(e,t){const s=(0,o.JU)(this.firestore,`tests/${e}`);return(0,o.r7)(s,{...t,updated_at:(0,o.Bt)()})}getOrders(){const e=(0,o.hJ)(this.firestore,"orders");return(0,o.BS)(e,{idField:"id"})}getActiveOrdersWithStudentId(e){const t=(0,o.hJ)(this.firestore,r.M.ORDERS),s=(0,o.IO)(t,(0,o.ar)("student_id","==",e||""),(0,o.ar)("status","==",!0));return(0,o.BS)(s,{idField:"id"})}getOrderById(e){const t=(0,o.JU)(this.firestore,`orders/${e}`);return(0,o._1)(t,{idField:"id"})}addOrder(e){const t=(0,o.hJ)(this.firestore,"orders");return(0,o.ET)(t,{...e,created_at:(0,o.Bt)()})}deleteOrder(e){const t=(0,o.JU)(this.firestore,`orders/${e.id}`);return(0,o.oe)(t)}updateOrder(e){const t=(0,o.JU)(this.firestore,`orders/${e.id}`);return(0,o.r7)(t,{...e,updated_at:(0,o.Bt)()})}getRegisteredStudents(){const e=(0,o.hJ)(this.firestore,r.M.STUDENTS);return(0,o.BS)(e,{idField:"id"})}getSubscribedStudents(){const e=(0,o.hJ)(this.firestore,r.M.STUDENTS);return(0,o.BS)(e,{idField:"id"})}getNotifications(){const e=(0,o.hJ)(this.firestore,r.M.NOTIFICATIONS);return(0,o.BS)(e,{idField:"id"})}getUnreadNotifications(){const e=(0,o.hJ)(this.firestore,r.M.NOTIFICATIONS),t=(0,o.IO)(e,(0,o.ar)("status","==","unread"));return(0,o.BS)(t,{idField:"id"})}getChats(){const e=(0,o.hJ)(this.firestore,r.M.CHAT_ROOM),t=(0,o.IO)(e,(0,o.Xo)("updated_at","desc"));return(0,o.BS)(t,{idField:"id"})}getMessages(e){const t=(0,o.hJ)(this.firestore,r.M.MESSAGES),s=(0,o.IO)(t,(0,o.ar)("chat_id","==",e),(0,o.Xo)("created_at","asc"));return(0,o.BS)(s,{idField:"id"})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(o.gg))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},6857:(D,T,c)=>{c.d(T,{b:()=>r});var o=c(8274);let r=(()=>{class a{constructor(){this._data={}}getData(n){return this._data[n]}setData(n,i){this._data[n]=i}}return a.\u0275fac=function(n){return new(n||a)},a.\u0275prov=o.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()}}]);